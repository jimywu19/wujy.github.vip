<!DOCTYPE html>
<html lang="en" class="color-toggle-hidden">
  <head>
    <meta charset="UTF-8" />
<meta name="referrer" content="no-referrer" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="color-scheme" content="light dark" />
<meta name="generator" content="Hugo 0.99.1" />


  <meta name="description" content="Comprehensive Python Cheatsheet     Download text file, Buy PDF, Fork me on GitHub or Check out FAQ. Contents       1. Collections:   List, Dictionary, Set, Tuple, Range, Enumerate, Iterator, Generator.
  2. Types:   Type, String, Regular_Exp, Format, Numbers, Combinatorics, Datetime.
  3. Syntax:   Args, Inline, Closure, Decorator, Class, Duck_Type, Enum, Exception.
  4. System:   Exit, Print, Input, Command_Line_Arguments, Open, Path, OS_Commands." />

    <title>Python_cheat_sheet | Jimywu&#39;s Hugo Site</title>

    <link rel="icon" type="image/svg+xml" href="/favicon/favicon.svg" />
<link
  rel="icon"
  type="image/png"
  sizes="32x32"
  href="/favicon/favicon-32x32.png"
/>
<link
  rel="icon"
  type="image/png"
  sizes="16x16"
  href="/favicon/favicon-16x16.png"
/>

    

    
  <meta
    property="og:title"
    content="Python_cheat_sheet"
  />
  <meta property="og:site_name" content="Jimywu's Hugo Site" />
  <meta property="og:description" content="Comprehensive Python Cheatsheet     Download text file, Buy PDF, Fork me on GitHub or Check out FAQ. Contents       1. Collections:   List, Dictionary, Set, Tuple, Range, Enumerate, Iterator, Generator.
  2. Types:   Type, String, Regular_Exp, Format, Numbers, Combinatorics, Datetime.
  3. Syntax:   Args, Inline, Closure, Decorator, Class, Duck_Type, Enum, Exception.
  4. System:   Exit, Print, Input, Command_Line_Arguments, Open, Path, OS_Commands." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.wujy.vip/python/python_cheat_sheet/" />

<meta property="article:section" content="Python" />
    <meta
      property="article:published_time"
      content="2022-05-20T11:05:57+08:00"
    />
    <meta
      property="article:modified_time"
      content="2022-05-20T11:05:57+08:00"
    />


  <meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Python_cheat_sheet" />
  <meta name="twitter:description" content="Comprehensive Python Cheatsheet     Download text file, Buy PDF, Fork me on GitHub or Check out FAQ. Contents       1. Collections:   List, Dictionary, Set, Tuple, Range, Enumerate, Iterator, Generator.
  2. Types:   Type, String, Regular_Exp, Format, Numbers, Combinatorics, Datetime.
  3. Syntax:   Args, Inline, Closure, Decorator, Class, Duck_Type, Enum, Exception.
  4. System:   Exit, Print, Input, Command_Line_Arguments, Open, Path, OS_Commands." />


  <script type="application/ld+json">
  {
      "@context": "http://schema.org",
      "@type": "TechArticle",
      "articleSection": "Python",
      "name": "Python_cheat_sheet",
      "url" : "https://blog.wujy.vip/python/python_cheat_sheet/",
      "headline": "Python_cheat_sheet",
      "description": "Comprehensive Python Cheatsheet     Download text file, Buy PDF, Fork me on GitHub or Check out FAQ. Contents       1. Collections:   List, Dictionary, Set, Tuple, Range, Enumerate, Iterator, Generator.\n  2. Types:   Type, String, Regular_Exp, Format, Numbers, Combinatorics, Datetime.\n  3. Syntax:   Args, Inline, Closure, Decorator, Class, Duck_Type, Enum, Exception.\n  4. System:   Exit, Print, Input, Command_Line_Arguments, Open, Path, OS_Commands.",
      "wordCount" : "11235",
      "inLanguage": "en",
      "isFamilyFriendly": "true",
      "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https://blog.wujy.vip/python/python_cheat_sheet/"
      },
      "copyrightHolder" : "Jimywu\u0027s Hugo Site",
      "copyrightYear" : "2022",
      "dateCreated": "2022-05-20T11:05:57.00Z",
      "datePublished": "2022-05-20T11:05:57.00Z",
      "dateModified": "2022-05-20T11:05:57.00Z",
      "publisher":{
          "@type":"Organization",
          "name": "Jimywu's Hugo Site",
          "url": "https://blog.wujy.vip",
          "logo": {
              "@type": "ImageObject",
              "url": "https://blog.wujy.vip/brand.svg",
              "width":"32",
              "height":"32"
          }
      }
  }
  </script>


    <script src="/js/main-4f8bb62c.bundle.min.js"></script>

<link
  rel="preload"
  as="font"
  href="/fonts/Metropolis.woff2"
  type="font/woff2"
  crossorigin="anonymous"
/>
<link
  rel="preload"
  as="font"
  href="/fonts/LiberationSans.woff2"
  type="font/woff2"
  crossorigin="anonymous"
/>

<link
  rel="preload"
  href="/main-16edcf60.min.css"
  as="style"
/>
<link
  rel="stylesheet"
  href="/main-16edcf60.min.css"
  media="all"
/>

<link
  rel="preload"
  href="/mobile-467819cb.min.css"
  as="style"
/>
<link
  rel="stylesheet"
  href="/mobile-467819cb.min.css"
  media="screen and (max-width: 45rem)"
/>

<link
  rel="preload"
  href="/print-19966b38.min.css"
  as="style"
/>
<link
  rel="stylesheet"
  href="/print-19966b38.min.css"
  media="print"
/>

<link
  rel="preload"
  href="/custom.css"
  as="style"
/>
<link
  rel="stylesheet"
  href="/custom.css"
  media="all"
/>
  <link href="https://blog.wujy.vip/python/python_cheat_sheet/" rel="canonical" type="text/html" />

<!-- Made with Geekdoc theme https://github.com/thegeeklab/hugo-geekdoc -->

    

  </head>

  <body itemscope itemtype="https://schema.org/WebPage">
    
  <!-- geekdoc include: sprites/geekdoc.svg -->
  <svg class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><svg viewBox="-7.27 -7.27 38.55 38.55" id="gdoc_arrow_back" xmlns="http://www.w3.org/2000/svg"><path d="M24 10.526v2.947H5.755l8.351 8.421-2.105 2.105-12-12 12-12 2.105 2.105-8.351 8.421H24z"/></svg><svg viewBox="-7.27 -7.27 38.55 38.55" id="gdoc_arrow_left_alt" xmlns="http://www.w3.org/2000/svg"><path d="M5.965 10.526V6.035L0 12l5.965 5.965v-4.491H24v-2.947H5.965z"/></svg><svg viewBox="-7.27 -7.27 38.55 38.55" id="gdoc_arrow_right_alt" xmlns="http://www.w3.org/2000/svg"><path d="M18.035 10.526V6.035L24 12l-5.965 5.965v-4.491H0v-2.947h18.035z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_bitbucket" xmlns="http://www.w3.org/2000/svg"><path d="M15.905 13.355c.189 1.444-1.564 2.578-2.784 1.839-1.375-.602-1.375-2.784-.034-3.403 1.151-.705 2.818.223 2.818 1.564zm1.907-.361c-.309-2.44-3.076-4.056-5.328-3.042-1.426.636-2.389 2.148-2.32 3.747.086 2.097 2.08 3.815 4.176 3.626s3.729-2.234 3.472-4.331zm4.108-9.315c-.756-.997-2.045-1.169-3.179-1.358-3.214-.516-6.513-.533-9.727.034-1.066.172-2.269.361-2.939 1.323 1.1 1.031 2.664 1.186 4.073 1.358 2.544.327 5.156.344 7.699.017 1.426-.172 3.008-.309 4.073-1.375zm.979 17.788c-.481 1.684-.206 3.953-1.994 4.932-3.076 1.701-6.806 1.89-10.191 1.289-1.787-.327-3.884-.894-4.864-2.578-.43-1.65-.705-3.334-.98-5.018l.103-.275.309-.155c5.121 3.386 12.288 3.386 17.427 0 .808.241.206 1.22.189 1.805zM26.01 4.951c-.584 3.764-1.255 7.51-1.908 11.257-.189 1.1-1.255 1.719-2.148 2.183-3.214 1.615-6.96 1.89-10.483 1.512-2.389-.258-4.829-.894-6.771-2.389-.911-.705-.911-1.908-1.083-2.922-.602-3.523-1.289-7.046-1.719-10.604.206-1.547 1.942-2.217 3.231-2.698C6.848.654 8.686.362 10.508.19c3.884-.378 7.854-.241 11.618.859 1.341.395 2.784.945 3.695 2.097.412.533.275 1.203.189 1.805z"/></svg><svg viewBox="-7.27 -7.27 38.55 38.55" id="gdoc_bookmark" xmlns="http://www.w3.org/2000/svg"><path d="M15.268 4.392q.868 0 1.532.638t.664 1.506v17.463l-7.659-3.268-7.608 3.268V6.536q0-.868.664-1.506t1.532-.638h10.876zm4.34 14.144V4.392q0-.868-.638-1.532t-1.506-.664H6.537q0-.868.664-1.532T8.733 0h10.876q.868 0 1.532.664t.664 1.532v17.412z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_brightness_auto" xmlns="http://www.w3.org/2000/svg"><path d="M16.846 18.938h2.382L15.22 7.785h-2.44L8.772 18.938h2.382l.871-2.44h3.95zm7.087-9.062L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809zm-11.385 4.937L14 10.282l1.452 4.531h-2.904z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_brightness_dark" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079 0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565q-1.51 0-3.079.697 1.917.871 3.108 2.701T15.22 14t-1.191 4.037-3.108 2.701q1.568.697 3.079.697zm9.933-11.559L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_brightness_light" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079 0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565 8.743 8.743 6.565 14t2.178 5.257T14 21.435zm9.933-3.311v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809L27.999 14z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_check" xmlns="http://www.w3.org/2000/svg"><path d="M8.885 20.197L25.759 3.323l2.24 2.24L8.885 24.677 0 15.792l2.24-2.24z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_check_circle_outline" xmlns="http://www.w3.org/2000/svg"><path d="M14 25.239q4.601 0 7.92-3.319T25.239 14 21.92 6.08 14 2.761 6.08 6.08 2.761 14t3.319 7.92T14 25.239zM14 0q5.784 0 9.892 4.108T28 14t-4.108 9.892T14 28t-9.892-4.108T0 14t4.108-9.892T14 0zm6.441 7.822l1.972 1.972-11.239 11.239L4.207 14l1.972-1.972 4.995 4.995z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_cloud_off" xmlns="http://www.w3.org/2000/svg"><path d="M9.023 10.5H7q-1.914 0-3.281 1.395t-1.367 3.309 1.367 3.281T7 19.852h11.375zM3.5 4.976l1.477-1.477L24.5 23.022l-1.477 1.477-2.352-2.297H6.999q-2.898 0-4.949-2.051t-2.051-4.949q0-2.844 1.969-4.867t4.758-2.133zm19.086 5.578q2.242.164 3.828 1.832T28 16.351q0 3.008-2.461 4.758l-1.695-1.695q1.805-.984 1.805-3.063 0-1.422-1.039-2.461t-2.461-1.039h-1.75v-.602q0-2.68-1.859-4.539t-4.539-1.859q-1.531 0-2.953.711l-1.75-1.695Q11.431 3.5 14.001 3.5q2.953 0 5.496 2.078t3.09 4.977z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_code" xmlns="http://www.w3.org/2000/svg"><path d="M9.917 24.5a1.75 1.75 0 10-3.501.001 1.75 1.75 0 003.501-.001zm0-21a1.75 1.75 0 10-3.501.001A1.75 1.75 0 009.917 3.5zm11.666 2.333a1.75 1.75 0 10-3.501.001 1.75 1.75 0 003.501-.001zm1.75 0a3.502 3.502 0 01-1.75 3.026c-.055 6.581-4.721 8.039-7.82 9.023-2.898.911-3.846 1.349-3.846 3.117v.474a3.502 3.502 0 011.75 3.026c0 1.932-1.568 3.5-3.5 3.5s-3.5-1.568-3.5-3.5c0-1.294.711-2.424 1.75-3.026V6.526A3.502 3.502 0 014.667 3.5c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5a3.502 3.502 0 01-1.75 3.026v9.06c.93-.456 1.914-.766 2.807-1.039 3.391-1.075 5.323-1.878 5.359-5.687a3.502 3.502 0 01-1.75-3.026c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_copy" xmlns="http://www.w3.org/2000/svg"><path d="M23.502 25.438V7.626H9.562v17.812h13.94zm0-20.315q1.013 0 1.787.745t.774 1.757v17.812q0 1.013-.774 1.787t-1.787.774H9.562q-1.013 0-1.787-.774t-.774-1.787V7.625q0-1.013.774-1.757t1.787-.745h13.94zM19.689 0v2.562H4.438v17.812H1.936V2.562q0-1.013.745-1.787T4.438.001h15.251z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_dangerous" xmlns="http://www.w3.org/2000/svg"><path d="M21.802 19.833L15.969 14l5.833-5.833-1.969-1.969L14 12.031 8.167 6.198 6.198 8.167 12.031 14l-5.833 5.833 1.969 1.969L14 15.969l5.833 5.833zM19.833 0L28 8.167v11.666L19.833 28H8.167L0 19.833V8.167L8.167 0h11.666z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_date" xmlns="http://www.w3.org/2000/svg"><path d="M27.192 28.844V11.192H4.808v17.652h22.384zm0-25.689q1.277 0 2.253.976t.976 2.253v22.459q0 1.277-.976 2.216t-2.253.939H4.808q-1.352 0-2.291-.901t-.939-2.253V6.385q0-1.277.939-2.253t2.291-.976h1.577V.001h3.23v3.155h12.769V.001h3.23v3.155h1.577zm-3.155 11.267v3.155h-3.23v-3.155h3.23zm-6.46 0v3.155h-3.155v-3.155h3.155zm-6.384 0v3.155h-3.23v-3.155h3.23z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_download" xmlns="http://www.w3.org/2000/svg"><path d="M2.866 28.209h26.269v3.79H2.866v-3.79zm26.268-16.925L16 24.418 2.866 11.284h7.493V.001h11.283v11.283h7.493z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_email" xmlns="http://www.w3.org/2000/svg"><path d="M28.845 9.615v-3.23L16 14.422 3.155 6.385v3.23L16 17.577zm0-6.46q1.277 0 2.216.977T32 6.385v19.23q0 1.277-.939 2.253t-2.216.977H3.155q-1.277 0-2.216-.977T0 25.615V6.385q0-1.277.939-2.253t2.216-.977h25.69z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_error_outline" xmlns="http://www.w3.org/2000/svg"><path d="M14 25.239q4.601 0 7.92-3.319T25.239 14 21.92 6.08 14 2.761 6.08 6.08 2.761 14t3.319 7.92T14 25.239zM14 0q5.784 0 9.892 4.108T28 14t-4.108 9.892T14 28t-9.892-4.108T0 14t4.108-9.892T14 0zm-1.38 6.967h2.761v8.413H12.62V6.967zm0 11.239h2.761v2.826H12.62v-2.826z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_fire" xmlns="http://www.w3.org/2000/svg"><path d="M17.689 21.998q-.32.32-.8.576t-.864.384q-1.152.384-2.272.032t-1.888-.992q-.128-.128-.096-.256t.16-.192q1.216-.384 1.92-1.216t.96-1.792q.192-.896-.064-1.728t-.384-1.728q-.128-.704-.096-1.376t.288-1.312q0-.128.128-.128t.192.064q.384.832.992 1.472t1.28 1.216 1.216 1.248.672 1.568q.064.384.064.704.064.96-.32 1.92t-1.088 1.536zm3.84-10.944q-.768-.704-1.6-1.28t-1.6-1.344q-1.536-1.536-2.016-3.584t.16-4.16q.128-.32-.096-.544t-.544-.096q-.768.32-1.44.768t-1.312.896q-1.984 1.664-3.136 3.936T8.633 10.51t.8 5.088q0 .128.032.256t.032.256q0 .576-.512.832t-1.024-.192q-.128-.192-.192-.32-1.024-1.28-1.376-2.912t-.096-3.232q.064-.384-.288-.576t-.608.128q-1.28 1.664-1.856 3.68t-.448 4.064q0 .576.096 1.184t.288 1.184q.448 1.536 1.216 2.816 1.216 2.048 3.264 3.424t4.416 1.696q2.496.32 5.024-.256t4.448-2.304q1.408-1.344 2.208-3.104t.864-3.68-.704-3.712q-.064-.128-.096-.224t-.096-.224q-.576-1.088-1.28-1.984-.256-.384-.544-.704t-.672-.64z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_git" xmlns="http://www.w3.org/2000/svg"><path d="M27.472 12.753L15.247.529a1.803 1.803 0 00-2.55 0l-2.84 2.84 2.137 2.137a2.625 2.625 0 013.501 3.501l3.499 3.499a2.625 2.625 0 11-1.237 1.237l-3.499-3.499c-.083.04-.169.075-.257.106v7.3a2.626 2.626 0 11-1.75 0v-7.3a2.626 2.626 0 01-1.494-3.607L8.62 4.606l-8.09 8.09a1.805 1.805 0 000 2.551l12.225 12.224a1.803 1.803 0 002.55 0l12.168-12.168a1.805 1.805 0 000-2.551z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_github" xmlns="http://www.w3.org/2000/svg"><path d="M16 .394c8.833 0 15.999 7.166 15.999 15.999 0 7.062-4.583 13.062-10.937 15.187-.813.146-1.104-.354-1.104-.771 0-.521.021-2.25.021-4.396 0-1.5-.5-2.458-1.083-2.958 3.562-.396 7.312-1.75 7.312-7.896 0-1.75-.625-3.167-1.646-4.291.167-.417.708-2.042-.167-4.25-1.333-.417-4.396 1.646-4.396 1.646a15.032 15.032 0 00-8 0S8.937 6.602 7.603 7.018c-.875 2.208-.333 3.833-.167 4.25-1.021 1.125-1.646 2.542-1.646 4.291 0 6.125 3.729 7.5 7.291 7.896-.458.417-.875 1.125-1.021 2.146-.917.417-3.25 1.125-4.646-1.333-.875-1.521-2.458-1.646-2.458-1.646-1.562-.021-.104.979-.104.979 1.042.479 1.771 2.333 1.771 2.333.938 2.854 5.396 1.896 5.396 1.896 0 1.333.021 2.583.021 2.979 0 .417-.292.917-1.104.771C4.582 29.455-.001 23.455-.001 16.393-.001 7.56 7.165.394 15.998.394zM6.063 23.372c.042-.083-.021-.187-.146-.25-.125-.042-.229-.021-.271.042-.042.083.021.187.146.25.104.062.229.042.271-.042zm.646.709c.083-.062.062-.208-.042-.333-.104-.104-.25-.146-.333-.062-.083.062-.062.208.042.333.104.104.25.146.333.062zm.625.937c.104-.083.104-.25 0-.396-.083-.146-.25-.208-.354-.125-.104.062-.104.229 0 .375s.271.208.354.146zm.875.875c.083-.083.042-.271-.083-.396-.146-.146-.333-.167-.417-.062-.104.083-.062.271.083.396.146.146.333.167.417.062zm1.187.521c.042-.125-.083-.271-.271-.333-.167-.042-.354.021-.396.146s.083.271.271.312c.167.062.354 0 .396-.125zm1.313.104c0-.146-.167-.25-.354-.229-.187 0-.333.104-.333.229 0 .146.146.25.354.229.187 0 .333-.104.333-.229zm1.208-.208c-.021-.125-.187-.208-.375-.187-.187.042-.312.167-.292.312.021.125.187.208.375.167s.312-.167.292-.292z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_gitlab" xmlns="http://www.w3.org/2000/svg"><path d="M1.629 11.034L14 26.888.442 17.048a1.09 1.09 0 01-.39-1.203l1.578-4.811zm7.217 0h10.309l-5.154 15.854zM5.753 1.475l3.093 9.559H1.63l3.093-9.559a.548.548 0 011.031 0zm20.618 9.559l1.578 4.811c.141.437-.016.922-.39 1.203l-13.558 9.84 12.371-15.854zm0 0h-7.216l3.093-9.559a.548.548 0 011.031 0z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_heart" xmlns="http://www.w3.org/2000/svg"><path d="M16 29.714a1.11 1.11 0 01-.786-.321L4.072 18.643c-.143-.125-4.071-3.714-4.071-8 0-5.232 3.196-8.357 8.535-8.357 3.125 0 6.053 2.464 7.464 3.857 1.411-1.393 4.339-3.857 7.464-3.857 5.339 0 8.535 3.125 8.535 8.357 0 4.286-3.928 7.875-4.089 8.035L16.785 29.392c-.214.214-.5.321-.786.321z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_home" xmlns="http://www.w3.org/2000/svg"><path d="M24.003 15.695v8.336c0 .608-.504 1.111-1.111 1.111h-6.669v-6.669h-4.446v6.669H5.108a1.119 1.119 0 01-1.111-1.111v-8.336c0-.035.017-.069.017-.104L14 7.359l9.986 8.232a.224.224 0 01.017.104zm3.873-1.198l-1.077 1.285a.578.578 0 01-.365.191h-.052a.547.547 0 01-.365-.122L14 5.831 1.983 15.851a.594.594 0 01-.417.122.578.578 0 01-.365-.191L.124 14.497a.57.57 0 01.069-.781L12.679 3.314c.729-.608 1.91-.608 2.64 0l4.237 3.543V3.471c0-.313.243-.556.556-.556h3.334c.313 0 .556.243.556.556v7.085l3.803 3.161c.226.191.26.556.069.781z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_info_outline" xmlns="http://www.w3.org/2000/svg"><path d="M12.62 9.793V6.967h2.761v2.826H12.62zM14 25.239q4.601 0 7.92-3.319T25.239 14 21.92 6.08 14 2.761 6.08 6.08 2.761 14t3.319 7.92T14 25.239zM14 0q5.784 0 9.892 4.108T28 14t-4.108 9.892T14 28t-9.892-4.108T0 14t4.108-9.892T14 0zm-1.38 21.033V12.62h2.761v8.413H12.62z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_keyboard_arrow_down" xmlns="http://www.w3.org/2000/svg"><path d="M3.281 5.36L14 16.079 24.719 5.36 28 8.641l-14 14-14-14z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_keyboard_arrow_left" xmlns="http://www.w3.org/2000/svg"><path d="M25.875 28.25L22.125 32 6.126 16.001 22.125.002l3.75 3.75-12.25 12.25z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_keyboard_arrow_right" xmlns="http://www.w3.org/2000/svg"><path d="M6.125 28.25L18.375 16 6.125 3.75 9.875 0l15.999 15.999L9.875 31.998z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_keyboard_arrow_up" xmlns="http://www.w3.org/2000/svg"><path d="M24.719 22.64L14 11.921 3.281 22.64 0 19.359l14-14 14 14z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_language" xmlns="http://www.w3.org/2000/svg"><path d="M20.112 16.826h4.732q.394-1.84.394-2.826t-.394-2.826h-4.732q.197 1.38.197 2.826t-.197 2.826zm-2.497 7.756q1.643-.526 3.418-2.005t2.695-2.991h-4.141q-.657 2.629-1.972 4.995zm-.329-7.756q.197-1.38.197-2.826t-.197-2.826h-6.573q-.197 1.38-.197 2.826t.197 2.826h6.573zM14 25.173q1.84-2.695 2.695-5.587h-5.39q.854 2.892 2.695 5.587zM8.413 8.413q.789-2.826 1.972-4.995-1.643.526-3.451 2.005T4.272 8.414h4.141zM4.272 19.587q.854 1.512 2.662 2.991t3.451 2.005q-1.315-2.366-1.972-4.995H4.272zm-1.117-2.761h4.732Q7.69 15.446 7.69 14t.197-2.826H3.155q-.394 1.84-.394 2.826t.394 2.826zM14 2.826q-1.84 2.695-2.695 5.587h5.39Q15.841 5.521 14 2.826zm9.727 5.587q-.92-1.512-2.695-2.991t-3.418-2.005q1.183 2.169 1.972 4.995h4.141zM14 0q5.784 0 9.892 4.108T28 14t-4.108 9.892T14 28t-9.892-4.108T0 14t4.108-9.892T14 0z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_link" xmlns="http://www.w3.org/2000/svg"><path d="M24.037 7.963q3.305 0 5.634 2.366T32 16t-2.329 5.671-5.634 2.366h-6.46v-3.08h6.46q2.028 0 3.493-1.465t1.465-3.493-1.465-3.493-3.493-1.465h-6.46v-3.08h6.46zM9.615 17.578v-3.155h12.77v3.155H9.615zM3.005 16q0 2.028 1.465 3.493t3.493 1.465h6.46v3.08h-6.46q-3.305 0-5.634-2.366T0 16.001t2.329-5.671 5.634-2.366h6.46v3.08h-6.46q-2.028 0-3.493 1.465t-1.465 3.493z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_menu" xmlns="http://www.w3.org/2000/svg"><path d="M.001 5.334h31.998v3.583H.001V5.334zm0 12.416v-3.5h31.998v3.5H.001zm0 8.916v-3.583h31.998v3.583H.001z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_notification" xmlns="http://www.w3.org/2000/svg"><path d="M22.615 19.384l2.894 2.894v1.413H2.49v-1.413l2.894-2.894V12.25q0-3.365 1.716-5.856t4.745-3.231v-1.01q0-.875.606-1.514T13.999 0t1.548.639.606 1.514v1.01q3.029.74 4.745 3.231t1.716 5.856v7.134zM14 27.999q-1.211 0-2.053-.808t-.841-2.019h5.788q0 1.144-.875 1.986T14 27.999z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_path" xmlns="http://www.w3.org/2000/svg"><path d="M28 12.62h-9.793V8.414h-2.826v11.173h2.826v-4.206H28V26.62h-9.793v-4.206H12.62v-14H9.794v4.206H.001V1.381h9.793v4.206h8.413V1.381H28V12.62z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_person" xmlns="http://www.w3.org/2000/svg"><path d="M16 20.023q5.052 0 10.526 2.199t5.473 5.754v4.023H0v-4.023q0-3.555 5.473-5.754t10.526-2.199zM16 16q-3.275 0-5.614-2.339T8.047 8.047t2.339-5.661T16 0t5.614 2.386 2.339 5.661-2.339 5.614T16 16z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_search" xmlns="http://www.w3.org/2000/svg"><path d="M11.925 20.161q3.432 0 5.834-2.402t2.402-5.834-2.402-5.834-5.834-2.402-5.834 2.402-2.402 5.834 2.402 5.834 5.834 2.402zm10.981 0L32 29.255 29.255 32l-9.094-9.094v-1.458l-.515-.515q-3.26 2.831-7.721 2.831-4.976 0-8.45-3.432T.001 11.925t3.474-8.45 8.45-3.474 8.407 3.474 3.432 8.45q0 1.802-.858 4.075t-1.973 3.646l.515.515h1.458z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_shield" xmlns="http://www.w3.org/2000/svg"><path d="M22.167 15.166V3.5h-8.166v20.726c.93-.492 2.424-1.349 3.883-2.497 1.95-1.531 4.284-3.919 4.284-6.562zm3.499-13.999v14c0 7.674-10.737 12.523-11.192 12.724-.146.073-.31.109-.474.109s-.328-.036-.474-.109c-.456-.201-11.192-5.049-11.192-12.724v-14C2.334.529 2.863 0 3.501 0H24.5c.638 0 1.167.529 1.167 1.167z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_star" xmlns="http://www.w3.org/2000/svg"><path d="M14 22.052L5.324 27.31l2.3-9.859L0 10.813l10.056-.854L14 .692l3.944 9.267L28 10.813l-7.624 6.638 2.3 9.859z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_tag" xmlns="http://www.w3.org/2000/svg"><path d="M17.52 17.52v-7.041h-7.041v7.041h7.041zM28 10.479h-7.041v7.041H28v3.439h-7.041V28H17.52v-7.041h-7.041V28H7.04v-7.041H-.001V17.52H7.04v-7.041H-.001V7.04H7.04V-.001h3.439V7.04h7.041V-.001h3.439V7.04H28v3.439z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_timer" xmlns="http://www.w3.org/2000/svg"><path d="M16 29q4.428 0 7.536-3.143t3.107-7.571-3.107-7.536T16 7.643 8.464 10.75t-3.107 7.536 3.107 7.571T16 29zM26.714 9.786q1.214 1.571 2.107 4.036t.893 4.464q0 5.643-4 9.678T16 32t-9.714-4.036-4-9.678 4-9.678T16 4.572q1.929 0 4.464.929t4.107 2.143l2.143-2.214q1.143.929 2.143 2.143zM14.5 19.857v-9.143h3v9.143h-3zM20.571.001v3.071h-9.143V.001h9.143z"/></svg></defs></svg>




    <div
      class="wrapper "
    >
      <input type="checkbox" class="hidden" id="menu-control" />
      <input type="checkbox" class="hidden" id="menu-header-control" />
      
      <header class="gdoc-header">
  <div class="container flex align-center justify-between">
    
      <label for="menu-control" class="gdoc-nav__control" tabindex="0">
        <svg class="gdoc-icon gdoc_menu">
          <title>Open Navigation</title>
          <use xlink:href="#gdoc_menu"></use>
        </svg>
        <svg class="gdoc-icon gdoc_arrow_back">
          <title>Close Navigation</title>
          <use xlink:href="#gdoc_arrow_back"></use>
        </svg>
      </label>
    
    <div>
      <a class="gdoc-brand gdoc-header__link" href="https://blog.wujy.vip">
        <span class="flex align-center">
          <img
            class="gdoc-brand__img"
            src="/brand.svg"
            alt=""
          />
          <span class="gdoc-brand__title">Jimywu&#39;s Hugo Site</span>
        </span>
      </a>
    </div>
    <div class="gdoc-menu-header">
      <span class="gdoc-menu-header__items">
        


        <span id="gdoc-dark-mode">
          <svg class="gdoc-icon gdoc_brightness_dark">
            <title>Toggle Dark/Light/Auto mode</title>
            <use xlink:href="#gdoc_brightness_dark"></use>
          </svg>
          <svg class="gdoc-icon gdoc_brightness_light">
            <title>Toggle Dark/Light/Auto mode</title>
            <use xlink:href="#gdoc_brightness_light"></use>
          </svg>
          <svg class="gdoc-icon gdoc_brightness_auto">
            <title>Toggle Dark/Light/Auto mode</title>
            <use xlink:href="#gdoc_brightness_auto"></use>
          </svg>
        </span>

        <span class="gdoc-menu-header__home">
          <a href="https://blog.wujy.vip" class="gdoc-header__link">
            <svg class="gdoc-icon gdoc_home">
              <title>Back to homepage</title>
              <use xlink:href="#gdoc_home"></use>
            </svg>
          </a>
        </span>

        



        <span class="gdoc-menu-header__control">
          <label for="menu-header-control">
            <svg class="gdoc-icon gdoc_keyboard_arrow_right">
              <use xlink:href="#gdoc_keyboard_arrow_right"></use>
              <title>Close Menu Bar</title>
            </svg>
          </label>
        </span>
      </span>
      <label for="menu-header-control" class="gdoc-menu-header__control">
        <svg class="gdoc-icon gdoc_keyboard_arrow_left">
          <use xlink:href="#gdoc_keyboard_arrow_left"></use>
          <title>Open Menu Bar</title>
        </svg>
      </label>
    </div>
  </div>
</header>



      <main class="container flex flex-even">
        
          <aside class="gdoc-nav">
            <nav>
  
  <div class="gdoc-search flex align-center">
    <svg class="gdoc-icon gdoc_search"><use xlink:href="#gdoc_search"></use></svg>
    <input
      type="text"
      id="gdoc-search-input"
      class="gdoc-search__input"
      placeholder="Search"
      aria-label="Search"
      maxlength="64"
      data-site-base-url="https://blog.wujy.vip"
      data-site-lang="en"
    />
    <div class="gdoc-search__spinner spinner hidden"></div>
    <ul id="gdoc-search-results" class="gdoc-search__list"></ul>
  </div>




  <section class="gdoc-nav--main">
    <h2>Navigation</h2>
    
      

  


  <ul class="gdoc-nav__list">
    
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">Grafanas</span>
              
              
            </label>

            
              
  


  <ul class="gdoc-nav__list">
    
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/grafana/exploregrama/"
                    class="gdoc-nav__entry"
                  >
                    ExploreGrama
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/grafana/loki/"
                    class="gdoc-nav__entry"
                  >
                    Loki
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
  </ul>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">Lives</span>
              
              
            </label>

            
              
  


  <ul class="gdoc-nav__list">
    
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/life/%E4%B8%8D%E7%A1%AE%E5%AE%9A/"
                    class="gdoc-nav__entry"
                  >
                    不确定
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
  </ul>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">Posts</span>
              
              
            </label>

            
              
  


  <ul class="gdoc-nav__list">
    
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/posts/awk/"
                    class="gdoc-nav__entry"
                  >
                    Awk
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/posts/bigdata/"
                    class="gdoc-nav__entry"
                  >
                    BigData
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/posts/istio/"
                    class="gdoc-nav__entry"
                  >
                    Istio
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/posts/kafka/"
                    class="gdoc-nav__entry"
                  >
                    Kafka
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/posts/markdown/"
                    class="gdoc-nav__entry"
                  >
                    MarkDown 语法规则参考
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
  </ul>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">Pythons</span>
              
              
            </label>

            
              
  


  <ul class="gdoc-nav__list">
    
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/python/a_bit_of_python/"
                    class="gdoc-nav__entry"
                  >
                    A_bit_of_python
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/python/python/"
                    class="gdoc-nav__entry"
                  >
                    Python
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/python/python_cheat_sheet/"
                    class="gdoc-nav__entry is-active"
                  >
                    Python_cheat_sheet
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/python/%E8%A3%85%E9%A5%B0%E5%99%A8/"
                    class="gdoc-nav__entry"
                  >
                    装饰器
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
  </ul>

            
          </li>
        
      
    
  </ul>






    
  </section>

  


  <section class="gdoc-nav--more">
    
  </section>
</nav>

          </aside>
        


        <div class="gdoc-page">
          
  


  






<div
  class="gdoc-page__header flex flex-wrap
  
    justify-between
  
  hidden-mobile
  "
  itemprop="breadcrumb"
>
  
    <div>
      <svg class="gdoc-icon gdoc_path hidden-mobile"><use xlink:href="#gdoc_path"></use></svg>
      <ol class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
        
        
        
        
  
  
    
    
    
    
  
  
    
    
    
    
  
  
    <li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><a itemscope itemtype='https://schema.org/WebPage' itemprop='item' itemid='/' href='/'><span itemprop='name'>Jimywu's Hugo Site</span></a><meta itemprop='position' content='1' /></li><li> / </li><li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><a itemscope itemtype='https://schema.org/WebPage' itemprop='item' itemid='/python/' href='/python/'><span itemprop='name'>Pythons</span></a><meta itemprop='position' content='2' /></li><li> / </li><li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><span itemprop='name'>Python_cheat_sheet</span><meta itemprop='position' content='3' /></li>
  

  

  

      </ol>
    </div>
  
  
</div>



  <article
    class="gdoc-markdown gdoc-markdown__align--left"
  >
    <h1>Python_cheat_sheet</h1>
    <div class="gdoc-page__anchorwrap">
    <h1 id="comprehensive-python-cheatsheet">
        Comprehensive Python Cheatsheet
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#comprehensive-python-cheatsheet" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Comprehensive Python Cheatsheet" aria-label="Anchor to: Comprehensive Python Cheatsheet" href="#comprehensive-python-cheatsheet">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div>
<p><!-- raw HTML omitted --><a
  class="gdoc-markdown__link"
  href="https://raw.githubusercontent.com/gto76/python-cheatsheet/master/README.md"
  
>Download text file</a>, <a
  class="gdoc-markdown__link"
  href="https://transactions.sendowl.com/products/78175486/4422834F/view"
  
>Buy PDF</a>, <a
  class="gdoc-markdown__link"
  href="https://github.com/gto76/python-cheatsheet"
  
>Fork me on GitHub</a> or <a
  class="gdoc-markdown__link"
  href="https://github.com/gto76/python-cheatsheet/wiki/Frequently-Asked-Questions"
  
>Check out FAQ</a>.
<!-- raw HTML omitted --></p>
<p><img
  src="web/image_888.jpeg"
  alt="Monty Python"
  
/></p>
<div class="gdoc-page__anchorwrap">
    <h2 id="contents">
        Contents
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#contents" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Contents" aria-label="Anchor to: Contents" href="#contents">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<p><strong>   </strong> <strong>1. Collections:</strong> <strong> </strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#list"
  
><code>List</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#dictionary"
  
><code>Dictionary</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#set"
  
><code>Set</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#tuple"
  
><code>Tuple</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#range"
  
><code>Range</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#enumerate"
  
><code>Enumerate</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#iterator"
  
><code>Iterator</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#generator"
  
><code>Generator</code></a></strong><strong>.</strong><br>
<strong>   </strong> <strong>2. Types:</strong> <strong>          </strong>  <strong><a
  class="gdoc-markdown__link--code"
  href="#type"
  
><code>Type</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#string"
  
><code>String</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#regex"
  
><code>Regular_Exp</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#format"
  
><code>Format</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#numbers"
  
><code>Numbers</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#combinatorics"
  
><code>Combinatorics</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#datetime"
  
><code>Datetime</code></a></strong><strong>.</strong><br>
<strong>   </strong> <strong>3. Syntax:</strong> <strong>         </strong>  <strong><a
  class="gdoc-markdown__link--code"
  href="#arguments"
  
><code>Args</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#inline"
  
><code>Inline</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#closure"
  
><code>Closure</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#decorator"
  
><code>Decorator</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#class"
  
><code>Class</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#duck-types"
  
><code>Duck_Type</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#enum"
  
><code>Enum</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#exceptions"
  
><code>Exception</code></a></strong><strong>.</strong><br>
<strong>   </strong> <strong>4. System:</strong> <strong>        </strong>  <strong><a
  class="gdoc-markdown__link--code"
  href="#exit"
  
><code>Exit</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#print"
  
><code>Print</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#input"
  
><code>Input</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#command-line-arguments"
  
><code>Command_Line_Arguments</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#open"
  
><code>Open</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#path"
  
><code>Path</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#oscommands"
  
><code>OS_Commands</code></a></strong><strong>.</strong><br>
<strong>   </strong> <strong>5. Data:</strong> <strong>             </strong>  <strong><a
  class="gdoc-markdown__link--code"
  href="#json"
  
><code>JSON</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#pickle"
  
><code>Pickle</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#csv"
  
><code>CSV</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#sqlite"
  
><code>SQLite</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#bytes"
  
><code>Bytes</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#struct"
  
><code>Struct</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#array"
  
><code>Array</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#memory-view"
  
><code>Memory_View</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#deque"
  
><code>Deque</code></a></strong><strong>.</strong><br>
<strong>   </strong> <strong>6. Advanced:</strong> <strong>   </strong>  <strong><a
  class="gdoc-markdown__link--code"
  href="#threading"
  
><code>Threading</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#operator"
  
><code>Operator</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#introspection"
  
><code>Introspection</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#metaprograming"
  
><code>Metaprograming</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#eval"
  
><code>Eval</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#coroutines"
  
><code>Coroutines</code></a></strong><strong>.</strong><br>
<strong>   </strong> <strong>7. Libraries:</strong> <strong>      </strong>  <strong><a
  class="gdoc-markdown__link--code"
  href="#progress-bar"
  
><code>Progress_Bar</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#plot"
  
><code>Plot</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#table"
  
><code>Table</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#curses"
  
><code>Curses</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#logging"
  
><code>Logging</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#scraping"
  
><code>Scraping</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#web"
  
><code>Web</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#profiling"
  
><code>Profile</code></a></strong><strong>,</strong><br>
<strong>                                 </strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#numpy"
  
><code>NumPy</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#image"
  
><code>Image</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#audio"
  
><code>Audio</code></a></strong><strong>,</strong> <strong><a
  class="gdoc-markdown__link--code"
  href="#pygame"
  
><code>Pygame</code></a></strong><strong>.</strong></p>
<div class="gdoc-page__anchorwrap">
    <h2 id="main">
        Main
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#main" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Main" aria-label="Anchor to: Main" href="#main">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:     <span style="color:#75715e"># Runs main() if file wasn&#39;t imported.</span>
</span></span><span style="display:flex;"><span>    main()
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="list">
        List
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#list" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: List" aria-label="Anchor to: List" href="#list">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>[from_inclusive : to_exclusive : <span style="color:#960050;background-color:#1e0010">±</span>step_size]
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>append(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)            <span style="color:#75715e"># Or: &lt;list&gt; += [&lt;el&gt;]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>extend(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)    <span style="color:#75715e"># Or: &lt;list&gt; += &lt;collection&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>sort()
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>reverse()
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> sorted(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> reversed(<span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sum_of_elements  <span style="color:#f92672">=</span> sum(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>elementwise_sum  <span style="color:#f92672">=</span> [sum(pair) <span style="color:#66d9ef">for</span> pair <span style="color:#f92672">in</span> zip(list_a, list_b)]
</span></span><span style="display:flex;"><span>sorted_by_second <span style="color:#f92672">=</span> sorted(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>, key<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> el: el[<span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>sorted_by_both   <span style="color:#f92672">=</span> sorted(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>, key<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> el: (el[<span style="color:#ae81ff">1</span>], el[<span style="color:#ae81ff">0</span>]))
</span></span><span style="display:flex;"><span>flatter_list     <span style="color:#f92672">=</span> list(itertools<span style="color:#f92672">.</span>chain<span style="color:#f92672">.</span>from_iterable(<span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>))
</span></span><span style="display:flex;"><span>product_of_elems <span style="color:#f92672">=</span> functools<span style="color:#f92672">.</span>reduce(<span style="color:#66d9ef">lambda</span> out, el: out <span style="color:#f92672">*</span> el, <span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>list_of_chars    <span style="color:#f92672">=</span> list(<span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><ul>
<li><strong>Module <a
  class="gdoc-markdown__link"
  href="#operator"
  
>operator</a> provides functions itemgetter() and mul() that offer the same functionality as <a
  class="gdoc-markdown__link"
  href="#lambda"
  
>lambda</a> expressions above.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>count(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)     <span style="color:#75715e"># Returns number of occurrences. Also works on strings.</span>
</span></span><span style="display:flex;"><span>index <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>index(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)     <span style="color:#75715e"># Returns index of first occurrence or raises ValueError.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>insert(index, <span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)     <span style="color:#75715e"># Inserts item at index and moves the rest to the right.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>pop([index])     <span style="color:#75715e"># Removes and returns item at index or from the end.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>remove(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)            <span style="color:#75715e"># Removes first occurrence of item or raises ValueError.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>clear()                 <span style="color:#75715e"># Removes all items. Also works on dictionary and set.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="dictionary">
        Dictionary
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#dictionary" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Dictionary" aria-label="Anchor to: Dictionary" href="#dictionary">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>view<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;.</span>keys()                          <span style="color:#75715e"># Coll. of keys that reflects changes.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>view<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;.</span>values()                        <span style="color:#75715e"># Coll. of values that reflects changes.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>view<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;.</span>items()                         <span style="color:#75715e"># Coll. of key-value tuples that reflects chgs.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>value  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;.</span>get(key, default<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>)          <span style="color:#75715e"># Returns default if key is missing.</span>
</span></span><span style="display:flex;"><span>value  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;.</span>setdefault(key, default<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>)   <span style="color:#75715e"># Returns and writes default if key is missing.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> collections<span style="color:#f92672">.</span>defaultdict(<span style="color:#f92672">&lt;</span>type<span style="color:#f92672">&gt;</span>)        <span style="color:#75715e"># Creates a dict with default value of type.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> collections<span style="color:#f92672">.</span>defaultdict(<span style="color:#66d9ef">lambda</span>: <span style="color:#ae81ff">1</span>)     <span style="color:#75715e"># Creates a dict with default value 1.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> dict(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)                     <span style="color:#75715e"># Creates a dict from coll. of key-value pairs.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> dict(zip(keys, values))                <span style="color:#75715e"># Creates a dict from two collections.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> dict<span style="color:#f92672">.</span>fromkeys(keys [, value])          <span style="color:#75715e"># Creates a dict from collection of keys.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;.</span>update(<span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span>)                           <span style="color:#75715e"># Adds items. Replaces ones with matching keys.</span>
</span></span><span style="display:flex;"><span>value <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;.</span>pop(key)                         <span style="color:#75715e"># Removes item or raises KeyError.</span>
</span></span><span style="display:flex;"><span>{k <span style="color:#66d9ef">for</span> k, v <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;.</span>items() <span style="color:#66d9ef">if</span> v <span style="color:#f92672">==</span> value}    <span style="color:#75715e"># Returns set of keys that point to the value.</span>
</span></span><span style="display:flex;"><span>{k: v <span style="color:#66d9ef">for</span> k, v <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;.</span>items() <span style="color:#66d9ef">if</span> k <span style="color:#f92672">in</span> keys}  <span style="color:#75715e"># Returns a dictionary, filtered by keys.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="counter">
        Counter
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#counter" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Counter" aria-label="Anchor to: Counter" href="#counter">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> Counter
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> colors <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;blue&#39;</span>, <span style="color:#e6db74">&#39;blue&#39;</span>, <span style="color:#e6db74">&#39;blue&#39;</span>, <span style="color:#e6db74">&#39;red&#39;</span>, <span style="color:#e6db74">&#39;red&#39;</span>]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> counter <span style="color:#f92672">=</span> Counter(colors)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> counter[<span style="color:#e6db74">&#39;yellow&#39;</span>] <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>Counter({<span style="color:#e6db74">&#39;blue&#39;</span>: <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;red&#39;</span>: <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;yellow&#39;</span>: <span style="color:#ae81ff">1</span>})
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> counter<span style="color:#f92672">.</span>most_common()[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#39;blue&#39;</span>, <span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="set">
        Set
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#set" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Set" aria-label="Anchor to: Set" href="#set">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> set()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>add(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)                                 <span style="color:#75715e"># Or: &lt;set&gt; |= {&lt;el&gt;}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>update(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)                      <span style="color:#75715e"># Or: &lt;set&gt; |= &lt;set&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>union(<span style="color:#f92672">&lt;</span>coll<span style="color:#f92672">.&gt;</span>)                   <span style="color:#75715e"># Or: &lt;set&gt; | &lt;set&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>intersection(<span style="color:#f92672">&lt;</span>coll<span style="color:#f92672">.&gt;</span>)            <span style="color:#75715e"># Or: &lt;set&gt; &amp; &lt;set&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>difference(<span style="color:#f92672">&lt;</span>coll<span style="color:#f92672">.&gt;</span>)              <span style="color:#75715e"># Or: &lt;set&gt; - &lt;set&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>symmetric_difference(<span style="color:#f92672">&lt;</span>coll<span style="color:#f92672">.&gt;</span>)    <span style="color:#75715e"># Or: &lt;set&gt; ^ &lt;set&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>issubset(<span style="color:#f92672">&lt;</span>coll<span style="color:#f92672">.&gt;</span>)                <span style="color:#75715e"># Or: &lt;set&gt; &lt;= &lt;set&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>issuperset(<span style="color:#f92672">&lt;</span>coll<span style="color:#f92672">.&gt;</span>)              <span style="color:#75715e"># Or: &lt;set&gt; &gt;= &lt;set&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>pop()                              <span style="color:#75715e"># Raises KeyError if empty.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>remove(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)                              <span style="color:#75715e"># Raises KeyError if missing.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>discard(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)                             <span style="color:#75715e"># Doesn&#39;t raise an error.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="frozen-set">
        Frozen Set
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#frozen-set" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Frozen Set" aria-label="Anchor to: Frozen Set" href="#frozen-set">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<ul>
<li><strong>Is immutable and hashable.</strong></li>
<li><strong>That means it can be used as a key in a dictionary or as an element in a set.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>frozenset<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> frozenset(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="tuple">
        Tuple
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#tuple" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Tuple" aria-label="Anchor to: Tuple" href="#tuple">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<p><strong>Tuple is an immutable and hashable list.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tuple<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> ()
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tuple<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> (<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>, )
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tuple<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> (<span style="color:#f92672">&lt;</span>el_1<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>el_2<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">...</span>])
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="named-tuple">
        Named Tuple
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#named-tuple" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Named Tuple" aria-label="Anchor to: Named Tuple" href="#named-tuple">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Tuple&rsquo;s subclass with named elements.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> namedtuple
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> Point <span style="color:#f92672">=</span> namedtuple(<span style="color:#e6db74">&#39;Point&#39;</span>, <span style="color:#e6db74">&#39;x y&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> p <span style="color:#f92672">=</span> Point(<span style="color:#ae81ff">1</span>, y<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>Point(x<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, y<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> p[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> p<span style="color:#f92672">.</span>x
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> getattr(p, <span style="color:#e6db74">&#39;y&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> p<span style="color:#f92672">.</span>_fields  <span style="color:#75715e"># Or: Point._fields</span>
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#39;x&#39;</span>, <span style="color:#e6db74">&#39;y&#39;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="range">
        Range
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#range" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Range" aria-label="Anchor to: Range" href="#range">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>range<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> range(to_exclusive)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>range<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> range(from_inclusive, to_exclusive)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>range<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> range(from_inclusive, to_exclusive, <span style="color:#960050;background-color:#1e0010">±</span>step_size)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>from_inclusive <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>range<span style="color:#f92672">&gt;.</span>start
</span></span><span style="display:flex;"><span>to_exclusive   <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>range<span style="color:#f92672">&gt;.</span>stop
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="enumerate">
        Enumerate
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#enumerate" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Enumerate" aria-label="Anchor to: Enumerate" href="#enumerate">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i, el <span style="color:#f92672">in</span> enumerate(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span> [, i_start]):
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">...</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="iterator">
        Iterator
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#iterator" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Iterator" aria-label="Anchor to: Iterator" href="#iterator">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> iter(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)                 <span style="color:#75715e"># `iter(&lt;iter&gt;)` returns unmodified iterator.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> iter(<span style="color:#f92672">&lt;</span>function<span style="color:#f92672">&gt;</span>, to_exclusive)     <span style="color:#75715e"># A sequence of return values until &#39;to_exclusive&#39;.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> next(<span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> [, default])           <span style="color:#75715e"># Raises StopIteration or returns &#39;default&#39; on end.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> list(<span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span>)                       <span style="color:#75715e"># Returns a list of iterator&#39;s remaining elements.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="itertools">
        Itertools
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#itertools" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Itertools" aria-label="Anchor to: Itertools" href="#itertools">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> itertools <span style="color:#f92672">import</span> count, repeat, cycle, chain, islice
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> count(start<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, step<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)             <span style="color:#75715e"># Returns updated value endlessly. Accepts floats.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> repeat(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span> [, times])             <span style="color:#75715e"># Returns element endlessly or &#39;times&#39; times.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> cycle(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)                <span style="color:#75715e"># Repeats the sequence endlessly.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> chain(<span style="color:#f92672">&lt;</span>coll_1<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>coll_2<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">...</span>])  <span style="color:#75715e"># Empties collections in order.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> chain<span style="color:#f92672">.</span>from_iterable(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># Empties collections inside a collection in order.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> islice(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>, to_exclusive)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> islice(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>, from_inclusive, to_exclusive [, <span style="color:#f92672">+</span>step_size])
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="generator">
        Generator
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#generator" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Generator" aria-label="Anchor to: Generator" href="#generator">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<ul>
<li><strong>Any function that contains a yield statement returns a generator.</strong></li>
<li><strong>Generators and iterators are interchangeable.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">count</span>(start, step):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">yield</span> start
</span></span><span style="display:flex;"><span>        start <span style="color:#f92672">+=</span> step
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> counter <span style="color:#f92672">=</span> count(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> next(counter), next(counter), next(counter)
</span></span><span style="display:flex;"><span>(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">14</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="type">
        Type
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#type" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Type" aria-label="Anchor to: Type" href="#type">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<ul>
<li><strong>Everything is an object.</strong></li>
<li><strong>Every object has a type.</strong></li>
<li><strong>Type and class are synonymous.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>type<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> type(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)                          <span style="color:#75715e"># Or: &lt;el&gt;.__class__</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> isinstance(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>type<span style="color:#f92672">&gt;</span>)            <span style="color:#75715e"># Or: issubclass(type(&lt;el&gt;), &lt;type&gt;)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> type(<span style="color:#e6db74">&#39;a&#39;</span>), <span style="color:#e6db74">&#39;a&#39;</span><span style="color:#f92672">.</span>__class__, str
</span></span><span style="display:flex;"><span>(<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">str</span><span style="color:#e6db74">&#39;&gt;, &lt;class &#39;</span>str<span style="color:#e6db74">&#39;&gt;, &lt;class &#39;</span>str<span style="color:#e6db74">&#39;&gt;)</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="some-types-do-not-have-built-in-names-so-they-must-be-imported">
        Some types do not have built-in names, so they must be imported:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#some-types-do-not-have-built-in-names-so-they-must-be-imported" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Some types do not have built-in names, so they must be imported:" aria-label="Anchor to: Some types do not have built-in names, so they must be imported:" href="#some-types-do-not-have-built-in-names-so-they-must-be-imported">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> types <span style="color:#f92672">import</span> FunctionType, MethodType, LambdaType, GeneratorType
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="abstract-base-classes">
        Abstract Base Classes
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#abstract-base-classes" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Abstract Base Classes" aria-label="Anchor to: Abstract Base Classes" href="#abstract-base-classes">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Each abstract base class specifies a set of virtual subclasses. These classes are then recognized by isinstance() and issubclass() as subclasses of the ABC, although they are really not.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> collections.abc <span style="color:#f92672">import</span> Sequence, Collection, Iterable
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> isinstance([<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>], Iterable)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">True</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+------------------+------------+------------+------------+
</span></span><span style="display:flex;"><span>|                  |  Sequence  | Collection |  Iterable  |
</span></span><span style="display:flex;"><span>+------------------+------------+------------+------------+
</span></span><span style="display:flex;"><span>| list, range, str |    yes     |    yes     |    yes     |
</span></span><span style="display:flex;"><span>| dict, set        |            |    yes     |    yes     |
</span></span><span style="display:flex;"><span>| iter             |            |            |    yes     |
</span></span><span style="display:flex;"><span>+------------------+------------+------------+------------+
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> numbers <span style="color:#f92672">import</span> Integral, Rational, Real, Complex, Number
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> isinstance(<span style="color:#ae81ff">123</span>, Number)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">True</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+--------------------+----------+----------+----------+----------+----------+
</span></span><span style="display:flex;"><span>|                    | Integral | Rational |   Real   | Complex  |  Number  |
</span></span><span style="display:flex;"><span>+--------------------+----------+----------+----------+----------+----------+
</span></span><span style="display:flex;"><span>| int                |   yes    |   yes    |   yes    |   yes    |   yes    |
</span></span><span style="display:flex;"><span>| fractions.Fraction |          |   yes    |   yes    |   yes    |   yes    |
</span></span><span style="display:flex;"><span>| float              |          |          |   yes    |   yes    |   yes    |
</span></span><span style="display:flex;"><span>| complex            |          |          |          |   yes    |   yes    |
</span></span><span style="display:flex;"><span>| decimal.Decimal    |          |          |          |          |   yes    |
</span></span><span style="display:flex;"><span>+--------------------+----------+----------+----------+----------+----------+
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="string">
        String
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#string" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: String" aria-label="Anchor to: String" href="#string">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>strip()                       <span style="color:#75715e"># Strips all whitespace characters from both ends.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>strip(<span style="color:#e6db74">&#39;&lt;chars&gt;&#39;</span>)              <span style="color:#75715e"># Strips all passed characters from both ends.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>split()                       <span style="color:#75715e"># Splits on one or more whitespace characters.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>split(sep<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, maxsplit<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>)  <span style="color:#75715e"># Splits on &#39;sep&#39; str at most &#39;maxsplit&#39; times.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>splitlines(keepends<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)    <span style="color:#75715e"># Splits on \n,\r,\r\n. Keeps them if &#39;keepends&#39;.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>join(<span style="color:#f92672">&lt;</span>coll_of_strings<span style="color:#f92672">&gt;</span>)       <span style="color:#75715e"># Joins elements using string as separator.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>sub_str<span style="color:#f92672">&gt;</span> <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>                  <span style="color:#75715e"># Checks if string contains a substring.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>startswith(<span style="color:#f92672">&lt;</span>sub_str<span style="color:#f92672">&gt;</span>)         <span style="color:#75715e"># Pass tuple of strings for multiple options.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>endswith(<span style="color:#f92672">&lt;</span>sub_str<span style="color:#f92672">&gt;</span>)           <span style="color:#75715e"># Pass tuple of strings for multiple options.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>find(<span style="color:#f92672">&lt;</span>sub_str<span style="color:#f92672">&gt;</span>)               <span style="color:#75715e"># Returns start index of first match or -1.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>index(<span style="color:#f92672">&lt;</span>sub_str<span style="color:#f92672">&gt;</span>)              <span style="color:#75715e"># Same but raises ValueError if missing.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>replace(old, new [, count])   <span style="color:#75715e"># Replaces &#39;old&#39; with &#39;new&#39; at most &#39;count&#39; times.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>translate(<span style="color:#f92672">&lt;</span>table<span style="color:#f92672">&gt;</span>)            <span style="color:#75715e"># Use `str.maketrans(&lt;dict&gt;)` to generate table.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> chr(<span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>)                          <span style="color:#75715e"># Converts int to Unicode char.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> ord(<span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>)                          <span style="color:#75715e"># Converts Unicode char to int.</span>
</span></span></code></pre></div><ul>
<li><strong>Also: <code>'lstrip()'</code>, <code>'rstrip()'</code>.</strong></li>
<li><strong>Also: <code>'lower()'</code>, <code>'upper()'</code>, <code>'capitalize()'</code> and <code>'title()'</code>.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="property-methods">
        Property Methods
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#property-methods" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Property Methods" aria-label="Anchor to: Property Methods" href="#property-methods">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+---------------+----------+----------+----------+----------+----------+
</span></span><span style="display:flex;"><span>|               | [ !#$%…] | [a-zA-Z] |  [¼½¾]   |  [²³¹]   |  [0-9]   |
</span></span><span style="display:flex;"><span>+---------------+----------+----------+----------+----------+----------+
</span></span><span style="display:flex;"><span>| isprintable() |   yes    |   yes    |   yes    |   yes    |   yes    |
</span></span><span style="display:flex;"><span>| isalnum()     |          |   yes    |   yes    |   yes    |   yes    |
</span></span><span style="display:flex;"><span>| isnumeric()   |          |          |   yes    |   yes    |   yes    |
</span></span><span style="display:flex;"><span>| isdigit()     |          |          |          |   yes    |   yes    |
</span></span><span style="display:flex;"><span>| isdecimal()   |          |          |          |          |   yes    |
</span></span><span style="display:flex;"><span>+---------------+----------+----------+----------+----------+----------+
</span></span></code></pre></div><ul>
<li><strong>Also: <code>'isspace()'</code> checks for <code>'[ \t\n\r\f\v…]'</code>.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h2 id="regex">
        Regex
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#regex" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Regex" aria-label="Anchor to: Regex" href="#regex">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>sub(<span style="color:#f92672">&lt;</span>regex<span style="color:#f92672">&gt;</span>, new, text, count<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  <span style="color:#75715e"># Substitutes all occurrences with &#39;new&#39;.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>findall(<span style="color:#f92672">&lt;</span>regex<span style="color:#f92672">&gt;</span>, text)            <span style="color:#75715e"># Returns all occurrences as strings.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>split(<span style="color:#f92672">&lt;</span>regex<span style="color:#f92672">&gt;</span>, text, maxsplit<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  <span style="color:#75715e"># Use brackets in regex to include the matches.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Match<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>search(<span style="color:#f92672">&lt;</span>regex<span style="color:#f92672">&gt;</span>, text)             <span style="color:#75715e"># Searches for first occurrence of the pattern.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Match<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>match(<span style="color:#f92672">&lt;</span>regex<span style="color:#f92672">&gt;</span>, text)              <span style="color:#75715e"># Searches only at the beginning of the text.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>finditer(<span style="color:#f92672">&lt;</span>regex<span style="color:#f92672">&gt;</span>, text)           <span style="color:#75715e"># Returns all occurrences as match objects.</span>
</span></span></code></pre></div><ul>
<li><strong>Search() and match() return None if they can&rsquo;t find a match.</strong></li>
<li><strong>Argument <code>'flags=re.IGNORECASE'</code> can be used with all functions.</strong></li>
<li><strong>Argument <code>'flags=re.MULTILINE'</code> makes <code>'^'</code> and <code>'$'</code> match the start/end of each line.</strong></li>
<li><strong>Argument <code>'flags=re.DOTALL'</code> makes dot also accept the <code>'\n'</code>.</strong></li>
<li><strong>Use <code>r'\1'</code> or <code>'\\1'</code> for backreference.</strong></li>
<li><strong>Add <code>'?'</code> after an operator to make it non-greedy.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="match-object">
        Match Object
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#match-object" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Match Object" aria-label="Anchor to: Match Object" href="#match-object">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Match<span style="color:#f92672">&gt;.</span>group()                      <span style="color:#75715e"># Returns the whole match. Also group(0).</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Match<span style="color:#f92672">&gt;.</span>group(<span style="color:#ae81ff">1</span>)                     <span style="color:#75715e"># Returns part in the first bracket.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tuple<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Match<span style="color:#f92672">&gt;.</span>groups()                     <span style="color:#75715e"># Returns all bracketed parts.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Match<span style="color:#f92672">&gt;.</span>start()                      <span style="color:#75715e"># Returns start index of the match.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Match<span style="color:#f92672">&gt;.</span>end()                        <span style="color:#75715e"># Returns exclusive end index of the match.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="special-sequences">
        Special Sequences
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#special-sequences" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Special Sequences" aria-label="Anchor to: Special Sequences" href="#special-sequences">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<ul>
<li><strong>By default digits, alphanumerics and whitespaces from all alphabets are matched, unless <code>'flags=re.ASCII'</code> argument is used.</strong></li>
<li><strong>Use a capital letter for negation.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;\d&#39;</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;[0-9]&#39;</span>                                <span style="color:#75715e"># Matches any digit.</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;\w&#39;</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;[a-zA-Z0-9_]&#39;</span>                         <span style="color:#75715e"># Matches any alphanumeric.</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;\s&#39;</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;[ </span><span style="color:#ae81ff">\t\n\r\f\v</span><span style="color:#e6db74">]&#39;</span>                        <span style="color:#75715e"># Matches any whitespace.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="format">
        Format
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#format" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Format" aria-label="Anchor to: Format" href="#format">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span><span style="color:#f92672">&lt;</span>el_1<span style="color:#f92672">&gt;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">, </span><span style="color:#e6db74">{</span><span style="color:#f92672">&lt;</span>el_2<span style="color:#f92672">&gt;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{}</span><span style="color:#e6db74">, </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#f92672">&lt;</span>el_1<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>el_2<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="attributes">
        Attributes
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#attributes" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Attributes" aria-label="Anchor to: Attributes" href="#attributes">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> namedtuple
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> Person <span style="color:#f92672">=</span> namedtuple(<span style="color:#e6db74">&#39;Person&#39;</span>, <span style="color:#e6db74">&#39;name height&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> person <span style="color:#f92672">=</span> Person(<span style="color:#e6db74">&#39;Jean-Luc&#39;</span>, <span style="color:#ae81ff">187</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>person<span style="color:#f92672">.</span>height<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;187&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{p.height}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(p<span style="color:#f92672">=</span>person)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;187&#39;</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="general-options">
        General Options
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#general-options" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: General Options" aria-label="Anchor to: General Options" href="#general-options">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>:<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">10</span>}                                     <span style="color:#75715e"># &#39;&lt;el&gt;      &#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>:<span style="color:#f92672">^</span><span style="color:#ae81ff">10</span>}                                     <span style="color:#75715e"># &#39;   &lt;el&gt;   &#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>:<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">10</span>}                                     <span style="color:#75715e"># &#39;      &lt;el&gt;&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>:<span style="color:#f92672">.&lt;</span><span style="color:#ae81ff">10</span>}                                    <span style="color:#75715e"># &#39;&lt;el&gt;......&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>:<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>}                                      <span style="color:#75715e"># &#39;&lt;el&gt;&#39;</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="strings">
        Strings
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#strings" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Strings" aria-label="Anchor to: Strings" href="#strings">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong><code>'!r'</code> calls object&rsquo;s <a
  class="gdoc-markdown__link"
  href="#class"
  
>repr()</a> method, instead of <a
  class="gdoc-markdown__link"
  href="#class"
  
>str()</a>, to get a string.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#e6db74">&#39;abcde&#39;</span><span style="color:#960050;background-color:#1e0010">!</span>r:<span style="color:#ae81ff">10</span>}                                 <span style="color:#75715e"># &#34;&#39;abcde&#39;   &#34;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#e6db74">&#39;abcde&#39;</span>:<span style="color:#ae81ff">10.3</span>}                                 <span style="color:#75715e"># &#39;abc       &#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#e6db74">&#39;abcde&#39;</span>:<span style="color:#ae81ff">.3</span>}                                   <span style="color:#75715e"># &#39;abc&#39;</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="numbers">
        Numbers
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#numbers" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Numbers" aria-label="Anchor to: Numbers" href="#numbers">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{ <span style="color:#ae81ff">123456</span>:<span style="color:#ae81ff">10</span>,}                                  <span style="color:#75715e"># &#39;   123,456&#39;</span>
</span></span><span style="display:flex;"><span>{ <span style="color:#ae81ff">123456</span>:<span style="color:#ae81ff">10</span>_}                                  <span style="color:#75715e"># &#39;   123_456&#39;</span>
</span></span><span style="display:flex;"><span>{ <span style="color:#ae81ff">123456</span>:<span style="color:#f92672">+</span><span style="color:#ae81ff">10</span>}                                  <span style="color:#75715e"># &#39;   +123456&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#f92672">-</span><span style="color:#ae81ff">123456</span><span style="color:#f92672">:=</span><span style="color:#ae81ff">10</span>}                                  <span style="color:#75715e"># &#39;-   123456&#39;</span>
</span></span><span style="display:flex;"><span>{ <span style="color:#ae81ff">123456</span>: }                                    <span style="color:#75715e"># &#39; 123456&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#f92672">-</span><span style="color:#ae81ff">123456</span>: }                                    <span style="color:#75715e"># &#39;-123456&#39;</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="floats">
        Floats
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#floats" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Floats" aria-label="Anchor to: Floats" href="#floats">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1.23456</span>:<span style="color:#ae81ff">10.3</span>}                                 <span style="color:#75715e"># &#39;      1.23&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#ae81ff">1.23456</span>:<span style="color:#ae81ff">10.3</span>f}                                <span style="color:#75715e"># &#39;     1.235&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#ae81ff">1.23456</span>:<span style="color:#ae81ff">10.3</span>e}                                <span style="color:#75715e"># &#39; 1.235e+00&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#ae81ff">1.23456</span>:<span style="color:#ae81ff">10.3</span><span style="color:#f92672">%</span>}                                <span style="color:#75715e"># &#39;  123.456%&#39;</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="comparison-of-presentation-types">
        Comparison of presentation types:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#comparison-of-presentation-types" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Comparison of presentation types:" aria-label="Anchor to: Comparison of presentation types:" href="#comparison-of-presentation-types">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+---------------+-----------------+-----------------+-----------------+-----------------+
</span></span><span style="display:flex;"><span>|               |    {&lt;float&gt;}    |   {&lt;float&gt;:f}   |   {&lt;float&gt;:e}   |   {&lt;float&gt;:%}   |
</span></span><span style="display:flex;"><span>+---------------+-----------------+-----------------+-----------------+-----------------+
</span></span><span style="display:flex;"><span>|   0.000056789 |    &#39;5.6789e-05&#39; |     &#39;0.000057&#39;  |  &#39;5.678900e-05&#39; |     &#39;0.005679%&#39; |
</span></span><span style="display:flex;"><span>|   0.00056789  |    &#39;0.00056789&#39; |     &#39;0.000568&#39;  |  &#39;5.678900e-04&#39; |     &#39;0.056789%&#39; |
</span></span><span style="display:flex;"><span>|   0.0056789   |    &#39;0.0056789&#39;  |     &#39;0.005679&#39;  |  &#39;5.678900e-03&#39; |     &#39;0.567890%&#39; |
</span></span><span style="display:flex;"><span>|   0.056789    |    &#39;0.056789&#39;   |     &#39;0.056789&#39;  |  &#39;5.678900e-02&#39; |     &#39;5.678900%&#39; |
</span></span><span style="display:flex;"><span>|   0.56789     |    &#39;0.56789&#39;    |     &#39;0.567890&#39;  |  &#39;5.678900e-01&#39; |    &#39;56.789000%&#39; |
</span></span><span style="display:flex;"><span>|   5.6789      |    &#39;5.6789&#39;     |     &#39;5.678900&#39;  |  &#39;5.678900e+00&#39; |   &#39;567.890000%&#39; |
</span></span><span style="display:flex;"><span>|  56.789       |   &#39;56.789&#39;      |    &#39;56.789000&#39;  |  &#39;5.678900e+01&#39; |  &#39;5678.900000%&#39; |
</span></span><span style="display:flex;"><span>| 567.89        |  &#39;567.89&#39;       |   &#39;567.890000&#39;  |  &#39;5.678900e+02&#39; | &#39;56789.000000%&#39; |
</span></span><span style="display:flex;"><span>+---------------+-----------------+-----------------+-----------------+-----------------+
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+---------------+-----------------+-----------------+-----------------+-----------------+
</span></span><span style="display:flex;"><span>|               |   {&lt;float&gt;:.2}  |  {&lt;float&gt;:.2f}  |  {&lt;float&gt;:.2e}  |  {&lt;float&gt;:.2%}  |
</span></span><span style="display:flex;"><span>+---------------+-----------------+-----------------+-----------------+-----------------+
</span></span><span style="display:flex;"><span>|   0.000056789 |    &#39;5.7e-05&#39;    |       &#39;0.00&#39;    |    &#39;5.68e-05&#39;   |       &#39;0.01%&#39;   |
</span></span><span style="display:flex;"><span>|   0.00056789  |    &#39;0.00057&#39;    |       &#39;0.00&#39;    |    &#39;5.68e-04&#39;   |       &#39;0.06%&#39;   |
</span></span><span style="display:flex;"><span>|   0.0056789   |    &#39;0.0057&#39;     |       &#39;0.01&#39;    |    &#39;5.68e-03&#39;   |       &#39;0.57%&#39;   |
</span></span><span style="display:flex;"><span>|   0.056789    |    &#39;0.057&#39;      |       &#39;0.06&#39;    |    &#39;5.68e-02&#39;   |       &#39;5.68%&#39;   |
</span></span><span style="display:flex;"><span>|   0.56789     |    &#39;0.57&#39;       |       &#39;0.57&#39;    |    &#39;5.68e-01&#39;   |      &#39;56.79%&#39;   |
</span></span><span style="display:flex;"><span>|   5.6789      |    &#39;5.7&#39;        |       &#39;5.68&#39;    |    &#39;5.68e+00&#39;   |     &#39;567.89%&#39;   |
</span></span><span style="display:flex;"><span>|  56.789       |    &#39;5.7e+01&#39;    |      &#39;56.79&#39;    |    &#39;5.68e+01&#39;   |    &#39;5678.90%&#39;   |
</span></span><span style="display:flex;"><span>| 567.89        |    &#39;5.7e+02&#39;    |     &#39;567.89&#39;    |    &#39;5.68e+02&#39;   |   &#39;56789.00%&#39;   |
</span></span><span style="display:flex;"><span>+---------------+-----------------+-----------------+-----------------+-----------------+
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="ints">
        Ints
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#ints" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Ints" aria-label="Anchor to: Ints" href="#ints">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">90</span>:c}                                <span style="color:#75715e"># &#39;Z&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#ae81ff">90</span>:b}                                <span style="color:#75715e"># &#39;1011010&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#ae81ff">90</span>:X}                                <span style="color:#75715e"># &#39;5A&#39;</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="numbers-1">
        Numbers
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#numbers-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Numbers" aria-label="Anchor to: Numbers" href="#numbers-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="gdoc-page__anchorwrap">
    <h3 id="types">
        Types
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#types" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Types" aria-label="Anchor to: Types" href="#types">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>      <span style="color:#f92672">=</span> int(<span style="color:#f92672">&lt;</span>float<span style="color:#f92672">/</span>str<span style="color:#f92672">/</span>bool<span style="color:#f92672">&gt;</span>)    <span style="color:#75715e"># Or: math.floor(&lt;float&gt;)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>float<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> float(<span style="color:#f92672">&lt;</span>int<span style="color:#f92672">/</span>str<span style="color:#f92672">/</span>bool<span style="color:#f92672">&gt;</span>)    <span style="color:#75715e"># Or: &lt;real&gt;e±&lt;int&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>complex<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> complex(real<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, imag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  <span style="color:#75715e"># Or: &lt;real&gt; ± &lt;real&gt;j</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Fraction<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> fractions<span style="color:#f92672">.</span>Fraction(numerator<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, denominator<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Decimal<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> decimal<span style="color:#f92672">.</span>Decimal(<span style="color:#f92672">&lt;</span>str<span style="color:#f92672">/</span>int<span style="color:#f92672">/</span>float<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><ul>
<li><strong><code>'int(&lt;str&gt;)'</code> and <code>'float(&lt;str&gt;)'</code> raise ValueError on malformed strings.</strong></li>
<li><strong>Decimal numbers can be represented exactly, unlike floats where <code>'1.1 + 2.2 != 3.3'</code>.</strong></li>
<li><strong>Precision of decimal operations is set with: <code>'decimal.getcontext().prec = &lt;int&gt;'</code>.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="basic-functions">
        Basic Functions
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#basic-functions" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Basic Functions" aria-label="Anchor to: Basic Functions" href="#basic-functions">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>num<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pow(<span style="color:#f92672">&lt;</span>num<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>num<span style="color:#f92672">&gt;</span>)             <span style="color:#75715e"># Or: &lt;num&gt; ** &lt;num&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>num<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> abs(<span style="color:#f92672">&lt;</span>num<span style="color:#f92672">&gt;</span>)                    <span style="color:#75715e"># &lt;float&gt; = abs(&lt;complex&gt;)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>num<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> round(<span style="color:#f92672">&lt;</span>num<span style="color:#f92672">&gt;</span> [, <span style="color:#960050;background-color:#1e0010">±</span>ndigits])     <span style="color:#75715e"># `round(126, -1) == 130`</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="math">
        Math
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#math" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Math" aria-label="Anchor to: Math" href="#math">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> math <span style="color:#f92672">import</span> e, pi, inf, nan, isinf, isnan
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> math <span style="color:#f92672">import</span> cos, acos, sin, asin, tan, atan, degrees, radians
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> math <span style="color:#f92672">import</span> log, log10, log2
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="statistics">
        Statistics
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#statistics" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Statistics" aria-label="Anchor to: Statistics" href="#statistics">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> statistics <span style="color:#f92672">import</span> mean, median, variance, pvariance, pstdev
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="random">
        Random
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#random" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Random" aria-label="Anchor to: Random" href="#random">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> random, randint, choice, shuffle
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>float<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> random()
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> randint(from_inclusive, to_inclusive)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> choice(<span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>shuffle(<span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="bin-hex">
        Bin, Hex
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#bin-hex" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Bin, Hex" aria-label="Anchor to: Bin, Hex" href="#bin-hex">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>b<span style="color:#f92672">&lt;</span>bin<span style="color:#f92672">&gt;</span>                   <span style="color:#75715e"># Or: 0x&lt;hex&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> int(<span style="color:#e6db74">&#39;&lt;bin&gt;&#39;</span>, <span style="color:#ae81ff">2</span>)           <span style="color:#75715e"># Or: int(&#39;&lt;hex&gt;&#39;, 16)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> int(<span style="color:#e6db74">&#39;0b&lt;bin&gt;&#39;</span>, <span style="color:#ae81ff">0</span>)         <span style="color:#75715e"># Or: int(&#39;0x&lt;hex&gt;&#39;, 0)</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;0b&lt;bin&gt;&#39;</span> <span style="color:#f92672">=</span> bin(<span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>)                <span style="color:#75715e"># Or: hex(&lt;int&gt;)</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="bitwise-operators">
        Bitwise Operators
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#bitwise-operators" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Bitwise Operators" aria-label="Anchor to: Bitwise Operators" href="#bitwise-operators">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&amp;</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>             <span style="color:#75715e"># And</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">|</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>             <span style="color:#75715e"># Or</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">^</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>             <span style="color:#75715e"># Xor (0 if both bits equal)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&lt;&lt;</span> n_bits           <span style="color:#75715e"># Shift left</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&gt;&gt;</span> n_bits           <span style="color:#75715e"># Shift right</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> <span style="color:#f92672">~&lt;</span>int<span style="color:#f92672">&gt;</span>                    <span style="color:#75715e"># Compliment (flips bits)</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="combinatorics">
        Combinatorics
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#combinatorics" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Combinatorics" aria-label="Anchor to: Combinatorics" href="#combinatorics">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<ul>
<li><strong>Every function returns an iterator.</strong></li>
<li><strong>If you want to print the iterator, you need to pass it to the list() function first!</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> itertools <span style="color:#f92672">import</span> product, combinations, combinations_with_replacement, permutations
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> product([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>], repeat<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>[(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>), (<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>), (<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>), (<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>),
</span></span><span style="display:flex;"><span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>), (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>), (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>), (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>)]
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> product(<span style="color:#e6db74">&#39;ab&#39;</span>, <span style="color:#e6db74">&#39;12&#39;</span>)
</span></span><span style="display:flex;"><span>[(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;1&#39;</span>), (<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;2&#39;</span>),
</span></span><span style="display:flex;"><span> (<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;1&#39;</span>), (<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;2&#39;</span>)]
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> combinations(<span style="color:#e6db74">&#39;abc&#39;</span>, <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>[(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>), (<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>), (<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>)]
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> combinations_with_replacement(<span style="color:#e6db74">&#39;abc&#39;</span>, <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>[(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>), (<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>), (<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>),
</span></span><span style="display:flex;"><span> (<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>), (<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>),
</span></span><span style="display:flex;"><span> (<span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>)]
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> permutations(<span style="color:#e6db74">&#39;abc&#39;</span>, <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>[(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>), (<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>),
</span></span><span style="display:flex;"><span> (<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>), (<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>),
</span></span><span style="display:flex;"><span> (<span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>), (<span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>)]
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="datetime">
        Datetime
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#datetime" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Datetime" aria-label="Anchor to: Datetime" href="#datetime">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<ul>
<li><strong>Module &lsquo;datetime&rsquo; provides &lsquo;date&rsquo; <code>&lt;D&gt;</code>, &rsquo;time&rsquo; <code>&lt;T&gt;</code>, &lsquo;datetime&rsquo; <code>&lt;DT&gt;</code> and &rsquo;timedelta&rsquo; <code>&lt;TD&gt;</code> classes. All are immutable and hashable.</strong></li>
<li><strong>Time and datetime objects can be &lsquo;aware&rsquo; <code>&lt;a&gt;</code>, meaning they have defined timezone, or &rsquo;naive&rsquo; <code>&lt;n&gt;</code>, meaning they don&rsquo;t.</strong></li>
<li><strong>If object is naive, it is presumed to be in the system&rsquo;s timezone.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> datetime <span style="color:#f92672">import</span> date, time, datetime, timedelta
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> dateutil.tz <span style="color:#f92672">import</span> UTC, tzlocal, gettz, resolve_imaginary
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="constructors">
        Constructors
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#constructors" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Constructors" aria-label="Anchor to: Constructors" href="#constructors">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>D<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> date(year, month, day)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> time(hour<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, minute<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, second<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, microsecond<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, tzinfo<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, fold<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DT<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> datetime(year, month, day, hour<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, minute<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, second<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, <span style="color:#f92672">...</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>TD<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> timedelta(days<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, seconds<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, microseconds<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, milliseconds<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>                 minutes<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, hours<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, weeks<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><ul>
<li><strong>Use <code>'&lt;D/DT&gt;.weekday()'</code> to get the day of the week (Mon == 0).</strong></li>
<li><strong><code>'fold=1'</code> means the second pass in case of time jumping back for one hour.</strong></li>
<li><strong><code>'&lt;DTa&gt; = resolve_imaginary(&lt;DTa&gt;)'</code> fixes DTs that fall into the missing hour.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="now">
        Now
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#now" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Now" aria-label="Anchor to: Now" href="#now">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>DTn<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> D<span style="color:#f92672">/</span>DT<span style="color:#f92672">.</span>today()                     <span style="color:#75715e"># Current local date or naive datetime.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DTn<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> DT<span style="color:#f92672">.</span>utcnow()                      <span style="color:#75715e"># Naive datetime from current UTC time.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DTa<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> DT<span style="color:#f92672">.</span>now(<span style="color:#f92672">&lt;</span>tzinfo<span style="color:#f92672">&gt;</span>)                 <span style="color:#75715e"># Aware datetime from current tz time.</span>
</span></span></code></pre></div><ul>
<li><strong>To extract time use <code>'&lt;DTn&gt;.time()'</code>, <code>'&lt;DTa&gt;.time()'</code> or <code>'&lt;DTa&gt;.timetz()'</code>.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="timezone">
        Timezone
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#timezone" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Timezone" aria-label="Anchor to: Timezone" href="#timezone">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tzinfo<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> UTC                              <span style="color:#75715e"># UTC timezone. London without DST.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tzinfo<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> tzlocal()                        <span style="color:#75715e"># Local timezone. Also gettz().</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tzinfo<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> gettz(<span style="color:#e6db74">&#39;&lt;Continent&gt;/&lt;City&gt;&#39;</span>)      <span style="color:#75715e"># &#39;Continent/City_Name&#39; timezone or None.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DTa<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DT<span style="color:#f92672">&gt;.</span>astimezone(<span style="color:#f92672">&lt;</span>tzinfo<span style="color:#f92672">&gt;</span>)        <span style="color:#75715e"># Datetime, converted to passed timezone.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Ta<span style="color:#f92672">/</span>DTa<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>T<span style="color:#f92672">/</span>DT<span style="color:#f92672">&gt;.</span>replace(tzinfo<span style="color:#f92672">=&lt;</span>tzinfo<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># Unconverted object with new timezone.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="encode">
        Encode
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#encode" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Encode" aria-label="Anchor to: Encode" href="#encode">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>T<span style="color:#f92672">/</span>DT<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> D<span style="color:#f92672">/</span>T<span style="color:#f92672">/</span>DT<span style="color:#f92672">.</span>fromisoformat(<span style="color:#e6db74">&#39;&lt;iso&gt;&#39;</span>)    <span style="color:#75715e"># Object from ISO string. Raises ValueError.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DT<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> DT<span style="color:#f92672">.</span>strptime(<span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>, <span style="color:#e6db74">&#39;&lt;format&gt;&#39;</span>)   <span style="color:#75715e"># Datetime from str, according to format.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>DTn<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> D<span style="color:#f92672">/</span>DT<span style="color:#f92672">.</span>fromordinal(<span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>)          <span style="color:#75715e"># D/DTn from days since Christ, at midnight.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DTn<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> DT<span style="color:#f92672">.</span>fromtimestamp(<span style="color:#f92672">&lt;</span>real<span style="color:#f92672">&gt;</span>)         <span style="color:#75715e"># Local time DTn from seconds since Epoch.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DTa<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> DT<span style="color:#f92672">.</span>fromtimestamp(<span style="color:#f92672">&lt;</span>real<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>tz<span style="color:#f92672">.&gt;</span>)  <span style="color:#75715e"># Aware datetime from seconds since Epoch.</span>
</span></span></code></pre></div><ul>
<li><strong>ISO strings come in following forms: <code>'YYYY-MM-DD'</code>, <code>'HH:MM:SS.ffffff[±&lt;offset&gt;]'</code>, or both separated by an arbitrary character. Offset is formatted as: <code>'HH:MM'</code>.</strong></li>
<li><strong>Epoch on Unix systems is: <code>'1970-01-01 00:00 UTC'</code>, <code>'1970-01-01 01:00 CET'</code>, &hellip;</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="decode">
        Decode
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#decode" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Decode" aria-label="Anchor to: Decode" href="#decode">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>T<span style="color:#f92672">/</span>DT<span style="color:#f92672">&gt;.</span>isoformat(sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;T&#39;</span>)      <span style="color:#75715e"># Also timespec=&#39;auto/hours/minutes/seconds&#39;.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>T<span style="color:#f92672">/</span>DT<span style="color:#f92672">&gt;.</span>strftime(<span style="color:#e6db74">&#39;&lt;format&gt;&#39;</span>)    <span style="color:#75715e"># Custom string representation.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>DT<span style="color:#f92672">&gt;.</span>toordinal()               <span style="color:#75715e"># Days since Christ, ignoring time and tz.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>float<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DTn<span style="color:#f92672">&gt;.</span>timestamp()                <span style="color:#75715e"># Seconds since Epoch, from DTn in local tz.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>float<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DTa<span style="color:#f92672">&gt;.</span>timestamp()                <span style="color:#75715e"># Seconds since Epoch, from DTa.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="format-1">
        Format
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#format-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Format" aria-label="Anchor to: Format" href="#format-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> datetime <span style="color:#f92672">import</span> datetime
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> dt <span style="color:#f92672">=</span> datetime<span style="color:#f92672">.</span>strptime(<span style="color:#e6db74">&#39;2015-05-14 23:39:00.00 +0200&#39;</span>, <span style="color:#e6db74">&#39;%Y-%m-</span><span style="color:#e6db74">%d</span><span style="color:#e6db74"> %H:%M:%S.</span><span style="color:#e6db74">%f</span><span style="color:#e6db74"> %z&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> dt<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#34;%A, </span><span style="color:#e6db74">%d</span><span style="color:#e6db74">th of %B &#39;%y, %I:%M%p %Z&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;Thursday, 14th of May &#39;15, 11:39PM UTC+02:00&#34;</span>
</span></span></code></pre></div><ul>
<li><strong>When parsing, <code>'%z'</code> also accepts <code>'±HH:MM'</code>.</strong></li>
<li><strong>For abbreviated weekday and month use <code>'%a'</code> and <code>'%b'</code>.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="arithmetics">
        Arithmetics
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#arithmetics" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Arithmetics" aria-label="Anchor to: Arithmetics" href="#arithmetics">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>DT<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>DT<span style="color:#f92672">&gt;</span>   <span style="color:#960050;background-color:#1e0010">±</span> <span style="color:#f92672">&lt;</span>TD<span style="color:#f92672">&gt;</span>                  <span style="color:#75715e"># Returned datetime can fall into missing hour.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>TD<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>DTn<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">-</span> <span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>DTn<span style="color:#f92672">&gt;</span>               <span style="color:#75715e"># Returns the difference, ignoring time jumps.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>TD<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DTa<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">-</span> <span style="color:#f92672">&lt;</span>DTa<span style="color:#f92672">&gt;</span>                 <span style="color:#75715e"># Ignores time jumps if they share tzinfo object.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>TD<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DT_UTC<span style="color:#f92672">&gt;</span> <span style="color:#f92672">-</span> <span style="color:#f92672">&lt;</span>DT_UTC<span style="color:#f92672">&gt;</span>              <span style="color:#75715e"># Convert DTs to UTC to get the actual delta.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="arguments">
        Arguments
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#arguments" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Arguments" aria-label="Anchor to: Arguments" href="#arguments">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="gdoc-page__anchorwrap">
    <h3 id="inside-function-call">
        Inside Function Call
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#inside-function-call" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Inside Function Call" aria-label="Anchor to: Inside Function Call" href="#inside-function-call">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>function<span style="color:#f92672">&gt;</span>(<span style="color:#f92672">&lt;</span>positional_args<span style="color:#f92672">&gt;</span>)                  <span style="color:#75715e"># f(0, 0)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>function<span style="color:#f92672">&gt;</span>(<span style="color:#f92672">&lt;</span>keyword_args<span style="color:#f92672">&gt;</span>)                     <span style="color:#75715e"># f(x=0, y=0)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>function<span style="color:#f92672">&gt;</span>(<span style="color:#f92672">&lt;</span>positional_args<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>keyword_args<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># f(0, y=0)</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="inside-function-definition">
        Inside Function Definition
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#inside-function-definition" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Inside Function Definition" aria-label="Anchor to: Inside Function Definition" href="#inside-function-definition">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">&lt;</span>nondefault_args<span style="color:#f92672">&gt;</span>):                      <span style="color:#75715e"># def f(x, y):</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">&lt;</span>default_args<span style="color:#f92672">&gt;</span>):                         <span style="color:#75715e"># def f(x=0, y=0):</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">&lt;</span>nondefault_args<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>default_args<span style="color:#f92672">&gt;</span>):      <span style="color:#75715e"># def f(x, y=0):</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="splat-operator">
        Splat Operator
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#splat-operator" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Splat Operator" aria-label="Anchor to: Splat Operator" href="#splat-operator">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="gdoc-page__anchorwrap">
    <h3 id="inside-function-call-1">
        Inside Function Call
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#inside-function-call-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Inside Function Call" aria-label="Anchor to: Inside Function Call" href="#inside-function-call-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Splat expands a collection into positional arguments, while splatty-splat expands a dictionary into keyword arguments.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>args   <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>kwargs <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;x&#39;</span>: <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;y&#39;</span>: <span style="color:#ae81ff">4</span>, <span style="color:#e6db74">&#39;z&#39;</span>: <span style="color:#ae81ff">5</span>}
</span></span><span style="display:flex;"><span>func(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="is-the-same-as">
        Is the same as:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#is-the-same-as" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Is the same as:" aria-label="Anchor to: Is the same as:" href="#is-the-same-as">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>func(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, x<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>, y<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>, z<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="inside-function-definition-1">
        Inside Function Definition
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#inside-function-definition-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Inside Function Definition" aria-label="Anchor to: Inside Function Definition" href="#inside-function-definition-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Splat combines zero or more positional arguments into a tuple, while splatty-splat combines zero or more keyword arguments into a dictionary.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">add</span>(<span style="color:#f92672">*</span>a):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> sum(a)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> add(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">6</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="legal-argument-combinations">
        Legal argument combinations:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#legal-argument-combinations" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Legal argument combinations:" aria-label="Anchor to: Legal argument combinations:" href="#legal-argument-combinations">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x, y, z):                <span style="color:#75715e"># f(x=1, y=2, z=3) | f(1, y=2, z=3) | f(1, 2, z=3) | f(1, 2, 3)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">*</span>, x, y, z):             <span style="color:#75715e"># f(x=1, y=2, z=3)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x, <span style="color:#f92672">*</span>, y, z):             <span style="color:#75715e"># f(x=1, y=2, z=3) | f(1, y=2, z=3)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x, y, <span style="color:#f92672">*</span>, z):             <span style="color:#75715e"># f(x=1, y=2, z=3) | f(1, y=2, z=3) | f(1, 2, z=3)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">*</span>args):                  <span style="color:#75715e"># f(1, 2, 3)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x, <span style="color:#f92672">*</span>args):               <span style="color:#75715e"># f(1, 2, 3)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">*</span>args, z):               <span style="color:#75715e"># f(1, 2, z=3)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x, <span style="color:#f92672">*</span>args, z):            <span style="color:#75715e"># f(1, 2, z=3)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">**</span>kwargs):               <span style="color:#75715e"># f(x=1, y=2, z=3)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x, <span style="color:#f92672">**</span>kwargs):            <span style="color:#75715e"># f(x=1, y=2, z=3) | f(1, y=2, z=3)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">*</span>, x, <span style="color:#f92672">**</span>kwargs):         <span style="color:#75715e"># f(x=1, y=2, z=3)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs):        <span style="color:#75715e"># f(x=1, y=2, z=3) | f(1, y=2, z=3) | f(1, 2, z=3) | f(1, 2, 3)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x, <span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs):     <span style="color:#75715e"># f(x=1, y=2, z=3) | f(1, y=2, z=3) | f(1, 2, z=3) | f(1, 2, 3)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">*</span>args, y, <span style="color:#f92672">**</span>kwargs):     <span style="color:#75715e"># f(x=1, y=2, z=3) | f(1, y=2, z=3)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x, <span style="color:#f92672">*</span>args, z, <span style="color:#f92672">**</span>kwargs):  <span style="color:#75715e"># f(x=1, y=2, z=3) | f(1, y=2, z=3) | f(1, 2, z=3)</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="other-uses">
        Other Uses
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#other-uses" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Other Uses" aria-label="Anchor to: Other Uses" href="#other-uses">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> [<span style="color:#f92672">*&lt;</span>collection<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">...</span>]]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> {<span style="color:#f92672">*&lt;</span>collection<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">...</span>]}
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tuple<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> (<span style="color:#f92672">*&lt;</span>collection<span style="color:#f92672">&gt;</span>, [<span style="color:#f92672">...</span>])
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> {<span style="color:#f92672">**&lt;</span>dict<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">...</span>]}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>head, <span style="color:#f92672">*</span>body, tail <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="inline">
        Inline
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#inline" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Inline" aria-label="Anchor to: Inline" href="#inline">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="gdoc-page__anchorwrap">
    <h3 id="lambda">
        Lambda
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#lambda" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Lambda" aria-label="Anchor to: Lambda" href="#lambda">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>function<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span>: <span style="color:#f92672">&lt;</span>return_value<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>function<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> <span style="color:#f92672">&lt;</span>argument_1<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>argument_2<span style="color:#f92672">&gt;</span>: <span style="color:#f92672">&lt;</span>return_value<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="comprehension">
        Comprehension
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#comprehension" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Comprehension" aria-label="Anchor to: Comprehension" href="#comprehension">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> [i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>)]                   <span style="color:#75715e"># [1, 2, ..., 10]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> {i <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>) <span style="color:#66d9ef">if</span> i <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">5</span>}            <span style="color:#75715e"># {6, 7, 8, 9}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> (i<span style="color:#f92672">+</span><span style="color:#ae81ff">5</span> <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>))                   <span style="color:#75715e"># (5, 6, ..., 14)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> {i: i<span style="color:#f92672">*</span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>)}                <span style="color:#75715e"># {0: 0, 1: 2, ..., 9: 18}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>out <span style="color:#f92672">=</span> [i<span style="color:#f92672">+</span>j <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>) <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>)]
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="is-the-same-as-1">
        Is the same as:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#is-the-same-as-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Is the same as:" aria-label="Anchor to: Is the same as:" href="#is-the-same-as-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>out <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>):
</span></span><span style="display:flex;"><span>        out<span style="color:#f92672">.</span>append(i<span style="color:#f92672">+</span>j)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="map-filter-reduce">
        Map, Filter, Reduce
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#map-filter-reduce" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Map, Filter, Reduce" aria-label="Anchor to: Map, Filter, Reduce" href="#map-filter-reduce">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> functools <span style="color:#f92672">import</span> reduce
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> map(<span style="color:#66d9ef">lambda</span> x: x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, range(<span style="color:#ae81ff">10</span>))            <span style="color:#75715e"># (1, 2, ..., 10)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> filter(<span style="color:#66d9ef">lambda</span> x: x <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">5</span>, range(<span style="color:#ae81ff">10</span>))         <span style="color:#75715e"># (6, 7, 8, 9)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>obj<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> reduce(<span style="color:#66d9ef">lambda</span> out, x: out <span style="color:#f92672">+</span> x, range(<span style="color:#ae81ff">10</span>))  <span style="color:#75715e"># 45</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="any-all">
        Any, All
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#any-all" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Any, All" aria-label="Anchor to: Any, All" href="#any-all">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> any(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)                          <span style="color:#75715e"># False if empty.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> all(el[<span style="color:#ae81ff">1</span>] <span style="color:#66d9ef">for</span> el <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)          <span style="color:#75715e"># True if empty.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="if---else">
        If - Else
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#if---else" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: If - Else" aria-label="Anchor to: If - Else" href="#if---else">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>obj<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>expression_if_true<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">&lt;</span>condition<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">&lt;</span>expression_if_false<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> [a <span style="color:#66d9ef">if</span> a <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#39;zero&#39;</span> <span style="color:#66d9ef">for</span> a <span style="color:#f92672">in</span> (<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)]
</span></span><span style="display:flex;"><span>[<span style="color:#e6db74">&#39;zero&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="namedtuple-enum-dataclass">
        Namedtuple, Enum, Dataclass
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#namedtuple-enum-dataclass" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Namedtuple, Enum, Dataclass" aria-label="Anchor to: Namedtuple, Enum, Dataclass" href="#namedtuple-enum-dataclass">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> namedtuple
</span></span><span style="display:flex;"><span>Point     <span style="color:#f92672">=</span> namedtuple(<span style="color:#e6db74">&#39;Point&#39;</span>, <span style="color:#e6db74">&#39;x y&#39;</span>)
</span></span><span style="display:flex;"><span>point     <span style="color:#f92672">=</span> Point(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> enum <span style="color:#f92672">import</span> Enum
</span></span><span style="display:flex;"><span>Direction <span style="color:#f92672">=</span> Enum(<span style="color:#e6db74">&#39;Direction&#39;</span>, <span style="color:#e6db74">&#39;n e s w&#39;</span>)
</span></span><span style="display:flex;"><span>direction <span style="color:#f92672">=</span> Direction<span style="color:#f92672">.</span>n
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> dataclasses <span style="color:#f92672">import</span> make_dataclass
</span></span><span style="display:flex;"><span>Creature  <span style="color:#f92672">=</span> make_dataclass(<span style="color:#e6db74">&#39;Creature&#39;</span>, [<span style="color:#e6db74">&#39;location&#39;</span>, <span style="color:#e6db74">&#39;direction&#39;</span>])
</span></span><span style="display:flex;"><span>creature  <span style="color:#f92672">=</span> Creature(Point(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>), Direction<span style="color:#f92672">.</span>n)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="closure">
        Closure
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#closure" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Closure" aria-label="Anchor to: Closure" href="#closure">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<p><strong>We have a closure in Python when:</strong></p>
<ul>
<li><strong>A nested function references a value of its enclosing function and then</strong></li>
<li><strong>the enclosing function returns the nested function.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_multiplier</span>(a):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">out</span>(b):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> a <span style="color:#f92672">*</span> b
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> out
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> multiply_by_3 <span style="color:#f92672">=</span> get_multiplier(<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> multiply_by_3(<span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span>
</span></span></code></pre></div><ul>
<li><strong>If multiple nested functions within enclosing function reference the same value, that value gets shared.</strong></li>
<li><strong>To dynamically access function&rsquo;s first free variable use <code>'&lt;function&gt;.__closure__[0].cell_contents'</code>.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="partial">
        Partial
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#partial" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Partial" aria-label="Anchor to: Partial" href="#partial">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> functools <span style="color:#f92672">import</span> partial
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>function<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> partial(<span style="color:#f92672">&lt;</span>function<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">&lt;</span>arg_1<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>arg_2<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">...</span>])
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">import</span> operator <span style="color:#66d9ef">as</span> op
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> multiply_by_3 <span style="color:#f92672">=</span> partial(op<span style="color:#f92672">.</span>mul, <span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> multiply_by_3(<span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span>
</span></span></code></pre></div><ul>
<li><strong>Partial is also useful in cases when function needs to be passed as an argument, because it enables us to set its arguments beforehand.</strong></li>
<li><strong>A few examples being: <code>'defaultdict(&lt;function&gt;)'</code>, <code>'iter(&lt;function&gt;, to_exclusive)'</code> and dataclass&rsquo;s <code>'field(default_factory=&lt;function&gt;)'</code>.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="non-local">
        Non-Local
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#non-local" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Non-Local" aria-label="Anchor to: Non-Local" href="#non-local">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>If variable is being assigned to anywhere in the scope, it is regarded as a local variable, unless it is declared as a &lsquo;global&rsquo; or a &rsquo;nonlocal&rsquo;.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_counter</span>():
</span></span><span style="display:flex;"><span>    i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">out</span>():
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">nonlocal</span> i
</span></span><span style="display:flex;"><span>        i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> i
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> out
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> counter <span style="color:#f92672">=</span> get_counter()
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> counter(), counter(), counter()
</span></span><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="decorator">
        Decorator
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#decorator" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Decorator" aria-label="Anchor to: Decorator" href="#decorator">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<p><strong>A decorator takes a function, adds some functionality and returns it.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#a6e22e">@decorator_name</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">function_that_gets_passed_to_decorator</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">...</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="debugger-example">
        Debugger Example
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#debugger-example" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Debugger Example" aria-label="Anchor to: Debugger Example" href="#debugger-example">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Decorator that prints function&rsquo;s name every time it gets called.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> functools <span style="color:#f92672">import</span> wraps
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">debug</span>(func):
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@wraps</span>(func)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">out</span>(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs):
</span></span><span style="display:flex;"><span>        print(func<span style="color:#f92672">.</span>__name__)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> func(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> out
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@debug</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">add</span>(x, y):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> x <span style="color:#f92672">+</span> y
</span></span></code></pre></div><ul>
<li><strong>Wraps is a helper decorator that copies the metadata of the passed function (func) to the function it is wrapping (out).</strong></li>
<li><strong>Without it <code>'add.__name__'</code> would return <code>'out'</code>.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="lru-cache">
        LRU Cache
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#lru-cache" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: LRU Cache" aria-label="Anchor to: LRU Cache" href="#lru-cache">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Decorator that caches function&rsquo;s return values. All function&rsquo;s arguments must be hashable.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> functools <span style="color:#f92672">import</span> lru_cache
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@lru_cache</span>(maxsize<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fib</span>(n):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> n <span style="color:#66d9ef">if</span> n <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">2</span> <span style="color:#66d9ef">else</span> fib(n<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>) <span style="color:#f92672">+</span> fib(n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><ul>
<li><strong>CPython interpreter limits recursion depth to 1000 by default. To increase it use <code>'sys.setrecursionlimit(&lt;depth&gt;)'</code>.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="parametrized-decorator">
        Parametrized Decorator
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#parametrized-decorator" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Parametrized Decorator" aria-label="Anchor to: Parametrized Decorator" href="#parametrized-decorator">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>A decorator that accepts arguments and returns a normal decorator that accepts a function.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> functools <span style="color:#f92672">import</span> wraps
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">debug</span>(print_result<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">decorator</span>(func):
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">@wraps</span>(func)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">out</span>(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs):
</span></span><span style="display:flex;"><span>            result <span style="color:#f92672">=</span> func(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs)
</span></span><span style="display:flex;"><span>            print(func<span style="color:#f92672">.</span>__name__, result <span style="color:#66d9ef">if</span> print_result <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#39;&#39;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> result
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> out
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> decorator
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@debug</span>(print_result<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">add</span>(x, y):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> x <span style="color:#f92672">+</span> y
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="class">
        Class
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#class" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Class" aria-label="Anchor to: Class" href="#class">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">name</span><span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, a):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __repr__(self):
</span></span><span style="display:flex;"><span>        class_name <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>__class__<span style="color:#f92672">.</span>__name__
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>class_name<span style="color:#e6db74">}</span><span style="color:#e6db74">(</span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>a<span style="color:#e6db74">!r}</span><span style="color:#e6db74">)&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __str__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> str(self<span style="color:#f92672">.</span>a)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@classmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_class_name</span>(cls):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> cls<span style="color:#f92672">.</span>__name__
</span></span></code></pre></div><ul>
<li><strong>Return value of repr() should be unambiguous and of str() readable.</strong></li>
<li><strong>If only repr() is defined, it will also be used for str().</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h4 id="str-use-cases">
        Str() use cases:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#str-use-cases" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Str() use cases:" aria-label="Anchor to: Str() use cases:" href="#str-use-cases">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">Exception</span>(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>loguru<span style="color:#f92672">.</span>logger<span style="color:#f92672">.</span>debug(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>csv<span style="color:#f92672">.</span>writer(<span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;</span>)<span style="color:#f92672">.</span>writerow([<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>])
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="repr-use-cases">
        Repr() use cases:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#repr-use-cases" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Repr() use cases:" aria-label="Anchor to: Repr() use cases:" href="#repr-use-cases">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print([<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>])
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span><span style="color:#e6db74">!r}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>loguru<span style="color:#f92672">.</span>logger<span style="color:#f92672">.</span>exception()
</span></span><span style="display:flex;"><span>Z <span style="color:#f92672">=</span> dataclasses<span style="color:#f92672">.</span>make_dataclass(<span style="color:#e6db74">&#39;Z&#39;</span>, [<span style="color:#e6db74">&#39;a&#39;</span>]); print(Z(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>))
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="constructor-overloading">
        Constructor Overloading
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#constructor-overloading" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Constructor Overloading" aria-label="Anchor to: Constructor Overloading" href="#constructor-overloading">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">name</span><span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, a<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> a
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="inheritance">
        Inheritance
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#inheritance" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Inheritance" aria-label="Anchor to: Inheritance" href="#inheritance">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, name, age):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>name <span style="color:#f92672">=</span> name
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>age  <span style="color:#f92672">=</span> age
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Employee</span>(Person):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, name, age, staff_num):
</span></span><span style="display:flex;"><span>        super()<span style="color:#f92672">.</span>__init__(name, age)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>staff_num <span style="color:#f92672">=</span> staff_num
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="multiple-inheritance">
        Multiple Inheritance
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#multiple-inheritance" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Multiple Inheritance" aria-label="Anchor to: Multiple Inheritance" href="#multiple-inheritance">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>: <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span>: <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span>(A, B): <span style="color:#66d9ef">pass</span>
</span></span></code></pre></div><p><strong>MRO determines the order in which parent classes are traversed when searching for a method:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> C<span style="color:#f92672">.</span>mro()
</span></span><span style="display:flex;"><span>[<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">C</span><span style="color:#e6db74">&#39;&gt;, &lt;class &#39;</span>A<span style="color:#e6db74">&#39;&gt;, &lt;class &#39;</span><span style="color:#e6db74">B</span><span style="color:#e6db74">&#39;&gt;, &lt;class &#39;</span>object<span style="color:#e6db74">&#39;&gt;]</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="property">
        Property
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#property" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Property" aria-label="Anchor to: Property" href="#property">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Pythonic way of implementing getters and setters.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyClass</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@property</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">a</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>_a
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@a</span><span style="color:#f92672">.</span>setter
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">a</span>(self, value):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>_a <span style="color:#f92672">=</span> value
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> el <span style="color:#f92672">=</span> MyClass()
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> el<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">123</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> el<span style="color:#f92672">.</span>a
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">123</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="dataclass">
        Dataclass
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#dataclass" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Dataclass" aria-label="Anchor to: Dataclass" href="#dataclass">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Decorator that automatically generates init(), repr() and eq() special methods.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> dataclasses <span style="color:#f92672">import</span> dataclass, field
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@dataclass</span>(order<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>, frozen<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">class_name</span><span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>attr_name_1<span style="color:#f92672">&gt;</span>: <span style="color:#f92672">&lt;</span>type<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>attr_name_2<span style="color:#f92672">&gt;</span>: <span style="color:#f92672">&lt;</span>type<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>default_value<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>attr_name_3<span style="color:#f92672">&gt;</span>: list<span style="color:#f92672">/</span>dict<span style="color:#f92672">/</span>set <span style="color:#f92672">=</span> field(default_factory<span style="color:#f92672">=</span>list<span style="color:#f92672">/</span>dict<span style="color:#f92672">/</span>set)
</span></span></code></pre></div><ul>
<li><strong>Objects can be made sortable with <code>'order=True'</code> and/or immutable and hashable with <code>'frozen=True'</code>.</strong></li>
<li><strong>Function field() is needed because <code>'&lt;attr_name&gt;: list = []'</code> would make a list that is shared among all instances.</strong></li>
<li><strong>Default_factory can be any <a
  class="gdoc-markdown__link"
  href="#callable"
  
>callable</a>.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h4 id="inline-1">
        Inline:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#inline-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Inline:" aria-label="Anchor to: Inline:" href="#inline-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> dataclasses <span style="color:#f92672">import</span> make_dataclass
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>class<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> make_dataclass(<span style="color:#e6db74">&#39;&lt;class_name&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>coll_of_attribute_names<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>class<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> make_dataclass(<span style="color:#e6db74">&#39;&lt;class_name&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>coll_of_tuples<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tuple<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> (<span style="color:#e6db74">&#39;&lt;attr_name&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>type<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">&lt;</span>default_value<span style="color:#f92672">&gt;</span>])
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="slots">
        Slots
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#slots" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Slots" aria-label="Anchor to: Slots" href="#slots">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Mechanism that restricts objects to attributes listed in &lsquo;slots&rsquo; and significantly reduces their memory footprint.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyClassWithSlots</span>:
</span></span><span style="display:flex;"><span>    __slots__ <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="copy">
        Copy
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#copy" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Copy" aria-label="Anchor to: Copy" href="#copy">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> copy <span style="color:#f92672">import</span> copy, deepcopy
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> copy(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> deepcopy(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="duck-types">
        Duck Types
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#duck-types" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Duck Types" aria-label="Anchor to: Duck Types" href="#duck-types">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<p><strong>A duck type is an implicit type that prescribes a set of special methods. Any object that has those methods defined is considered a member of that duck type.</strong></p>
<div class="gdoc-page__anchorwrap">
    <h3 id="comparable">
        Comparable
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#comparable" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Comparable" aria-label="Anchor to: Comparable" href="#comparable">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<ul>
<li><strong>If eq() method is not overridden, it returns <code>'id(self) == id(other)'</code>, which is the same as <code>'self is other'</code>.</strong></li>
<li><strong>That means all objects compare not equal by default.</strong></li>
<li><strong>Only the left side object has eq() method called, unless it returns NotImplemented, in which case the right object is consulted.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyComparable</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, a):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __eq__(self, other):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> isinstance(other, type(self)):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>a <span style="color:#f92672">==</span> other<span style="color:#f92672">.</span>a
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NotImplemented
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="hashable">
        Hashable
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#hashable" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Hashable" aria-label="Anchor to: Hashable" href="#hashable">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<ul>
<li><strong>Hashable object needs both hash() and eq() methods and its hash value should never change.</strong></li>
<li><strong>Hashable objects that compare equal must have the same hash value, meaning default hash() that returns <code>'id(self)'</code> will not do.</strong></li>
<li><strong>That is why Python automatically makes classes unhashable if you only implement eq().</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyHashable</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, a):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>_a <span style="color:#f92672">=</span> a
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@property</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">a</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>_a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __eq__(self, other):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> isinstance(other, type(self)):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>a <span style="color:#f92672">==</span> other<span style="color:#f92672">.</span>a
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NotImplemented
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __hash__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> hash(self<span style="color:#f92672">.</span>a)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="sortable">
        Sortable
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#sortable" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Sortable" aria-label="Anchor to: Sortable" href="#sortable">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<ul>
<li><strong>With total_ordering decorator, you only need to provide eq() and one of lt(), gt(), le() or ge() special methods.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> functools <span style="color:#f92672">import</span> total_ordering
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@total_ordering</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MySortable</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, a):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __eq__(self, other):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> isinstance(other, type(self)):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>a <span style="color:#f92672">==</span> other<span style="color:#f92672">.</span>a
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NotImplemented
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __lt__(self, other):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> isinstance(other, type(self)):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>a <span style="color:#f92672">&lt;</span> other<span style="color:#f92672">.</span>a
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NotImplemented
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="iterator-1">
        Iterator
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#iterator-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Iterator" aria-label="Anchor to: Iterator" href="#iterator-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<ul>
<li><strong>Any object that has methods next() and iter() is an iterator.</strong></li>
<li><strong>Next() should return next item or raise StopIteration.</strong></li>
<li><strong>Iter() should return &lsquo;self&rsquo;.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Counter</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __next__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>i
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __iter__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> counter <span style="color:#f92672">=</span> Counter()
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> next(counter), next(counter), next(counter)
</span></span><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="python-has-many-different-iterator-objects">
        Python has many different iterator objects:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#python-has-many-different-iterator-objects" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Python has many different iterator objects:" aria-label="Anchor to: Python has many different iterator objects:" href="#python-has-many-different-iterator-objects">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<ul>
<li><strong>Iterators returned by the <a
  class="gdoc-markdown__link"
  href="#iterator"
  
>iter()</a> function, such as list_iterator and set_iterator.</strong></li>
<li><strong>Objects returned by the <a
  class="gdoc-markdown__link"
  href="#itertools"
  
>itertools</a> module, such as count, repeat and cycle.</strong></li>
<li><strong>Generators returned by the <a
  class="gdoc-markdown__link"
  href="#generator"
  
>generator functions</a> and <a
  class="gdoc-markdown__link"
  href="#comprehension"
  
>generator expressions</a>.</strong></li>
<li><strong>File objects returned by the <a
  class="gdoc-markdown__link"
  href="#open"
  
>open()</a> function, etc.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="callable">
        Callable
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#callable" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Callable" aria-label="Anchor to: Callable" href="#callable">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<ul>
<li><strong>All functions and classes have a call() method, hence are callable.</strong></li>
<li><strong>When this cheatsheet uses <code>'&lt;function&gt;'</code> as an argument, it actually means <code>'&lt;callable&gt;'</code>.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Counter</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __call__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>i
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> counter <span style="color:#f92672">=</span> Counter()
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> counter(), counter(), counter()
</span></span><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="context-manager">
        Context Manager
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#context-manager" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Context Manager" aria-label="Anchor to: Context Manager" href="#context-manager">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<ul>
<li><strong>Enter() should lock the resources and optionally return an object.</strong></li>
<li><strong>Exit() should release the resources.</strong></li>
<li><strong>Any exception that happens inside the with block is passed to the exit() method.</strong></li>
<li><strong>If it wishes to suppress the exception it must return a true value.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyOpen</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, filename):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>filename <span style="color:#f92672">=</span> filename
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __enter__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>file <span style="color:#f92672">=</span> open(self<span style="color:#f92672">.</span>filename)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>file
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __exit__(self, exc_type, exception, traceback):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>file<span style="color:#f92672">.</span>close()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;test.txt&#39;</span>, <span style="color:#e6db74">&#39;w&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>     file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#39;Hello World!&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">with</span> MyOpen(<span style="color:#e6db74">&#39;test.txt&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>     print(file<span style="color:#f92672">.</span>read())
</span></span><span style="display:flex;"><span>Hello World<span style="color:#960050;background-color:#1e0010">!</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="iterable-duck-types">
        Iterable Duck Types
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#iterable-duck-types" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Iterable Duck Types" aria-label="Anchor to: Iterable Duck Types" href="#iterable-duck-types">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="gdoc-page__anchorwrap">
    <h3 id="iterable">
        Iterable
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#iterable" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Iterable" aria-label="Anchor to: Iterable" href="#iterable">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<ul>
<li><strong>Only required method is iter(). It should return an iterator of object&rsquo;s items.</strong></li>
<li><strong>Contains() automatically works on any object that has iter() defined.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyIterable</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, a):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __iter__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> iter(self<span style="color:#f92672">.</span>a)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __contains__(self, el):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> el <span style="color:#f92672">in</span> self<span style="color:#f92672">.</span>a
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> obj <span style="color:#f92672">=</span> MyIterable([<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>])
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> [el <span style="color:#66d9ef">for</span> el <span style="color:#f92672">in</span> obj]
</span></span><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">in</span> obj
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">True</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="collection">
        Collection
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#collection" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Collection" aria-label="Anchor to: Collection" href="#collection">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<ul>
<li><strong>Only required methods are iter() and len().</strong></li>
<li><strong>This cheatsheet actually means <code>'&lt;iterable&gt;'</code> when it uses <code>'&lt;collection&gt;'</code>.</strong></li>
<li><strong>I chose not to use the name &lsquo;iterable&rsquo; because it sounds scarier and more vague than &lsquo;collection&rsquo;.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyCollection</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, a):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __iter__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> iter(self<span style="color:#f92672">.</span>a)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __contains__(self, el):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> el <span style="color:#f92672">in</span> self<span style="color:#f92672">.</span>a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __len__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> len(self<span style="color:#f92672">.</span>a)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="sequence">
        Sequence
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#sequence" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Sequence" aria-label="Anchor to: Sequence" href="#sequence">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<ul>
<li><strong>Only required methods are len() and getitem().</strong></li>
<li><strong>Getitem() should return an item at index or raise IndexError.</strong></li>
<li><strong>Iter() and contains() automatically work on any object that has getitem() defined.</strong></li>
<li><strong>Reversed() automatically works on any object that has getitem() and len() defined.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MySequence</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, a):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __iter__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> iter(self<span style="color:#f92672">.</span>a)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __contains__(self, el):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> el <span style="color:#f92672">in</span> self<span style="color:#f92672">.</span>a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __len__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> len(self<span style="color:#f92672">.</span>a)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __getitem__(self, i):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>a[i]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __reversed__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> reversed(self<span style="color:#f92672">.</span>a)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="abc-sequence">
        ABC Sequence
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#abc-sequence" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: ABC Sequence" aria-label="Anchor to: ABC Sequence" href="#abc-sequence">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<ul>
<li><strong>It&rsquo;s a richer interface than the basic sequence.</strong></li>
<li><strong>Extending it generates iter(), contains(), reversed(), index() and count().</strong></li>
<li><strong>Unlike <code>'abc.Iterable'</code> and <code>'abc.Collection'</code>, it is not a duck type. That is why <code>'issubclass(MySequence, abc.Sequence)'</code> would return False even if MySequence had all the methods defined.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> abc
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyAbcSequence</span>(abc<span style="color:#f92672">.</span>Sequence):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, a):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __len__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> len(self<span style="color:#f92672">.</span>a)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __getitem__(self, i):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>a[i]
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="table-of-required-and-automatically-available-special-methods">
        Table of required and automatically available special methods:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#table-of-required-and-automatically-available-special-methods" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Table of required and automatically available special methods:" aria-label="Anchor to: Table of required and automatically available special methods:" href="#table-of-required-and-automatically-available-special-methods">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+------------+------------+------------+------------+--------------+
</span></span><span style="display:flex;"><span>|            |  Iterable  | Collection |  Sequence  | abc.Sequence |
</span></span><span style="display:flex;"><span>+------------+------------+------------+------------+--------------+
</span></span><span style="display:flex;"><span>| iter()     |    REQ     |    REQ     |    Yes     |     Yes      |
</span></span><span style="display:flex;"><span>| contains() |    Yes     |    Yes     |    Yes     |     Yes      |
</span></span><span style="display:flex;"><span>| len()      |            |    REQ     |    REQ     |     REQ      |
</span></span><span style="display:flex;"><span>| getitem()  |            |            |    REQ     |     REQ      |
</span></span><span style="display:flex;"><span>| reversed() |            |            |    Yes     |     Yes      |
</span></span><span style="display:flex;"><span>| index()    |            |            |            |     Yes      |
</span></span><span style="display:flex;"><span>| count()    |            |            |            |     Yes      |
</span></span><span style="display:flex;"><span>+------------+------------+------------+------------+--------------+
</span></span></code></pre></div><ul>
<li><strong>Other ABCs that generate missing methods are: MutableSequence, Set, MutableSet, Mapping and MutableMapping.</strong></li>
<li><strong>Names of their required methods are stored in <code>'&lt;abc&gt;.__abstractmethods__'</code>.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h2 id="enum">
        Enum
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#enum" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Enum" aria-label="Anchor to: Enum" href="#enum">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> enum <span style="color:#f92672">import</span> Enum, auto
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">enum_name</span><span style="color:#f92672">&gt;</span>(Enum):
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>member_name_1<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>value_1<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>member_name_2<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>value_2_a<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>value_2_b<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>member_name_3<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> auto()
</span></span></code></pre></div><ul>
<li><strong>If there are no numeric values before auto(), it returns 1.</strong></li>
<li><strong>Otherwise it returns an increment of the last numeric value.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>member<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>enum<span style="color:#f92672">&gt;.&lt;</span>member_name<span style="color:#f92672">&gt;</span>                 <span style="color:#75715e"># Returns a member.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>member<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>enum<span style="color:#f92672">&gt;</span>[<span style="color:#e6db74">&#39;&lt;member_name&gt;&#39;</span>]              <span style="color:#75715e"># Returns a member or raises KeyError.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>member<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>enum<span style="color:#f92672">&gt;</span>(<span style="color:#f92672">&lt;</span>value<span style="color:#f92672">&gt;</span>)                      <span style="color:#75715e"># Returns a member or raises ValueError.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>member<span style="color:#f92672">&gt;.</span>name                        <span style="color:#75715e"># Returns member&#39;s name.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>obj<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>member<span style="color:#f92672">&gt;.</span>value                       <span style="color:#75715e"># Returns member&#39;s value.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list_of_members <span style="color:#f92672">=</span> list(<span style="color:#f92672">&lt;</span>enum<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>member_names    <span style="color:#f92672">=</span> [a<span style="color:#f92672">.</span>name <span style="color:#66d9ef">for</span> a <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>enum<span style="color:#f92672">&gt;</span>]
</span></span><span style="display:flex;"><span>member_values   <span style="color:#f92672">=</span> [a<span style="color:#f92672">.</span>value <span style="color:#66d9ef">for</span> a <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>enum<span style="color:#f92672">&gt;</span>]
</span></span><span style="display:flex;"><span>random_member   <span style="color:#f92672">=</span> random<span style="color:#f92672">.</span>choice(list(<span style="color:#f92672">&lt;</span>enum<span style="color:#f92672">&gt;</span>))
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_next_member</span>(member):
</span></span><span style="display:flex;"><span>    members <span style="color:#f92672">=</span> list(member<span style="color:#f92672">.</span>__class__)
</span></span><span style="display:flex;"><span>    index   <span style="color:#f92672">=</span> (members<span style="color:#f92672">.</span>index(member) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">%</span> len(members)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> members[index]
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="inline-2">
        Inline
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#inline-2" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Inline" aria-label="Anchor to: Inline" href="#inline-2">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>Cutlery <span style="color:#f92672">=</span> Enum(<span style="color:#e6db74">&#39;Cutlery&#39;</span>, <span style="color:#e6db74">&#39;fork knife spoon&#39;</span>)
</span></span><span style="display:flex;"><span>Cutlery <span style="color:#f92672">=</span> Enum(<span style="color:#e6db74">&#39;Cutlery&#39;</span>, [<span style="color:#e6db74">&#39;fork&#39;</span>, <span style="color:#e6db74">&#39;knife&#39;</span>, <span style="color:#e6db74">&#39;spoon&#39;</span>])
</span></span><span style="display:flex;"><span>Cutlery <span style="color:#f92672">=</span> Enum(<span style="color:#e6db74">&#39;Cutlery&#39;</span>, {<span style="color:#e6db74">&#39;fork&#39;</span>: <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;knife&#39;</span>: <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;spoon&#39;</span>: <span style="color:#ae81ff">3</span>})
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="user-defined-functions-cannot-be-values-so-they-must-be-wrapped">
        User-defined functions cannot be values, so they must be wrapped:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#user-defined-functions-cannot-be-values-so-they-must-be-wrapped" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: User-defined functions cannot be values, so they must be wrapped:" aria-label="Anchor to: User-defined functions cannot be values, so they must be wrapped:" href="#user-defined-functions-cannot-be-values-so-they-must-be-wrapped">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> functools <span style="color:#f92672">import</span> partial
</span></span><span style="display:flex;"><span>LogicOp <span style="color:#f92672">=</span> Enum(<span style="color:#e6db74">&#39;LogicOp&#39;</span>, {<span style="color:#e6db74">&#39;AND&#39;</span>: partial(<span style="color:#66d9ef">lambda</span> l, r: l <span style="color:#f92672">and</span> r),
</span></span><span style="display:flex;"><span>                           <span style="color:#e6db74">&#39;OR&#39;</span> : partial(<span style="color:#66d9ef">lambda</span> l, r: l <span style="color:#f92672">or</span> r)})
</span></span></code></pre></div><ul>
<li><strong>Another solution in this particular case is to use built-in functions and_() and or_() from the module <a
  class="gdoc-markdown__link"
  href="#operator"
  
>operator</a>.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h2 id="exceptions">
        Exceptions
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#exceptions" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Exceptions" aria-label="Anchor to: Exceptions" href="#exceptions">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="gdoc-page__anchorwrap">
    <h3 id="basic-example">
        Basic Example
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#basic-example" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Basic Example" aria-label="Anchor to: Basic Example" href="#basic-example">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>code<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>code<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="complex-example">
        Complex Example
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#complex-example" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Complex Example" aria-label="Anchor to: Complex Example" href="#complex-example">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>code_1<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#f92672">&lt;</span>exception_a<span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>code_2_a<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#f92672">&lt;</span>exception_b<span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>code_2_b<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>code_2_c<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">finally</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>code_3<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="catching-exceptions">
        Catching Exceptions
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#catching-exceptions" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Catching Exceptions" aria-label="Anchor to: Catching Exceptions" href="#catching-exceptions">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">as</span> <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> (<span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">...</span>):
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> (<span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">...</span>) <span style="color:#66d9ef">as</span> <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;</span>:
</span></span></code></pre></div><ul>
<li><strong>Also catches subclasses of the exception.</strong></li>
<li><strong>Use <code>'traceback.print_exc()'</code> to print the error message.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="raising-exceptions">
        Raising Exceptions
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#raising-exceptions" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Raising Exceptions" aria-label="Anchor to: Raising Exceptions" href="#raising-exceptions">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">raise</span> <span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">raise</span> <span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span>()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">raise</span> <span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span>(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">...</span>])
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="re-raising-caught-exception">
        Re-raising caught exception:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#re-raising-caught-exception" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Re-raising caught exception:" aria-label="Anchor to: Re-raising caught exception:" href="#re-raising-caught-exception">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">as</span> <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">raise</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="exception-object">
        Exception Object
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#exception-object" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Exception Object" aria-label="Anchor to: Exception Object" href="#exception-object">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>arguments <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;.</span>args
</span></span><span style="display:flex;"><span>exc_type  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;.</span>__class__
</span></span><span style="display:flex;"><span>filename  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;.</span>__traceback__<span style="color:#f92672">.</span>tb_frame<span style="color:#f92672">.</span>f_code<span style="color:#f92672">.</span>co_filename
</span></span><span style="display:flex;"><span>func_name <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;.</span>__traceback__<span style="color:#f92672">.</span>tb_frame<span style="color:#f92672">.</span>f_code<span style="color:#f92672">.</span>co_name
</span></span><span style="display:flex;"><span>line      <span style="color:#f92672">=</span> linecache<span style="color:#f92672">.</span>getline(filename, <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;.</span>__traceback__<span style="color:#f92672">.</span>tb_lineno)
</span></span><span style="display:flex;"><span>error_msg <span style="color:#f92672">=</span> traceback<span style="color:#f92672">.</span>format_exception(exc_type, <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;.</span>__traceback__)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="built-in-exceptions">
        Built-in Exceptions
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#built-in-exceptions" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Built-in Exceptions" aria-label="Anchor to: Built-in Exceptions" href="#built-in-exceptions">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>BaseException
</span></span><span style="display:flex;"><span> +-- SystemExit                   # Raised by the sys.exit() function.
</span></span><span style="display:flex;"><span> +-- KeyboardInterrupt            # Raised when the user hits the interrupt key (ctrl-c).
</span></span><span style="display:flex;"><span> +-- Exception                    # User-defined exceptions should be derived from this class.
</span></span><span style="display:flex;"><span>      +-- ArithmeticError         # Base class for arithmetic errors.
</span></span><span style="display:flex;"><span>      |    +-- ZeroDivisionError  # Raised when dividing by zero.
</span></span><span style="display:flex;"><span>      +-- AttributeError          # Raised when an attribute is missing.
</span></span><span style="display:flex;"><span>      +-- EOFError                # Raised by input() when it hits end-of-file condition.
</span></span><span style="display:flex;"><span>      +-- LookupError             # Raised when a look-up on a collection fails.
</span></span><span style="display:flex;"><span>      |    +-- IndexError         # Raised when a sequence index is out of range.
</span></span><span style="display:flex;"><span>      |    +-- KeyError           # Raised when a dictionary key or set element is not found.
</span></span><span style="display:flex;"><span>      +-- NameError               # Raised when a variable name is not found.
</span></span><span style="display:flex;"><span>      +-- OSError                 # Failures such as “file not found” or “disk full”.
</span></span><span style="display:flex;"><span>      |    +-- FileNotFoundError  # When a file or directory is requested but doesn&#39;t exist.
</span></span><span style="display:flex;"><span>      +-- RuntimeError            # Raised by errors that don&#39;t fall into other categories.
</span></span><span style="display:flex;"><span>      |    +-- RecursionError     # Raised when the maximum recursion depth is exceeded.
</span></span><span style="display:flex;"><span>      +-- StopIteration           # Raised by next() when run on an empty iterator.
</span></span><span style="display:flex;"><span>      +-- TypeError               # Raised when an argument is of wrong type.
</span></span><span style="display:flex;"><span>      +-- ValueError              # When an argument is of right type but inappropriate value.
</span></span><span style="display:flex;"><span>           +-- UnicodeError       # Raised when encoding/decoding strings to/from bytes fails.
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="collections-and-their-exceptions">
        Collections and their exceptions:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#collections-and-their-exceptions" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Collections and their exceptions:" aria-label="Anchor to: Collections and their exceptions:" href="#collections-and-their-exceptions">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+-----------+------------+------------+------------+
</span></span><span style="display:flex;"><span>|           |    list    |    dict    |    set     |
</span></span><span style="display:flex;"><span>+-----------+------------+------------+------------+
</span></span><span style="display:flex;"><span>| getitem() | IndexError |  KeyError  |            |
</span></span><span style="display:flex;"><span>| pop()     | IndexError |  KeyError  |  KeyError  |
</span></span><span style="display:flex;"><span>| remove()  | ValueError |            |  KeyError  |
</span></span><span style="display:flex;"><span>| index()   | ValueError |            |            |
</span></span><span style="display:flex;"><span>+-----------+------------+------------+------------+
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="useful-built-in-exceptions">
        Useful built-in exceptions:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#useful-built-in-exceptions" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Useful built-in exceptions:" aria-label="Anchor to: Useful built-in exceptions:" href="#useful-built-in-exceptions">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">TypeError</span>(<span style="color:#e6db74">&#39;Argument is of wrong type!&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">&#39;Argument is of right type but inappropriate value!&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">RuntimeError</span>(<span style="color:#e6db74">&#39;None of above!&#39;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="user-defined-exceptions">
        User-defined Exceptions
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#user-defined-exceptions" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: User-defined Exceptions" aria-label="Anchor to: User-defined Exceptions" href="#user-defined-exceptions">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyError</span>(<span style="color:#a6e22e">Exception</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyInputError</span>(MyError):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="exit">
        Exit
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#exit" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Exit" aria-label="Anchor to: Exit" href="#exit">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<p><strong>Exits the interpreter by raising SystemExit exception.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> sys
</span></span><span style="display:flex;"><span>sys<span style="color:#f92672">.</span>exit()                        <span style="color:#75715e"># Exits with exit code 0 (success).</span>
</span></span><span style="display:flex;"><span>sys<span style="color:#f92672">.</span>exit(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)                    <span style="color:#75715e"># Prints to stderr and exits with 1.</span>
</span></span><span style="display:flex;"><span>sys<span style="color:#f92672">.</span>exit(<span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>)                   <span style="color:#75715e"># Exits with passed exit code.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="print">
        Print
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#print" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Print" aria-label="Anchor to: Print" href="#print">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(<span style="color:#f92672">&lt;</span>el_1<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">...</span>, sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39; &#39;</span>, end<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>, file<span style="color:#f92672">=</span>sys<span style="color:#f92672">.</span>stdout, flush<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span></code></pre></div><ul>
<li><strong>Use <code>'file=sys.stderr'</code> for messages about errors.</strong></li>
<li><strong>Use <code>'flush=True'</code> to forcibly flush the stream.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="pretty-print">
        Pretty Print
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#pretty-print" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Pretty Print" aria-label="Anchor to: Pretty Print" href="#pretty-print">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> pprint <span style="color:#f92672">import</span> pprint
</span></span><span style="display:flex;"><span>pprint(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>, width<span style="color:#f92672">=</span><span style="color:#ae81ff">80</span>, depth<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, compact<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>, sort_dicts<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><ul>
<li><strong>Levels deeper than &lsquo;depth&rsquo; get replaced by &lsquo;&hellip;&rsquo;.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h2 id="input">
        Input
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#input" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Input" aria-label="Anchor to: Input" href="#input">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<p><strong>Reads a line from user input or pipe if present.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> input(prompt<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>)
</span></span></code></pre></div><ul>
<li><strong>Trailing newline gets stripped.</strong></li>
<li><strong>Prompt string is printed to the standard output before reading input.</strong></li>
<li><strong>Raises EOFError when user hits EOF (ctrl-d/z) or input stream gets exhausted.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h2 id="command-line-arguments">
        Command Line Arguments
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#command-line-arguments" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Command Line Arguments" aria-label="Anchor to: Command Line Arguments" href="#command-line-arguments">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> sys
</span></span><span style="display:flex;"><span>script_name <span style="color:#f92672">=</span> sys<span style="color:#f92672">.</span>argv[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>arguments   <span style="color:#f92672">=</span> sys<span style="color:#f92672">.</span>argv[<span style="color:#ae81ff">1</span>:]
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="argument-parser">
        Argument Parser
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#argument-parser" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Argument Parser" aria-label="Anchor to: Argument Parser" href="#argument-parser">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> argparse <span style="color:#f92672">import</span> ArgumentParser, FileType
</span></span><span style="display:flex;"><span>p <span style="color:#f92672">=</span> ArgumentParser(description<span style="color:#f92672">=&lt;</span>str<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>p<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#39;-&lt;short_name&gt;&#39;</span>, <span style="color:#e6db74">&#39;--&lt;name&gt;&#39;</span>, action<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;store_true&#39;</span>)  <span style="color:#75715e"># Flag</span>
</span></span><span style="display:flex;"><span>p<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#39;-&lt;short_name&gt;&#39;</span>, <span style="color:#e6db74">&#39;--&lt;name&gt;&#39;</span>, type<span style="color:#f92672">=&lt;</span>type<span style="color:#f92672">&gt;</span>)          <span style="color:#75715e"># Option</span>
</span></span><span style="display:flex;"><span>p<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#39;&lt;name&gt;&#39;</span>, type<span style="color:#f92672">=&lt;</span>type<span style="color:#f92672">&gt;</span>, nargs<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)                    <span style="color:#75715e"># First argument</span>
</span></span><span style="display:flex;"><span>p<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#39;&lt;name&gt;&#39;</span>, type<span style="color:#f92672">=&lt;</span>type<span style="color:#f92672">&gt;</span>, nargs<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;+&#39;</span>)                  <span style="color:#75715e"># Remaining arguments</span>
</span></span><span style="display:flex;"><span>p<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#39;&lt;name&gt;&#39;</span>, type<span style="color:#f92672">=&lt;</span>type<span style="color:#f92672">&gt;</span>, nargs<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;*&#39;</span>)                  <span style="color:#75715e"># Optional arguments</span>
</span></span><span style="display:flex;"><span>args  <span style="color:#f92672">=</span> p<span style="color:#f92672">.</span>parse_args()                                            <span style="color:#75715e"># Exits on error.</span>
</span></span><span style="display:flex;"><span>value <span style="color:#f92672">=</span> args<span style="color:#f92672">.&lt;</span>name<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><ul>
<li><strong>Use <code>'help=&lt;str&gt;'</code> to set argument description.</strong></li>
<li><strong>Use <code>'default=&lt;el&gt;'</code> to set the default value.</strong></li>
<li><strong>Use <code>'type=FileType(&lt;mode&gt;)'</code> for files.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h2 id="open">
        Open
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#open" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Open" aria-label="Anchor to: Open" href="#open">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<p><strong>Opens the file and returns a corresponding file object.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;&lt;path&gt;&#39;</span>, mode<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;r&#39;</span>, encoding<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, newline<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>)
</span></span></code></pre></div><ul>
<li><strong><code>'encoding=None'</code> means that the default encoding is used, which is platform dependent. Best practice is to use <code>'encoding=&quot;utf-8&quot;'</code> whenever possible.</strong></li>
<li><strong><code>'newline=None'</code> means all different end of line combinations are converted to &lsquo;\n&rsquo; on read, while on write all &lsquo;\n&rsquo; characters are converted to system&rsquo;s default line separator.</strong></li>
<li><strong><code>'newline=&quot;&quot;'</code> means no conversions take place, but input is still broken into chunks by readline() and readlines() on either &lsquo;\n&rsquo;, &lsquo;\r&rsquo; or &lsquo;\r\n&rsquo;.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="modes">
        Modes
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#modes" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Modes" aria-label="Anchor to: Modes" href="#modes">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<ul>
<li><strong><code>'r'</code>  - Read (default).</strong></li>
<li><strong><code>'w'</code>  - Write (truncate).</strong></li>
<li><strong><code>'x'</code>  - Write or fail if the file already exists.</strong></li>
<li><strong><code>'a'</code>  - Append.</strong></li>
<li><strong><code>'w+'</code> - Read and write (truncate).</strong></li>
<li><strong><code>'r+'</code> - Read and write from the start.</strong></li>
<li><strong><code>'a+'</code> - Read and write from the end.</strong></li>
<li><strong><code>'t'</code>  - Text mode (default).</strong></li>
<li><strong><code>'b'</code>  - Binary mode.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="exceptions-1">
        Exceptions
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#exceptions-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Exceptions" aria-label="Anchor to: Exceptions" href="#exceptions-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<ul>
<li><strong><code>'FileNotFoundError'</code> can be raised when reading with <code>'r'</code> or <code>'r+'</code>.</strong></li>
<li><strong><code>'FileExistsError'</code> can be raised when writing with <code>'x'</code>.</strong></li>
<li><strong><code>'IsADirectoryError'</code> and <code>'PermissionError'</code> can be raised by any.</strong></li>
<li><strong><code>'OSError'</code> is the parent class of all listed exceptions.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="file-object">
        File Object
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#file-object" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: File Object" aria-label="Anchor to: File Object" href="#file-object">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>seek(<span style="color:#ae81ff">0</span>)                      <span style="color:#75715e"># Moves to the start of the file.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>seek(offset)                 <span style="color:#75715e"># Moves &#39;offset&#39; chars/bytes from the start.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>seek(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span>)                   <span style="color:#75715e"># Moves to the end of the file.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bin_file<span style="color:#f92672">&gt;.</span>seek(<span style="color:#960050;background-color:#1e0010">±</span>offset, <span style="color:#f92672">&lt;</span>anchor<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># Anchor: 0 start, 1 current position, 2 end.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">/</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>read(size<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>)  <span style="color:#75715e"># Reads &#39;size&#39; chars/bytes or until EOF.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">/</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>readline()     <span style="color:#75715e"># Returns a line or empty string/bytes on EOF.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>      <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>readlines()    <span style="color:#75715e"># Returns a list of remaining lines.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">/</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> next(<span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;</span>)          <span style="color:#75715e"># Returns a line using buffer. Do not mix.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>write(<span style="color:#f92672">&lt;</span>str<span style="color:#f92672">/</span>bytes<span style="color:#f92672">&gt;</span>)           <span style="color:#75715e"># Writes a string or bytes object.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>writelines(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)     <span style="color:#75715e"># Writes a coll. of strings or bytes objects.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>flush()                      <span style="color:#75715e"># Flushes write buffer.</span>
</span></span></code></pre></div><ul>
<li><strong>Methods do not add or strip trailing newlines, even writelines().</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="read-text-from-file">
        Read Text from File
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#read-text-from-file" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Read Text from File" aria-label="Anchor to: Read Text from File" href="#read-text-from-file">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_file</span>(filename):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> file<span style="color:#f92672">.</span>readlines()
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="write-text-to-file">
        Write Text to File
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#write-text-to-file" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Write Text to File" aria-label="Anchor to: Write Text to File" href="#write-text-to-file">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">write_to_file</span>(filename, text):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;w&#39;</span>, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>write(text)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="path">
        Path
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#path" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Path" aria-label="Anchor to: Path" href="#path">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> os <span style="color:#f92672">import</span> getcwd, path, listdir
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> glob <span style="color:#f92672">import</span> glob
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> getcwd()                   <span style="color:#75715e"># Returns the current working directory.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> path<span style="color:#f92672">.</span>join(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">...</span>)     <span style="color:#75715e"># Joins two or more pathname components.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> path<span style="color:#f92672">.</span>abspath(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)       <span style="color:#75715e"># Returns absolute path.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> path<span style="color:#f92672">.</span>basename(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)      <span style="color:#75715e"># Returns final component of the path.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> path<span style="color:#f92672">.</span>dirname(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)       <span style="color:#75715e"># Returns path without the final component.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tup<span style="color:#f92672">.&gt;</span> <span style="color:#f92672">=</span> path<span style="color:#f92672">.</span>splitext(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)      <span style="color:#75715e"># Splits on last period of the final component.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> listdir(path<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;.&#39;</span>)          <span style="color:#75715e"># Returns filenames located at path.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> glob(<span style="color:#e6db74">&#39;&lt;pattern&gt;&#39;</span>)          <span style="color:#75715e"># Returns paths matching the wildcard pattern.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> path<span style="color:#f92672">.</span>exists(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)        <span style="color:#75715e"># Or: &lt;Path&gt;.exists()</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> path<span style="color:#f92672">.</span>isfile(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)        <span style="color:#75715e"># Or: &lt;DirEntry/Path&gt;.is_file()</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> path<span style="color:#f92672">.</span>isdir(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)         <span style="color:#75715e"># Or: &lt;DirEntry/Path&gt;.is_dir()</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="direntry">
        DirEntry
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#direntry" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: DirEntry" aria-label="Anchor to: DirEntry" href="#direntry">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Using scandir() instead of listdir() can significantly increase the performance of code that also needs file type information.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> os <span style="color:#f92672">import</span> scandir
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> scandir(path<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;.&#39;</span>)          <span style="color:#75715e"># Returns DirEntry objects located at path.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DirEntry<span style="color:#f92672">&gt;.</span>path            <span style="color:#75715e"># Returns path as a string.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DirEntry<span style="color:#f92672">&gt;.</span>name            <span style="color:#75715e"># Returns final component as a string.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> open(<span style="color:#f92672">&lt;</span>DirEntry<span style="color:#f92672">&gt;</span>)           <span style="color:#75715e"># Opens the file and returns file object.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="path-object">
        Path Object
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#path-object" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Path Object" aria-label="Anchor to: Path Object" href="#path-object">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> pathlib <span style="color:#f92672">import</span> Path
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Path(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">...</span>])       <span style="color:#75715e"># Accepts strings, Paths and DirEntry objects.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span> <span style="color:#f92672">/</span> <span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span> [<span style="color:#f92672">/</span> <span style="color:#f92672">...</span>]    <span style="color:#75715e"># One of the paths must be a Path object.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Path()                     <span style="color:#75715e"># Returns relative cwd. Also Path(&#39;.&#39;).</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Path<span style="color:#f92672">.</span>cwd()                 <span style="color:#75715e"># Returns absolute cwd. Also Path().resolve().</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;.</span>resolve()           <span style="color:#75715e"># Returns absolute Path without symlinks.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;.</span>parent              <span style="color:#75715e"># Returns Path without final component.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;.</span>name                <span style="color:#75715e"># Returns final component as a string.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;.</span>stem                <span style="color:#75715e"># Returns final component without extension.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;.</span>suffix              <span style="color:#75715e"># Returns final component&#39;s extension.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tup<span style="color:#f92672">.&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;.</span>parts               <span style="color:#75715e"># Returns all components as strings.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;.</span>iterdir()           <span style="color:#75715e"># Returns dir contents as Path objects.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;.</span>glob(<span style="color:#e6db74">&#39;&lt;pattern&gt;&#39;</span>)   <span style="color:#75715e"># Returns Paths matching the wildcard pattern.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> str(<span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span>)                <span style="color:#75715e"># Returns path as a string.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> open(<span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span>)               <span style="color:#75715e"># Opens the file and returns file object.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="os-commands">
        OS Commands
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#os-commands" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: OS Commands" aria-label="Anchor to: OS Commands" href="#os-commands">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="gdoc-page__anchorwrap">
    <h3 id="files-and-directories">
        Files and Directories
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#files-and-directories" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Files and Directories" aria-label="Anchor to: Files and Directories" href="#files-and-directories">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<ul>
<li><strong>Paths can be either strings, Paths or DirEntry objects.</strong></li>
<li><strong>Functions report OS related errors by raising either OSError or one of its <a
  class="gdoc-markdown__link"
  href="#exceptions-1"
  
>subclasses</a>.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> os<span style="color:#f92672">,</span> shutil
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>os<span style="color:#f92672">.</span>chdir(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)                    <span style="color:#75715e"># Changes the current working directory.</span>
</span></span><span style="display:flex;"><span>os<span style="color:#f92672">.</span>mkdir(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>, mode<span style="color:#f92672">=</span><span style="color:#ae81ff">0o777</span>)        <span style="color:#75715e"># Creates a directory. Mode is in octal.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>shutil<span style="color:#f92672">.</span>copy(from, to)               <span style="color:#75715e"># Copies the file. &#39;to&#39; can exist or be a dir.</span>
</span></span><span style="display:flex;"><span>shutil<span style="color:#f92672">.</span>copytree(from, to)           <span style="color:#75715e"># Copies the directory. &#39;to&#39; must not exist.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>os<span style="color:#f92672">.</span>rename(from, to)                 <span style="color:#75715e"># Renames/moves the file or directory.</span>
</span></span><span style="display:flex;"><span>os<span style="color:#f92672">.</span>replace(from, to)                <span style="color:#75715e"># Same, but overwrites &#39;to&#39; if it exists.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>os<span style="color:#f92672">.</span>remove(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)                   <span style="color:#75715e"># Deletes the file.</span>
</span></span><span style="display:flex;"><span>os<span style="color:#f92672">.</span>rmdir(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)                    <span style="color:#75715e"># Deletes the empty directory.</span>
</span></span><span style="display:flex;"><span>shutil<span style="color:#f92672">.</span>rmtree(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)               <span style="color:#75715e"># Deletes the directory.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="shell-commands">
        Shell Commands
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#shell-commands" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Shell Commands" aria-label="Anchor to: Shell Commands" href="#shell-commands">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>popen(<span style="color:#e6db74">&#39;&lt;shell_command&gt;&#39;</span>)<span style="color:#f92672">.</span>read()
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="sends-1--1-to-the-basic-calculator-and-captures-its-output">
        Sends &lsquo;1 + 1&rsquo; to the basic calculator and captures its output:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#sends-1--1-to-the-basic-calculator-and-captures-its-output" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Sends &lsquo;1 &#43; 1&rsquo; to the basic calculator and captures its output:" aria-label="Anchor to: Sends &lsquo;1 &#43; 1&rsquo; to the basic calculator and captures its output:" href="#sends-1--1-to-the-basic-calculator-and-captures-its-output">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> subprocess <span style="color:#f92672">import</span> run
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> run(<span style="color:#e6db74">&#39;bc&#39;</span>, input<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;1 + 1</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>, capture_output<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>)
</span></span><span style="display:flex;"><span>CompletedProcess(args<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;bc&#39;</span>, returncode<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, stdout<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;2</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>, stderr<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="sends-testin-to-the-basic-calculator-running-in-standard-mode-and-saves-its-output-to-testout">
        Sends test.in to the basic calculator running in standard mode and saves its output to test.out:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#sends-testin-to-the-basic-calculator-running-in-standard-mode-and-saves-its-output-to-testout" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Sends test.in to the basic calculator running in standard mode and saves its output to test.out:" aria-label="Anchor to: Sends test.in to the basic calculator running in standard mode and saves its output to test.out:" href="#sends-testin-to-the-basic-calculator-running-in-standard-mode-and-saves-its-output-to-testout">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> shlex <span style="color:#f92672">import</span> split
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> os<span style="color:#f92672">.</span>popen(<span style="color:#e6db74">&#39;echo 1 + 1 &gt; test.in&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> run(split(<span style="color:#e6db74">&#39;bc -s&#39;</span>), stdin<span style="color:#f92672">=</span>open(<span style="color:#e6db74">&#39;test.in&#39;</span>), stdout<span style="color:#f92672">=</span>open(<span style="color:#e6db74">&#39;test.out&#39;</span>, <span style="color:#e6db74">&#39;w&#39;</span>))
</span></span><span style="display:flex;"><span>CompletedProcess(args<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;bc&#39;</span>, <span style="color:#e6db74">&#39;-s&#39;</span>], returncode<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> open(<span style="color:#e6db74">&#39;test.out&#39;</span>)<span style="color:#f92672">.</span>read()
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;2</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="json">
        JSON
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#json" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: JSON" aria-label="Anchor to: JSON" href="#json">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<p><strong>Text file format for storing collections of strings and numbers.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> json
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> json<span style="color:#f92672">.</span>dumps(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>, ensure_ascii<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, indent<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> json<span style="color:#f92672">.</span>loads(<span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="read-object-from-json-file">
        Read Object from JSON File
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#read-object-from-json-file" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Read Object from JSON File" aria-label="Anchor to: Read Object from JSON File" href="#read-object-from-json-file">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_json_file</span>(filename):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> json<span style="color:#f92672">.</span>load(file)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="write-object-to-json-file">
        Write Object to JSON File
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#write-object-to-json-file" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Write Object to JSON File" aria-label="Anchor to: Write Object to JSON File" href="#write-object-to-json-file">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">write_to_json_file</span>(filename, an_object):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;w&#39;</span>, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        json<span style="color:#f92672">.</span>dump(an_object, file, ensure_ascii<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>, indent<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="pickle">
        Pickle
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#pickle" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Pickle" aria-label="Anchor to: Pickle" href="#pickle">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<p><strong>Binary file format for storing objects.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> pickle
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> pickle<span style="color:#f92672">.</span>dumps(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pickle<span style="color:#f92672">.</span>loads(<span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="read-object-from-file">
        Read Object from File
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#read-object-from-file" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Read Object from File" aria-label="Anchor to: Read Object from File" href="#read-object-from-file">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_pickle_file</span>(filename):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;rb&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> pickle<span style="color:#f92672">.</span>load(file)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="write-object-to-file">
        Write Object to File
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#write-object-to-file" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Write Object to File" aria-label="Anchor to: Write Object to File" href="#write-object-to-file">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">write_to_pickle_file</span>(filename, an_object):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;wb&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        pickle<span style="color:#f92672">.</span>dump(an_object, file)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="csv">
        CSV
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#csv" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: CSV" aria-label="Anchor to: CSV" href="#csv">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<p><strong>Text file format for storing spreadsheets.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> csv
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="read">
        Read
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#read" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Read" aria-label="Anchor to: Read" href="#read">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>reader<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> csv<span style="color:#f92672">.</span>reader(<span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;</span>, dialect<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;excel&#39;</span>, delimiter<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;,&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> next(<span style="color:#f92672">&lt;</span>reader<span style="color:#f92672">&gt;</span>)           <span style="color:#75715e"># Returns next row as a list of strings.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> list(<span style="color:#f92672">&lt;</span>reader<span style="color:#f92672">&gt;</span>)           <span style="color:#75715e"># Returns list of remaining rows.</span>
</span></span></code></pre></div><ul>
<li><strong>File must be opened with <code>'newline=&quot;&quot;'</code> argument, or newlines embedded inside quoted fields will not be interpreted correctly!</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="write">
        Write
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#write" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Write" aria-label="Anchor to: Write" href="#write">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>writer<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> csv<span style="color:#f92672">.</span>writer(<span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;</span>, dialect<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;excel&#39;</span>, delimiter<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;,&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>writer<span style="color:#f92672">&gt;.</span>writerow(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)     <span style="color:#75715e"># Encodes objects using `str(&lt;el&gt;)`.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>writer<span style="color:#f92672">&gt;.</span>writerows(<span style="color:#f92672">&lt;</span>coll_of_coll<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># Appends multiple rows.</span>
</span></span></code></pre></div><ul>
<li><strong>File must be opened with <code>'newline=&quot;&quot;'</code> argument, or &lsquo;\r&rsquo; will be added in front of every &lsquo;\n&rsquo; on platforms that use &lsquo;\r\n&rsquo; line endings!</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="parameters">
        Parameters
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#parameters" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Parameters" aria-label="Anchor to: Parameters" href="#parameters">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<ul>
<li><strong><code>'dialect'</code> - Master parameter that sets the default values.</strong></li>
<li><strong><code>'delimiter'</code> - A one-character string used to separate fields.</strong></li>
<li><strong><code>'quotechar'</code> - Character for quoting fields that contain special characters.</strong></li>
<li><strong><code>'doublequote'</code> - Whether quotechars inside fields get doubled or escaped.</strong></li>
<li><strong><code>'skipinitialspace'</code> - Whether whitespace after delimiter gets stripped.</strong></li>
<li><strong><code>'lineterminator'</code> - Specifies how writer terminates rows.</strong></li>
<li><strong><code>'quoting'</code> - Controls the amount of quoting: 0 - as necessary, 1 - all.</strong></li>
<li><strong><code>'escapechar'</code> - Character for escaping &lsquo;quotechar&rsquo; if &lsquo;doublequote&rsquo; is False.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="dialects">
        Dialects
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#dialects" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Dialects" aria-label="Anchor to: Dialects" href="#dialects">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+------------------+--------------+--------------+--------------+
</span></span><span style="display:flex;"><span>|                  |     excel    |   excel-tab  |     unix     |
</span></span><span style="display:flex;"><span>+------------------+--------------+--------------+--------------+
</span></span><span style="display:flex;"><span>| delimiter        |       &#39;,&#39;    |      &#39;\t&#39;    |       &#39;,&#39;    |
</span></span><span style="display:flex;"><span>| quotechar        |       &#39;&#34;&#39;    |       &#39;&#34;&#39;    |       &#39;&#34;&#39;    |
</span></span><span style="display:flex;"><span>| doublequote      |      True    |      True    |      True    |
</span></span><span style="display:flex;"><span>| skipinitialspace |     False    |     False    |     False    |
</span></span><span style="display:flex;"><span>| lineterminator   |    &#39;\r\n&#39;    |    &#39;\r\n&#39;    |      &#39;\n&#39;    |
</span></span><span style="display:flex;"><span>| quoting          |         0    |         0    |         1    |
</span></span><span style="display:flex;"><span>| escapechar       |      None    |      None    |      None    |
</span></span><span style="display:flex;"><span>+------------------+--------------+--------------+--------------+
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="read-rows-from-csv-file">
        Read Rows from CSV File
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#read-rows-from-csv-file" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Read Rows from CSV File" aria-label="Anchor to: Read Rows from CSV File" href="#read-rows-from-csv-file">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_csv_file</span>(filename):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>, newline<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> list(csv<span style="color:#f92672">.</span>reader(file))
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="write-rows-to-csv-file">
        Write Rows to CSV File
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#write-rows-to-csv-file" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Write Rows to CSV File" aria-label="Anchor to: Write Rows to CSV File" href="#write-rows-to-csv-file">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">write_to_csv_file</span>(filename, rows):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;w&#39;</span>, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>, newline<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        writer <span style="color:#f92672">=</span> csv<span style="color:#f92672">.</span>writer(file)
</span></span><span style="display:flex;"><span>        writer<span style="color:#f92672">.</span>writerows(rows)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="sqlite">
        SQLite
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#sqlite" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: SQLite" aria-label="Anchor to: SQLite" href="#sqlite">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<p><strong>Server-less database engine that stores each database into a separate file.</strong></p>
<div class="gdoc-page__anchorwrap">
    <h3 id="connect">
        Connect
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#connect" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Connect" aria-label="Anchor to: Connect" href="#connect">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Opens a connection to the database file. Creates a new file if path doesn&rsquo;t exist.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> sqlite3
</span></span><span style="display:flex;"><span>db <span style="color:#f92672">=</span> sqlite3<span style="color:#f92672">.</span>connect(<span style="color:#e6db74">&#39;&lt;path&gt;&#39;</span>)                  <span style="color:#75715e"># Also &#39;:memory:&#39;.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>db<span style="color:#f92672">.</span>close()
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="read-1">
        Read
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#read-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Read" aria-label="Anchor to: Read" href="#read-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Returned values can be of type str, int, float, bytes or None.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>cursor<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> db<span style="color:#f92672">.</span>execute(<span style="color:#e6db74">&#39;&lt;query&gt;&#39;</span>)                <span style="color:#75715e"># Can raise a subclass of sqlite3.Error.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tuple<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>cursor<span style="color:#f92672">&gt;.</span>fetchone()                  <span style="color:#75715e"># Returns next row. Also next(&lt;cursor&gt;).</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>cursor<span style="color:#f92672">&gt;.</span>fetchall()                  <span style="color:#75715e"># Returns remaining rows. Also list(&lt;cursor&gt;).</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="write-1">
        Write
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#write-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Write" aria-label="Anchor to: Write" href="#write-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>db<span style="color:#f92672">.</span>execute(<span style="color:#e6db74">&#39;&lt;query&gt;&#39;</span>)
</span></span><span style="display:flex;"><span>db<span style="color:#f92672">.</span>commit()
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="or">
        Or:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#or" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Or:" aria-label="Anchor to: Or:" href="#or">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">with</span> db:
</span></span><span style="display:flex;"><span>    db<span style="color:#f92672">.</span>execute(<span style="color:#e6db74">&#39;&lt;query&gt;&#39;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="placeholders">
        Placeholders
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#placeholders" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Placeholders" aria-label="Anchor to: Placeholders" href="#placeholders">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<ul>
<li><strong>Passed values can be of type str, int, float, bytes, None, bool, datetime.date or datetime.datetme.</strong></li>
<li><strong>Bools will be stored and returned as ints and dates as <a
  class="gdoc-markdown__link"
  href="#encode"
  
>ISO formatted strings</a>.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>db<span style="color:#f92672">.</span>execute(<span style="color:#e6db74">&#39;&lt;query&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>list<span style="color:#f92672">/</span>tuple<span style="color:#f92672">&gt;</span>)             <span style="color:#75715e"># Replaces &#39;?&#39;s in query with values.</span>
</span></span><span style="display:flex;"><span>db<span style="color:#f92672">.</span>execute(<span style="color:#e6db74">&#39;&lt;query&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">/</span>namedtuple<span style="color:#f92672">&gt;</span>)        <span style="color:#75715e"># Replaces &#39;:&lt;key&gt;&#39;s with values.</span>
</span></span><span style="display:flex;"><span>db<span style="color:#f92672">.</span>executemany(<span style="color:#e6db74">&#39;&lt;query&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>coll_of_above<span style="color:#f92672">&gt;</span>)      <span style="color:#75715e"># Runs execute() many times.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="example">
        Example
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#example" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Example" aria-label="Anchor to: Example" href="#example">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>In this example values are not actually saved because <code>'db.commit()'</code> is omitted!</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> db <span style="color:#f92672">=</span> sqlite3<span style="color:#f92672">.</span>connect(<span style="color:#e6db74">&#39;test.db&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> db<span style="color:#f92672">.</span>execute(<span style="color:#e6db74">&#39;create table person (person_id integer primary key, name, height)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> db<span style="color:#f92672">.</span>execute(<span style="color:#e6db74">&#39;insert into person values (null, ?, ?)&#39;</span>, (<span style="color:#e6db74">&#39;Jean-Luc&#39;</span>, <span style="color:#ae81ff">187</span>))<span style="color:#f92672">.</span>lastrowid
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> db<span style="color:#f92672">.</span>execute(<span style="color:#e6db74">&#39;select * from person&#39;</span>)<span style="color:#f92672">.</span>fetchall()
</span></span><span style="display:flex;"><span>[(<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;Jean-Luc&#39;</span>, <span style="color:#ae81ff">187</span>)]
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="mysql">
        MySQL
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#mysql" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: MySQL" aria-label="Anchor to: MySQL" href="#mysql">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Has a very similar interface, with differences listed below.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install mysql-connector</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> mysql <span style="color:#f92672">import</span> connector
</span></span><span style="display:flex;"><span>db <span style="color:#f92672">=</span> connector<span style="color:#f92672">.</span>connect(host<span style="color:#f92672">=&lt;</span>str<span style="color:#f92672">&gt;</span>, user<span style="color:#f92672">=&lt;</span>str<span style="color:#f92672">&gt;</span>, password<span style="color:#f92672">=&lt;</span>str<span style="color:#f92672">&gt;</span>, database<span style="color:#f92672">=&lt;</span>str<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>cursor<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> db<span style="color:#f92672">.</span>cursor()
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>cursor<span style="color:#f92672">&gt;.</span>execute(<span style="color:#e6db74">&#39;&lt;query&gt;&#39;</span>)                     <span style="color:#75715e"># Can raise a subclass of connector.Error.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>cursor<span style="color:#f92672">&gt;.</span>execute(<span style="color:#e6db74">&#39;&lt;query&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>list<span style="color:#f92672">/</span>tuple<span style="color:#f92672">&gt;</span>)       <span style="color:#75715e"># Replaces &#39;%s&#39;s in query with values.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>cursor<span style="color:#f92672">&gt;.</span>execute(<span style="color:#e6db74">&#39;&lt;query&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">/</span>namedtuple<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># Replaces &#39;%(&lt;key&gt;)s&#39;s with values.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="bytes">
        Bytes
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#bytes" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Bytes" aria-label="Anchor to: Bytes" href="#bytes">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<p><strong>Bytes object is an immutable sequence of single bytes. Mutable version is called bytearray.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;&lt;str&gt;&#39;</span>                       <span style="color:#75715e"># Only accepts ASCII characters and \x00 - \xff.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>[<span style="color:#f92672">&lt;</span>index<span style="color:#f92672">&gt;</span>]               <span style="color:#75715e"># Returns int in range from 0 to 255.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>[<span style="color:#f92672">&lt;</span>slice<span style="color:#f92672">&gt;</span>]               <span style="color:#75715e"># Returns bytes even if it has only one element.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;.</span>join(<span style="color:#f92672">&lt;</span>coll_of_bytes<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># Joins elements using bytes object as separator.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="encode-1">
        Encode
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#encode-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Encode" aria-label="Anchor to: Encode" href="#encode-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> bytes(<span style="color:#f92672">&lt;</span>coll_of_ints<span style="color:#f92672">&gt;</span>)          <span style="color:#75715e"># Ints must be in range from 0 to 255.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> bytes(<span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>, <span style="color:#e6db74">&#39;utf-8&#39;</span>)          <span style="color:#75715e"># Or: &lt;str&gt;.encode(&#39;utf-8&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;.</span>to_bytes(n_bytes, byteorder<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;big/little&#39;</span>, signed<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> bytes<span style="color:#f92672">.</span>fromhex(<span style="color:#e6db74">&#39;&lt;hex&gt;&#39;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="decode-1">
        Decode
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#decode-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Decode" aria-label="Anchor to: Decode" href="#decode-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> list(<span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>)                  <span style="color:#75715e"># Returns ints in range from 0 to 255.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> str(<span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>, <span style="color:#e6db74">&#39;utf-8&#39;</span>)          <span style="color:#75715e"># Or: &lt;bytes&gt;.decode(&#39;utf-8&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> int<span style="color:#f92672">.</span>from_bytes(<span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>, byteorder<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;big/little&#39;</span>, signed<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;&lt;hex&gt;&#39;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;.</span>hex()
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="read-bytes-from-file">
        Read Bytes from File
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#read-bytes-from-file" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Read Bytes from File" aria-label="Anchor to: Read Bytes from File" href="#read-bytes-from-file">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_bytes</span>(filename):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;rb&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> file<span style="color:#f92672">.</span>read()
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="write-bytes-to-file">
        Write Bytes to File
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#write-bytes-to-file" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Write Bytes to File" aria-label="Anchor to: Write Bytes to File" href="#write-bytes-to-file">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">write_bytes</span>(filename, bytes_obj):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;wb&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>write(bytes_obj)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="struct">
        Struct
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#struct" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Struct" aria-label="Anchor to: Struct" href="#struct">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<ul>
<li><strong>Module that performs conversions between a sequence of numbers and a bytes object.</strong></li>
<li><strong>Machine’s native type sizes and byte order are used by default.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> struct <span style="color:#f92672">import</span> pack, unpack, iter_unpack
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> pack(<span style="color:#e6db74">&#39;&lt;format&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>num_1<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">&lt;</span>num_2<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">...</span>])
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tuple<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> unpack(<span style="color:#e6db74">&#39;&lt;format&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tuples<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> iter_unpack(<span style="color:#e6db74">&#39;&lt;format&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="example-1">
        Example
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#example-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Example" aria-label="Anchor to: Example" href="#example-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> pack(<span style="color:#e6db74">&#39;&gt;hhl&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\x00\x01\x00\x02\x00\x00\x00\x03</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> unpack(<span style="color:#e6db74">&#39;&gt;hhl&#39;</span>, <span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\x00\x01\x00\x02\x00\x00\x00\x03</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="format-2">
        Format
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#format-2" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Format" aria-label="Anchor to: Format" href="#format-2">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="gdoc-page__anchorwrap">
    <h4 id="for-standard-type-sizes-start-format-string-with">
        For standard type sizes start format string with:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#for-standard-type-sizes-start-format-string-with" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: For standard type sizes start format string with:" aria-label="Anchor to: For standard type sizes start format string with:" href="#for-standard-type-sizes-start-format-string-with">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<ul>
<li><strong><code>'='</code> - native byte order</strong></li>
<li><strong><code>'&lt;'</code> - little-endian</strong></li>
<li><strong><code>'&gt;'</code> - big-endian (also <code>'!'</code>)</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h4 id="integer-types-use-a-capital-letter-for-unsigned-type-standard-sizes-are-in-brackets">
        Integer types. Use a capital letter for unsigned type. Standard sizes are in brackets:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#integer-types-use-a-capital-letter-for-unsigned-type-standard-sizes-are-in-brackets" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Integer types. Use a capital letter for unsigned type. Standard sizes are in brackets:" aria-label="Anchor to: Integer types. Use a capital letter for unsigned type. Standard sizes are in brackets:" href="#integer-types-use-a-capital-letter-for-unsigned-type-standard-sizes-are-in-brackets">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<ul>
<li><strong><code>'x'</code> - pad byte</strong></li>
<li><strong><code>'b'</code> - char (1)</strong></li>
<li><strong><code>'h'</code> - short (2)</strong></li>
<li><strong><code>'i'</code> - int (4)</strong></li>
<li><strong><code>'l'</code> - long (4)</strong></li>
<li><strong><code>'q'</code> - long long (8)</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h4 id="floating-point-types">
        Floating point types:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#floating-point-types" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Floating point types:" aria-label="Anchor to: Floating point types:" href="#floating-point-types">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<ul>
<li><strong><code>'f'</code> - float (4)</strong></li>
<li><strong><code>'d'</code> - double (8)</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h2 id="array">
        Array
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#array" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Array" aria-label="Anchor to: Array" href="#array">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<p><strong>List that can only hold numbers of a predefined type. Available types and their sizes in bytes are listed above.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> array <span style="color:#f92672">import</span> array
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> array(<span style="color:#e6db74">&#39;&lt;typecode&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)    <span style="color:#75715e"># Array from collection of numbers.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> array(<span style="color:#e6db74">&#39;&lt;typecode&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>)         <span style="color:#75715e"># Array from bytes object.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> array(<span style="color:#e6db74">&#39;&lt;typecode&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span>)         <span style="color:#75715e"># Treats array as a sequence of numbers.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> bytes(<span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span>)                       <span style="color:#75715e"># Or: &lt;array&gt;.tobytes()</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="memory-view">
        Memory View
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#memory-view" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Memory View" aria-label="Anchor to: Memory View" href="#memory-view">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<ul>
<li><strong>A sequence object that points to the memory of another object.</strong></li>
<li><strong>Each element can reference a single or multiple consecutive bytes, depending on format.</strong></li>
<li><strong>Order and number of elements can be changed with slicing.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> memoryview(<span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">/</span>bytearray<span style="color:#f92672">/</span>array<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># Immutable if bytes, else mutable.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>real<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span>[<span style="color:#f92672">&lt;</span>index<span style="color:#f92672">&gt;</span>]                     <span style="color:#75715e"># Returns an int or a float.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span>[<span style="color:#f92672">&lt;</span>slice<span style="color:#f92672">&gt;</span>]                     <span style="color:#75715e"># Mview with rearranged elements.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;.</span>cast(<span style="color:#e6db74">&#39;&lt;typecode&gt;&#39;</span>)           <span style="color:#75715e"># Casts memoryview to the new format.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;.</span>release()                              <span style="color:#75715e"># Releases the object&#39;s memory buffer.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="decode-2">
        Decode
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#decode-2" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Decode" aria-label="Anchor to: Decode" href="#decode-2">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bin_file<span style="color:#f92672">&gt;.</span>write(<span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span>)                      <span style="color:#75715e"># Writes mview to the binary file.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> bytes(<span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span>)                       <span style="color:#75715e"># Creates a new bytes object.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;.</span>join(<span style="color:#f92672">&lt;</span>coll_of_mviews<span style="color:#f92672">&gt;</span>)       <span style="color:#75715e"># Joins mviews using bytes object as sep.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> array(<span style="color:#e6db74">&#39;&lt;typecode&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span>)         <span style="color:#75715e"># Treats mview as a sequence of numbers.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> list(<span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span>)                        <span style="color:#75715e"># Returns list of ints or floats.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> str(<span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span>, <span style="color:#e6db74">&#39;utf-8&#39;</span>)                <span style="color:#75715e"># Treats mview as a bytes object.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> int<span style="color:#f92672">.</span>from_bytes(<span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span>, byteorder<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;big/little&#39;</span>, signed<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;&lt;hex&gt;&#39;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;.</span>hex()
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="deque">
        Deque
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#deque" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Deque" aria-label="Anchor to: Deque" href="#deque">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<p><strong>A thread-safe list with efficient appends and pops from either side. Pronounced &ldquo;deck&rdquo;.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> deque
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>deque<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> deque(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>, maxlen<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>deque<span style="color:#f92672">&gt;.</span>appendleft(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)                       <span style="color:#75715e"># Opposite element is dropped if full.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>deque<span style="color:#f92672">&gt;.</span>extendleft(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)               <span style="color:#75715e"># Collection gets reversed.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>deque<span style="color:#f92672">&gt;.</span>popleft()                       <span style="color:#75715e"># Raises IndexError if empty.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>deque<span style="color:#f92672">&gt;.</span>rotate(n<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)                            <span style="color:#75715e"># Rotates elements to the right.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="threading">
        Threading
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#threading" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Threading" aria-label="Anchor to: Threading" href="#threading">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<ul>
<li><strong>CPython interpreter can only run a single thread at a time.</strong></li>
<li><strong>That is why using multiple threads won&rsquo;t result in a faster execution, unless at least one of the threads contains an I/O operation.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> threading <span style="color:#f92672">import</span> Thread, RLock, Semaphore, Event, Barrier
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="thread">
        Thread
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#thread" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Thread" aria-label="Anchor to: Thread" href="#thread">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>thread <span style="color:#f92672">=</span> Thread(target<span style="color:#f92672">=&lt;</span>function<span style="color:#f92672">&gt;</span>, args<span style="color:#f92672">=</span>(<span style="color:#f92672">&lt;</span>first_arg<span style="color:#f92672">&gt;</span>, ))
</span></span><span style="display:flex;"><span>thread<span style="color:#f92672">.</span>start()
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> thread<span style="color:#f92672">.</span>is_alive()           <span style="color:#75715e"># Checks if thread has finished executing.</span>
</span></span><span style="display:flex;"><span>thread<span style="color:#f92672">.</span>join()                        <span style="color:#75715e"># Waits for thread to finish.</span>
</span></span></code></pre></div><ul>
<li><strong>Use <code>'kwargs=&lt;dict&gt;'</code> to pass keyword arguments to the function.</strong></li>
<li><strong>Use <code>'daemon=True'</code>, or the program will not be able to exit while the thread is alive.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="lock">
        Lock
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#lock" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Lock" aria-label="Anchor to: Lock" href="#lock">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>lock <span style="color:#f92672">=</span> RLock()
</span></span><span style="display:flex;"><span>lock<span style="color:#f92672">.</span>acquire()                       <span style="color:#75715e"># Waits for lock to be available.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>lock<span style="color:#f92672">.</span>release()
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="or-1">
        Or:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#or-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Or:" aria-label="Anchor to: Or:" href="#or-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>lock <span style="color:#f92672">=</span> RLock()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> lock:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">...</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="semaphore-event-barrier">
        Semaphore, Event, Barrier
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#semaphore-event-barrier" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Semaphore, Event, Barrier" aria-label="Anchor to: Semaphore, Event, Barrier" href="#semaphore-event-barrier">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Semaphore<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Semaphore(value<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)     <span style="color:#75715e"># Lock that can be acquired &#39;value&#39; times.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Event<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> Event()                <span style="color:#75715e"># Method wait() blocks until set() is called.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Barrier<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> Barrier(n_times)       <span style="color:#75715e"># Method wait() blocks until it&#39;s called &#39;n_times&#39;.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="thread-pool-executor">
        Thread Pool Executor
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#thread-pool-executor" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Thread Pool Executor" aria-label="Anchor to: Thread Pool Executor" href="#thread-pool-executor">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> concurrent.futures <span style="color:#f92672">import</span> ThreadPoolExecutor
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> ThreadPoolExecutor(max_workers<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>) <span style="color:#66d9ef">as</span> executor:         <span style="color:#75715e"># Does not exit until done.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> executor<span style="color:#f92672">.</span>map(<span style="color:#66d9ef">lambda</span> x: x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, range(<span style="color:#ae81ff">3</span>))         <span style="color:#75715e"># (1, 2, 3)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> executor<span style="color:#f92672">.</span>map(<span style="color:#66d9ef">lambda</span> x, y: x <span style="color:#f92672">+</span> y, <span style="color:#e6db74">&#39;abc&#39;</span>, <span style="color:#e6db74">&#39;123&#39;</span>)  <span style="color:#75715e"># (&#39;a1&#39;, &#39;b2&#39;, &#39;c3&#39;)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>Future<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> executor<span style="color:#f92672">.</span>submit(<span style="color:#f92672">&lt;</span>function<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">&lt;</span>arg_1<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">...</span>])    <span style="color:#75715e"># Also visible outside block.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="future">
        Future:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#future" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Future:" aria-label="Anchor to: Future:" href="#future">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Future<span style="color:#f92672">&gt;.</span>done()             <span style="color:#75715e"># Checks if thread has finished executing.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>obj<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Future<span style="color:#f92672">&gt;.</span>result()           <span style="color:#75715e"># Waits for thread to finish and returns result.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="queue">
        Queue
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#queue" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Queue" aria-label="Anchor to: Queue" href="#queue">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>A thread-safe FIFO queue. For LIFO queue use LifoQueue.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> queue <span style="color:#f92672">import</span> Queue
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Queue<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Queue(maxsize<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Queue<span style="color:#f92672">&gt;.</span>put(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)                    <span style="color:#75715e"># Blocks until queue stops being full.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Queue<span style="color:#f92672">&gt;.</span>put_nowait(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)             <span style="color:#75715e"># Raises queue.Full exception if full.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Queue<span style="color:#f92672">&gt;.</span>get()                 <span style="color:#75715e"># Blocks until queue stops being empty.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Queue<span style="color:#f92672">&gt;.</span>get_nowait()          <span style="color:#75715e"># Raises queue.Empty exception if empty.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="operator">
        Operator
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#operator" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Operator" aria-label="Anchor to: Operator" href="#operator">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<p><strong>Module of functions that provide the functionality of operators.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> operator <span style="color:#f92672">import</span> add, sub, mul, truediv, floordiv, mod, pow, neg, abs
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> operator <span style="color:#f92672">import</span> eq, ne, lt, le, gt, ge
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> operator <span style="color:#f92672">import</span> and_, or_, not_
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> operator <span style="color:#f92672">import</span> itemgetter, attrgetter, methodcaller
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> operator <span style="color:#66d9ef">as</span> op
</span></span><span style="display:flex;"><span>elementwise_sum  <span style="color:#f92672">=</span> map(op<span style="color:#f92672">.</span>add, list_a, list_b)
</span></span><span style="display:flex;"><span>sorted_by_second <span style="color:#f92672">=</span> sorted(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>, key<span style="color:#f92672">=</span>op<span style="color:#f92672">.</span>itemgetter(<span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>sorted_by_both   <span style="color:#f92672">=</span> sorted(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>, key<span style="color:#f92672">=</span>op<span style="color:#f92672">.</span>itemgetter(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>))
</span></span><span style="display:flex;"><span>product_of_elems <span style="color:#f92672">=</span> functools<span style="color:#f92672">.</span>reduce(op<span style="color:#f92672">.</span>mul, <span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>LogicOp          <span style="color:#f92672">=</span> enum<span style="color:#f92672">.</span>Enum(<span style="color:#e6db74">&#39;LogicOp&#39;</span>, {<span style="color:#e6db74">&#39;AND&#39;</span>: op<span style="color:#f92672">.</span>and_, <span style="color:#e6db74">&#39;OR&#39;</span> : op<span style="color:#f92672">.</span>or_})
</span></span><span style="display:flex;"><span>last_el          <span style="color:#f92672">=</span> op<span style="color:#f92672">.</span>methodcaller(<span style="color:#e6db74">&#39;pop&#39;</span>)(<span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="introspection">
        Introspection
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#introspection" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Introspection" aria-label="Anchor to: Introspection" href="#introspection">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<p><strong>Inspecting code at runtime.</strong></p>
<div class="gdoc-page__anchorwrap">
    <h3 id="variables">
        Variables
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#variables" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Variables" aria-label="Anchor to: Variables" href="#variables">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> dir()                             <span style="color:#75715e"># Names of local variables (incl. functions).</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> vars()                            <span style="color:#75715e"># Dict of local variables. Also locals().</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> globals()                         <span style="color:#75715e"># Dict of global variables.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="attributes-1">
        Attributes
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#attributes-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Attributes" aria-label="Anchor to: Attributes" href="#attributes-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> dir(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>)                     <span style="color:#75715e"># Names of object&#39;s attributes (incl. methods).</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> vars(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>)                    <span style="color:#75715e"># Dict of object&#39;s fields. Also &lt;obj&gt;.__dict__.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> hasattr(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>, <span style="color:#e6db74">&#39;&lt;attr_name&gt;&#39;</span>)
</span></span><span style="display:flex;"><span>value  <span style="color:#f92672">=</span> getattr(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>, <span style="color:#e6db74">&#39;&lt;attr_name&gt;&#39;</span>)
</span></span><span style="display:flex;"><span>setattr(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>, <span style="color:#e6db74">&#39;&lt;attr_name&gt;&#39;</span>, value)
</span></span><span style="display:flex;"><span>delattr(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>, <span style="color:#e6db74">&#39;&lt;attr_name&gt;&#39;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="parameters-1">
        Parameters
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#parameters-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Parameters" aria-label="Anchor to: Parameters" href="#parameters-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> inspect <span style="color:#f92672">import</span> signature
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>sig<span style="color:#f92672">&gt;</span>        <span style="color:#f92672">=</span> signature(<span style="color:#f92672">&lt;</span>function<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>no_of_params <span style="color:#f92672">=</span> len(<span style="color:#f92672">&lt;</span>sig<span style="color:#f92672">&gt;.</span>parameters)
</span></span><span style="display:flex;"><span>param_names  <span style="color:#f92672">=</span> list(<span style="color:#f92672">&lt;</span>sig<span style="color:#f92672">&gt;.</span>parameters<span style="color:#f92672">.</span>keys())
</span></span><span style="display:flex;"><span>param_kinds  <span style="color:#f92672">=</span> [a<span style="color:#f92672">.</span>kind <span style="color:#66d9ef">for</span> a <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>sig<span style="color:#f92672">&gt;.</span>parameters<span style="color:#f92672">.</span>values()]
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="metaprograming">
        Metaprograming
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#metaprograming" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Metaprograming" aria-label="Anchor to: Metaprograming" href="#metaprograming">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<p><strong>Code that generates code.</strong></p>
<div class="gdoc-page__anchorwrap">
    <h3 id="type-1">
        Type
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#type-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Type" aria-label="Anchor to: Type" href="#type-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Type is the root class. If only passed an object it returns its type (class). Otherwise it creates a new class.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>class<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> type(<span style="color:#e6db74">&#39;&lt;class_name&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>parents_tuple<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>attributes_dict<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> Z <span style="color:#f92672">=</span> type(<span style="color:#e6db74">&#39;Z&#39;</span>, (), {<span style="color:#e6db74">&#39;a&#39;</span>: <span style="color:#e6db74">&#39;abcde&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>: <span style="color:#ae81ff">12345</span>})
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> z <span style="color:#f92672">=</span> Z()
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="meta-class">
        Meta Class
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#meta-class" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Meta Class" aria-label="Anchor to: Meta Class" href="#meta-class">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>A class that creates classes.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">my_meta_class</span>(name, parents, attrs):
</span></span><span style="display:flex;"><span>    attrs[<span style="color:#e6db74">&#39;a&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;abcde&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> type(name, parents, attrs)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="or-2">
        Or:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#or-2" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Or:" aria-label="Anchor to: Or:" href="#or-2">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyMetaClass</span>(type):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __new__(cls, name, parents, attrs):
</span></span><span style="display:flex;"><span>        attrs[<span style="color:#e6db74">&#39;a&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;abcde&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> type<span style="color:#f92672">.</span>__new__(cls, name, parents, attrs)
</span></span></code></pre></div><ul>
<li><strong>New() is a class method that gets called before init(). If it returns an instance of its class, then that instance gets passed to init() as a &lsquo;self&rsquo; argument.</strong></li>
<li><strong>It receives the same arguments as init(), except for the first one that specifies the desired type of the returned instance (MyMetaClass in our case).</strong></li>
<li><strong>Like in our case, new() can also be called directly, usually from a new() method of a child class (</strong><code>def __new__(cls): return super().__new__(cls)</code><strong>).</strong></li>
<li><strong>The only difference between the examples above is that my_meta_class() returns a class of type type, while MyMetaClass() returns a class of type MyMetaClass.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="metaclass-attribute">
        Metaclass Attribute
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#metaclass-attribute" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Metaclass Attribute" aria-label="Anchor to: Metaclass Attribute" href="#metaclass-attribute">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Right before a class is created it checks if it has the &lsquo;metaclass&rsquo; attribute defined. If not, it recursively checks if any of his parents has it defined and eventually comes to type().</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyClass</span>(metaclass<span style="color:#f92672">=</span>MyMetaClass):
</span></span><span style="display:flex;"><span>    b <span style="color:#f92672">=</span> <span style="color:#ae81ff">12345</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> MyClass<span style="color:#f92672">.</span>a, MyClass<span style="color:#f92672">.</span>b
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#39;abcde&#39;</span>, <span style="color:#ae81ff">12345</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="type-diagram">
        Type Diagram
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#type-diagram" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Type Diagram" aria-label="Anchor to: Type Diagram" href="#type-diagram">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(MyClass)     <span style="color:#f92672">==</span> MyMetaClass     <span style="color:#75715e"># MyClass is an instance of MyMetaClass.</span>
</span></span><span style="display:flex;"><span>type(MyMetaClass) <span style="color:#f92672">==</span> type            <span style="color:#75715e"># MyMetaClass is an instance of type.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+-------------+-------------+
</span></span><span style="display:flex;"><span>|   Classes   | Metaclasses |
</span></span><span style="display:flex;"><span>+-------------+-------------|
</span></span><span style="display:flex;"><span>|   MyClass --&gt; MyMetaClass |
</span></span><span style="display:flex;"><span>|             |     v       |
</span></span><span style="display:flex;"><span>|    object -----&gt; type &lt;+  |
</span></span><span style="display:flex;"><span>|             |     ^ +--+  |
</span></span><span style="display:flex;"><span>|     str ----------+       |
</span></span><span style="display:flex;"><span>+-------------+-------------+
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="inheritance-diagram">
        Inheritance Diagram
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#inheritance-diagram" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Inheritance Diagram" aria-label="Anchor to: Inheritance Diagram" href="#inheritance-diagram">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>MyClass<span style="color:#f92672">.</span>__base__     <span style="color:#f92672">==</span> object       <span style="color:#75715e"># MyClass is a subclass of object.</span>
</span></span><span style="display:flex;"><span>MyMetaClass<span style="color:#f92672">.</span>__base__ <span style="color:#f92672">==</span> type         <span style="color:#75715e"># MyMetaClass is a subclass of type.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+-------------+-------------+
</span></span><span style="display:flex;"><span>|   Classes   | Metaclasses |
</span></span><span style="display:flex;"><span>+-------------+-------------|
</span></span><span style="display:flex;"><span>|   MyClass   | MyMetaClass |
</span></span><span style="display:flex;"><span>|      v      |     v       |
</span></span><span style="display:flex;"><span>|    object &lt;----- type     |
</span></span><span style="display:flex;"><span>|      ^      |             |
</span></span><span style="display:flex;"><span>|     str     |             |
</span></span><span style="display:flex;"><span>+-------------+-------------+
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="eval">
        Eval
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#eval" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Eval" aria-label="Anchor to: Eval" href="#eval">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> ast <span style="color:#f92672">import</span> literal_eval
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> literal_eval(<span style="color:#e6db74">&#39;1 + 2&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> literal_eval(<span style="color:#e6db74">&#39;[1, 2, 3]&#39;</span>)
</span></span><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> literal_eval(<span style="color:#e6db74">&#39;abs(1)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ValueError</span>: malformed node <span style="color:#f92672">or</span> string
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="coroutines">
        Coroutines
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#coroutines" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Coroutines" aria-label="Anchor to: Coroutines" href="#coroutines">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<ul>
<li><strong>Coroutines have a lot in common with threads, but unlike threads, they only give up control when they call another coroutine and they don’t use as much memory.</strong></li>
<li><strong>Coroutine definition starts with <code>'async'</code> and its call with <code>'await'</code>.</strong></li>
<li><strong><code>'asyncio.run(&lt;coroutine&gt;)'</code> is the main entry point for asynchronous programs.</strong></li>
<li><strong>Functions wait(), gather() and as_completed() can be used when multiple coroutines need to be started at the same time.</strong></li>
<li><strong>Asyncio module also provides its own <a
  class="gdoc-markdown__link"
  href="#queue"
  
>Queue</a>, <a
  class="gdoc-markdown__link"
  href="#semaphore-event-barrier"
  
>Event</a>, <a
  class="gdoc-markdown__link"
  href="#lock"
  
>Lock</a> and <a
  class="gdoc-markdown__link"
  href="#semaphore-event-barrier"
  
>Semaphore</a> classes.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h4 id="runs-a-terminal-game-where-you-control-an-asterisk-that-must-avoid-numbers">
        Runs a terminal game where you control an asterisk that must avoid numbers:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#runs-a-terminal-game-where-you-control-an-asterisk-that-must-avoid-numbers" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Runs a terminal game where you control an asterisk that must avoid numbers:" aria-label="Anchor to: Runs a terminal game where you control an asterisk that must avoid numbers:" href="#runs-a-terminal-game-where-you-control-an-asterisk-that-must-avoid-numbers">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> asyncio<span style="color:#f92672">,</span> collections<span style="color:#f92672">,</span> curses<span style="color:#f92672">,</span> enum<span style="color:#f92672">,</span> random
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>P <span style="color:#f92672">=</span> collections<span style="color:#f92672">.</span>namedtuple(<span style="color:#e6db74">&#39;P&#39;</span>, <span style="color:#e6db74">&#39;x y&#39;</span>)         <span style="color:#75715e"># Position</span>
</span></span><span style="display:flex;"><span>D <span style="color:#f92672">=</span> enum<span style="color:#f92672">.</span>Enum(<span style="color:#e6db74">&#39;D&#39;</span>, <span style="color:#e6db74">&#39;n e s w&#39;</span>)                  <span style="color:#75715e"># Direction</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>(screen):
</span></span><span style="display:flex;"><span>    curses<span style="color:#f92672">.</span>curs_set(<span style="color:#ae81ff">0</span>)                         <span style="color:#75715e"># Makes cursor invisible.</span>
</span></span><span style="display:flex;"><span>    screen<span style="color:#f92672">.</span>nodelay(<span style="color:#66d9ef">True</span>)                       <span style="color:#75715e"># Makes getch() non-blocking.</span>
</span></span><span style="display:flex;"><span>    asyncio<span style="color:#f92672">.</span>run(main_coroutine(screen))        <span style="color:#75715e"># Starts running asyncio code.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main_coroutine</span>(screen):
</span></span><span style="display:flex;"><span>    state <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;*&#39;</span>: P(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>), <span style="color:#f92672">**</span>{id_: P(<span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">10</span>) <span style="color:#66d9ef">for</span> id_ <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>)}}
</span></span><span style="display:flex;"><span>    moves <span style="color:#f92672">=</span> asyncio<span style="color:#f92672">.</span>Queue()
</span></span><span style="display:flex;"><span>    coros <span style="color:#f92672">=</span> (<span style="color:#f92672">*</span>(random_controller(id_, moves) <span style="color:#66d9ef">for</span> id_ <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>)),
</span></span><span style="display:flex;"><span>             human_controller(screen, moves),
</span></span><span style="display:flex;"><span>             model(moves, state, <span style="color:#f92672">*</span>screen<span style="color:#f92672">.</span>getmaxyx()),
</span></span><span style="display:flex;"><span>             view(state, screen))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">await</span> asyncio<span style="color:#f92672">.</span>wait(coros, return_when<span style="color:#f92672">=</span>asyncio<span style="color:#f92672">.</span>FIRST_COMPLETED)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">random_controller</span>(id_, moves):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>        moves<span style="color:#f92672">.</span>put_nowait((id_, random<span style="color:#f92672">.</span>choice(list(D))))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">await</span> asyncio<span style="color:#f92672">.</span>sleep(random<span style="color:#f92672">.</span>random() <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">human_controller</span>(screen, moves):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>        ch <span style="color:#f92672">=</span> screen<span style="color:#f92672">.</span>getch()
</span></span><span style="display:flex;"><span>        key_mappings <span style="color:#f92672">=</span> {<span style="color:#ae81ff">259</span>: D<span style="color:#f92672">.</span>n, <span style="color:#ae81ff">261</span>: D<span style="color:#f92672">.</span>e, <span style="color:#ae81ff">258</span>: D<span style="color:#f92672">.</span>s, <span style="color:#ae81ff">260</span>: D<span style="color:#f92672">.</span>w}
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> ch <span style="color:#f92672">in</span> key_mappings:
</span></span><span style="display:flex;"><span>            moves<span style="color:#f92672">.</span>put_nowait((<span style="color:#e6db74">&#39;*&#39;</span>, key_mappings[ch]))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">await</span> asyncio<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">0.01</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">model</span>(moves, state, height, width):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> state[<span style="color:#e6db74">&#39;*&#39;</span>] <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> {p <span style="color:#66d9ef">for</span> id_, p <span style="color:#f92672">in</span> state<span style="color:#f92672">.</span>items() <span style="color:#66d9ef">if</span> id_ <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#39;*&#39;</span>}:
</span></span><span style="display:flex;"><span>        id_, d <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> moves<span style="color:#f92672">.</span>get()
</span></span><span style="display:flex;"><span>        p      <span style="color:#f92672">=</span> state[id_]
</span></span><span style="display:flex;"><span>        deltas <span style="color:#f92672">=</span> {D<span style="color:#f92672">.</span>n: P(<span style="color:#ae81ff">0</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>), D<span style="color:#f92672">.</span>e: P(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>), D<span style="color:#f92672">.</span>s: P(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>), D<span style="color:#f92672">.</span>w: P(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>)}
</span></span><span style="display:flex;"><span>        new_p  <span style="color:#f92672">=</span> P(<span style="color:#f92672">*</span>[sum(a) <span style="color:#66d9ef">for</span> a <span style="color:#f92672">in</span> zip(p, deltas[d])])
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&lt;=</span> new_p<span style="color:#f92672">.</span>x <span style="color:#f92672">&lt;</span> width<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">and</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&lt;=</span> new_p<span style="color:#f92672">.</span>y <span style="color:#f92672">&lt;</span> height:
</span></span><span style="display:flex;"><span>            state[id_] <span style="color:#f92672">=</span> new_p
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">view</span>(state, screen):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>        screen<span style="color:#f92672">.</span>clear()
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> id_, p <span style="color:#f92672">in</span> state<span style="color:#f92672">.</span>items():
</span></span><span style="display:flex;"><span>            screen<span style="color:#f92672">.</span>addstr(p<span style="color:#f92672">.</span>y, p<span style="color:#f92672">.</span>x, str(id_))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">await</span> asyncio<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">0.01</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>curses<span style="color:#f92672">.</span>wrapper(main)
</span></span></code></pre></div><!-- raw HTML omitted -->
<div class="gdoc-page__anchorwrap">
    <h1 id="libraries">
        Libraries
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#libraries" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Libraries" aria-label="Anchor to: Libraries" href="#libraries">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div>
<div class="gdoc-page__anchorwrap">
    <h2 id="progress-bar">
        Progress Bar
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#progress-bar" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Progress Bar" aria-label="Anchor to: Progress Bar" href="#progress-bar">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install tqdm</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> tqdm <span style="color:#f92672">import</span> tqdm
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> time <span style="color:#f92672">import</span> sleep
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> el <span style="color:#f92672">in</span> tqdm([<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]):
</span></span><span style="display:flex;"><span>    sleep(<span style="color:#ae81ff">0.2</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="plot">
        Plot
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#plot" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Plot" aria-label="Anchor to: Plot" href="#plot">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install matplotlib</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> matplotlib <span style="color:#f92672">import</span> pyplot
</span></span><span style="display:flex;"><span>pyplot<span style="color:#f92672">.</span>plot(<span style="color:#f92672">&lt;</span>y_data<span style="color:#f92672">&gt;</span> [, label<span style="color:#f92672">=&lt;</span>str<span style="color:#f92672">&gt;</span>])
</span></span><span style="display:flex;"><span>pyplot<span style="color:#f92672">.</span>plot(<span style="color:#f92672">&lt;</span>x_data<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>y_data<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>pyplot<span style="color:#f92672">.</span>legend()                                <span style="color:#75715e"># Adds a legend.</span>
</span></span><span style="display:flex;"><span>pyplot<span style="color:#f92672">.</span>savefig(<span style="color:#e6db74">&#39;&lt;path&gt;&#39;</span>)                       <span style="color:#75715e"># Saves the figure.</span>
</span></span><span style="display:flex;"><span>pyplot<span style="color:#f92672">.</span>show()                                  <span style="color:#75715e"># Displays the figure.</span>
</span></span><span style="display:flex;"><span>pyplot<span style="color:#f92672">.</span>clf()                                   <span style="color:#75715e"># Clears the figure.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="table">
        Table
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#table" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Table" aria-label="Anchor to: Table" href="#table">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="gdoc-page__anchorwrap">
    <h4 id="prints-a-csv-file-as-an-ascii-table">
        Prints a CSV file as an ASCII table:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#prints-a-csv-file-as-an-ascii-table" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Prints a CSV file as an ASCII table:" aria-label="Anchor to: Prints a CSV file as an ASCII table:" href="#prints-a-csv-file-as-an-ascii-table">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install tabulate</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> csv<span style="color:#f92672">,</span> tabulate
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;test.csv&#39;</span>, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>, newline<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>    rows   <span style="color:#f92672">=</span> csv<span style="color:#f92672">.</span>reader(file)
</span></span><span style="display:flex;"><span>    header <span style="color:#f92672">=</span> [a<span style="color:#f92672">.</span>title() <span style="color:#66d9ef">for</span> a <span style="color:#f92672">in</span> next(rows)]
</span></span><span style="display:flex;"><span>    table  <span style="color:#f92672">=</span> tabulate<span style="color:#f92672">.</span>tabulate(rows, header)
</span></span><span style="display:flex;"><span>    print(table)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="curses">
        Curses
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#curses" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Curses" aria-label="Anchor to: Curses" href="#curses">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="gdoc-page__anchorwrap">
    <h4 id="clears-the-terminal-prints-a-message-and-waits-for-the-esc-key-press">
        Clears the terminal, prints a message and waits for the ESC key press:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#clears-the-terminal-prints-a-message-and-waits-for-the-esc-key-press" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Clears the terminal, prints a message and waits for the ESC key press:" aria-label="Anchor to: Clears the terminal, prints a message and waits for the ESC key press:" href="#clears-the-terminal-prints-a-message-and-waits-for-the-esc-key-press">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> curses <span style="color:#f92672">import</span> wrapper, curs_set, ascii
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> curses <span style="color:#f92672">import</span> KEY_UP, KEY_RIGHT, KEY_DOWN, KEY_LEFT
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    wrapper(draw)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">draw</span>(screen):
</span></span><span style="display:flex;"><span>    curs_set(<span style="color:#ae81ff">0</span>)                                <span style="color:#75715e"># Makes cursor invisible.</span>
</span></span><span style="display:flex;"><span>    screen<span style="color:#f92672">.</span>nodelay(<span style="color:#66d9ef">True</span>)                       <span style="color:#75715e"># Makes getch() non-blocking.</span>
</span></span><span style="display:flex;"><span>    screen<span style="color:#f92672">.</span>clear()
</span></span><span style="display:flex;"><span>    screen<span style="color:#f92672">.</span>addstr(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;Press ESC to quit.&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> screen<span style="color:#f92672">.</span>getch() <span style="color:#f92672">!=</span> ascii<span style="color:#f92672">.</span>ESC:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_border</span>(screen):
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> namedtuple
</span></span><span style="display:flex;"><span>    P <span style="color:#f92672">=</span> namedtuple(<span style="color:#e6db74">&#39;P&#39;</span>, <span style="color:#e6db74">&#39;x y&#39;</span>)
</span></span><span style="display:flex;"><span>    height, width <span style="color:#f92672">=</span> screen<span style="color:#f92672">.</span>getmaxyx()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> P(width<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, height<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    main()
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="logging">
        Logging
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#logging" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Logging" aria-label="Anchor to: Logging" href="#logging">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install loguru</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> loguru <span style="color:#f92672">import</span> logger
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>logger<span style="color:#f92672">.</span>add(<span style="color:#e6db74">&#39;debug_</span><span style="color:#e6db74">{time}</span><span style="color:#e6db74">.log&#39;</span>, colorize<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  <span style="color:#75715e"># Connects a log file.</span>
</span></span><span style="display:flex;"><span>logger<span style="color:#f92672">.</span>add(<span style="color:#e6db74">&#39;error_</span><span style="color:#e6db74">{time}</span><span style="color:#e6db74">.log&#39;</span>, level<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ERROR&#39;</span>)  <span style="color:#75715e"># Another file for errors or higher.</span>
</span></span><span style="display:flex;"><span>logger<span style="color:#f92672">.&lt;</span>level<span style="color:#f92672">&gt;</span>(<span style="color:#e6db74">&#39;A logging message.&#39;</span>)
</span></span></code></pre></div><ul>
<li><strong>Levels: <code>'debug'</code>, <code>'info'</code>, <code>'success'</code>, <code>'warning'</code>, <code>'error'</code>, <code>'critical'</code>.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="exceptions-2">
        Exceptions
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#exceptions-2" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Exceptions" aria-label="Anchor to: Exceptions" href="#exceptions-2">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Exception description, stack trace and values of variables are appended automatically.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span>    logger<span style="color:#f92672">.</span>exception(<span style="color:#e6db74">&#39;An error happened.&#39;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="rotation">
        Rotation
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#rotation" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Rotation" aria-label="Anchor to: Rotation" href="#rotation">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Argument that sets a condition when a new log file is created.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>rotation<span style="color:#f92672">=&lt;</span>int<span style="color:#f92672">&gt;|&lt;</span>datetime<span style="color:#f92672">.</span>timedelta<span style="color:#f92672">&gt;|&lt;</span>datetime<span style="color:#f92672">.</span>time<span style="color:#f92672">&gt;|&lt;</span>str<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><ul>
<li><strong><code>'&lt;int&gt;'</code> - Max file size in bytes.</strong></li>
<li><strong><code>'&lt;timedelta&gt;'</code> - Max age of a file.</strong></li>
<li><strong><code>'&lt;time&gt;'</code> - Time of day.</strong></li>
<li><strong><code>'&lt;str&gt;'</code> - Any of above as a string: <code>'100 MB'</code>, <code>'1 month'</code>, <code>'monday at 12:00'</code>, &hellip;</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="retention">
        Retention
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#retention" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Retention" aria-label="Anchor to: Retention" href="#retention">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Sets a condition which old log files get deleted.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>retention<span style="color:#f92672">=&lt;</span>int<span style="color:#f92672">&gt;|&lt;</span>datetime<span style="color:#f92672">.</span>timedelta<span style="color:#f92672">&gt;|&lt;</span>str<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><ul>
<li><strong><code>'&lt;int&gt;'</code> - Max number of files.</strong></li>
<li><strong><code>'&lt;timedelta&gt;'</code> - Max age of a file.</strong></li>
<li><strong><code>'&lt;str&gt;'</code> - Max age as a string: <code>'1 week, 3 days'</code>, <code>'2 months'</code>, &hellip;</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h2 id="scraping">
        Scraping
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#scraping" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Scraping" aria-label="Anchor to: Scraping" href="#scraping">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="gdoc-page__anchorwrap">
    <h4 id="scrapes-pythons-url-version-number-and-logo-from-wikipedia-page">
        Scrapes Python&rsquo;s URL, version number and logo from Wikipedia page:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#scrapes-pythons-url-version-number-and-logo-from-wikipedia-page" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Scrapes Python&rsquo;s URL, version number and logo from Wikipedia page:" aria-label="Anchor to: Scrapes Python&rsquo;s URL, version number and logo from Wikipedia page:" href="#scrapes-pythons-url-version-number-and-logo-from-wikipedia-page">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install requests beautifulsoup4</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> requests
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> bs4 <span style="color:#f92672">import</span> BeautifulSoup
</span></span><span style="display:flex;"><span>URL <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://en.wikipedia.org/wiki/Python_(programming_language)&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    html  <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(URL)<span style="color:#f92672">.</span>text
</span></span><span style="display:flex;"><span>    doc   <span style="color:#f92672">=</span> BeautifulSoup(html, <span style="color:#e6db74">&#39;html.parser&#39;</span>)
</span></span><span style="display:flex;"><span>    table <span style="color:#f92672">=</span> doc<span style="color:#f92672">.</span>find(<span style="color:#e6db74">&#39;table&#39;</span>, class_<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;infobox vevent&#39;</span>)
</span></span><span style="display:flex;"><span>    rows  <span style="color:#f92672">=</span> table<span style="color:#f92672">.</span>find_all(<span style="color:#e6db74">&#39;tr&#39;</span>)
</span></span><span style="display:flex;"><span>    link  <span style="color:#f92672">=</span> rows[<span style="color:#ae81ff">11</span>]<span style="color:#f92672">.</span>find(<span style="color:#e6db74">&#39;a&#39;</span>)[<span style="color:#e6db74">&#39;href&#39;</span>]
</span></span><span style="display:flex;"><span>    ver   <span style="color:#f92672">=</span> rows[<span style="color:#ae81ff">6</span>]<span style="color:#f92672">.</span>find(<span style="color:#e6db74">&#39;div&#39;</span>)<span style="color:#f92672">.</span>text<span style="color:#f92672">.</span>split()[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>    url_i <span style="color:#f92672">=</span> rows[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>find(<span style="color:#e6db74">&#39;img&#39;</span>)[<span style="color:#e6db74">&#39;src&#39;</span>]
</span></span><span style="display:flex;"><span>    image <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;https:</span><span style="color:#e6db74">{</span>url_i<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)<span style="color:#f92672">.</span>content
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;test.png&#39;</span>, <span style="color:#e6db74">&#39;wb&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>write(image)
</span></span><span style="display:flex;"><span>    print(link, ver)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> requests<span style="color:#f92672">.</span>exceptions<span style="color:#f92672">.</span>ConnectionError:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;You&#39;ve got problems with connection.&#34;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="web">
        Web
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#web" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Web" aria-label="Anchor to: Web" href="#web">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install bottle</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> bottle <span style="color:#f92672">import</span> run, route, static_file, template, post, request, response
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> json
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="run">
        Run
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#run" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Run" aria-label="Anchor to: Run" href="#run">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>run(host<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;localhost&#39;</span>, port<span style="color:#f92672">=</span><span style="color:#ae81ff">8080</span>)        <span style="color:#75715e"># Runs locally.</span>
</span></span><span style="display:flex;"><span>run(host<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;0.0.0.0&#39;</span>, port<span style="color:#f92672">=</span><span style="color:#ae81ff">80</span>)            <span style="color:#75715e"># Runs globally.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="static-request">
        Static Request
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#static-request" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Static Request" aria-label="Anchor to: Static Request" href="#static-request">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#a6e22e">@route</span>(<span style="color:#e6db74">&#39;/img/&lt;image&gt;&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">send_image</span>(image):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> static_file(image, <span style="color:#e6db74">&#39;img_dir/&#39;</span>, mimetype<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;image/png&#39;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="dynamic-request">
        Dynamic Request
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#dynamic-request" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Dynamic Request" aria-label="Anchor to: Dynamic Request" href="#dynamic-request">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#a6e22e">@route</span>(<span style="color:#e6db74">&#39;/&lt;sport&gt;&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">send_page</span>(sport):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> template(<span style="color:#e6db74">&#39;&lt;h1&gt;{{title}}&lt;/h1&gt;&#39;</span>, title<span style="color:#f92672">=</span>sport)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="rest-request">
        REST Request
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#rest-request" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: REST Request" aria-label="Anchor to: REST Request" href="#rest-request">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#a6e22e">@post</span>(<span style="color:#e6db74">&#39;/odds/&lt;sport&gt;&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">odds_handler</span>(sport):
</span></span><span style="display:flex;"><span>    team <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span>forms<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;team&#39;</span>)
</span></span><span style="display:flex;"><span>    home_odds, away_odds <span style="color:#f92672">=</span> <span style="color:#ae81ff">2.44</span>, <span style="color:#ae81ff">3.29</span>
</span></span><span style="display:flex;"><span>    response<span style="color:#f92672">.</span>headers[<span style="color:#e6db74">&#39;Content-Type&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;application/json&#39;</span>
</span></span><span style="display:flex;"><span>    response<span style="color:#f92672">.</span>headers[<span style="color:#e6db74">&#39;Cache-Control&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;no-cache&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> json<span style="color:#f92672">.</span>dumps([team, home_odds, away_odds])
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="test">
        Test:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#test" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Test:" aria-label="Anchor to: Test:" href="#test">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install requests</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">import</span> requests
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> url  <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;http://localhost:8080/odds/football&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> data <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;team&#39;</span>: <span style="color:#e6db74">&#39;arsenal f.c.&#39;</span>}
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> response <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>post(url, data<span style="color:#f92672">=</span>data)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> response<span style="color:#f92672">.</span>json()
</span></span><span style="display:flex;"><span>[<span style="color:#e6db74">&#39;arsenal f.c.&#39;</span>, <span style="color:#ae81ff">2.44</span>, <span style="color:#ae81ff">3.29</span>]
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="profiling">
        Profiling
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#profiling" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Profiling" aria-label="Anchor to: Profiling" href="#profiling">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="gdoc-page__anchorwrap">
    <h3 id="stopwatch">
        Stopwatch
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#stopwatch" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Stopwatch" aria-label="Anchor to: Stopwatch" href="#stopwatch">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> time <span style="color:#f92672">import</span> time
</span></span><span style="display:flex;"><span>start_time <span style="color:#f92672">=</span> time()                     <span style="color:#75715e"># Seconds since the Epoch.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>duration <span style="color:#f92672">=</span> time() <span style="color:#f92672">-</span> start_time
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="high-performance">
        High performance:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#high-performance" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: High performance:" aria-label="Anchor to: High performance:" href="#high-performance">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> time <span style="color:#f92672">import</span> perf_counter
</span></span><span style="display:flex;"><span>start_time <span style="color:#f92672">=</span> perf_counter()             <span style="color:#75715e"># Seconds since restart.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>duration <span style="color:#f92672">=</span> perf_counter() <span style="color:#f92672">-</span> start_time
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="timing-a-snippet">
        Timing a Snippet
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#timing-a-snippet" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Timing a Snippet" aria-label="Anchor to: Timing a Snippet" href="#timing-a-snippet">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> timeit <span style="color:#f92672">import</span> timeit
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> timeit(<span style="color:#e6db74">&#39;&#34;-&#34;.join(str(a) for a in range(100))&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>        number<span style="color:#f92672">=</span><span style="color:#ae81ff">10000</span>, globals<span style="color:#f92672">=</span>globals(), setup<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;pass&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0.34986</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="profiling-by-line">
        Profiling by Line
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#profiling-by-line" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Profiling by Line" aria-label="Anchor to: Profiling by Line" href="#profiling-by-line">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install line_profiler memory_profiler</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@profile</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> [<span style="color:#f92672">*</span>range(<span style="color:#ae81ff">10000</span>)]
</span></span><span style="display:flex;"><span>    b <span style="color:#f92672">=</span> {<span style="color:#f92672">*</span>range(<span style="color:#ae81ff">10000</span>)}
</span></span><span style="display:flex;"><span>main()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ kernprof -lv test.py
</span></span><span style="display:flex;"><span>Line #   Hits     Time  Per Hit   % Time  Line Contents
</span></span><span style="display:flex;"><span>=======================================================
</span></span><span style="display:flex;"><span>     1                                    @profile
</span></span><span style="display:flex;"><span>     2                                    def main():
</span></span><span style="display:flex;"><span>     3      1   1128.0   1128.0     27.4      a = [*range(10000)]
</span></span><span style="display:flex;"><span>     4      1   2994.0   2994.0     72.6      b = {*range(10000)}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ python3 -m memory_profiler test.py
</span></span><span style="display:flex;"><span>Line #         Mem usage      Increment   Line Contents
</span></span><span style="display:flex;"><span>=======================================================
</span></span><span style="display:flex;"><span>     1        35.387 MiB     35.387 MiB   @profile
</span></span><span style="display:flex;"><span>     2                                    def main():
</span></span><span style="display:flex;"><span>     3        35.734 MiB      0.348 MiB       a = [*range(10000)]
</span></span><span style="display:flex;"><span>     4        36.160 MiB      0.426 MiB       b = {*range(10000)}
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="call-graph">
        Call Graph
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#call-graph" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Call Graph" aria-label="Anchor to: Call Graph" href="#call-graph">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="gdoc-page__anchorwrap">
    <h4 id="generates-a-png-image-of-a-call-graph-with-highlighted-bottlenecks">
        Generates a PNG image of a call graph with highlighted bottlenecks:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#generates-a-png-image-of-a-call-graph-with-highlighted-bottlenecks" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Generates a PNG image of a call graph with highlighted bottlenecks:" aria-label="Anchor to: Generates a PNG image of a call graph with highlighted bottlenecks:" href="#generates-a-png-image-of-a-call-graph-with-highlighted-bottlenecks">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install pycallgraph</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> pycallgraph <span style="color:#f92672">import</span> output, PyCallGraph
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> datetime <span style="color:#f92672">import</span> datetime
</span></span><span style="display:flex;"><span>time_str <span style="color:#f92672">=</span> datetime<span style="color:#f92672">.</span>now()<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#39;%Y%m</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">%H%M%S&#39;</span>)
</span></span><span style="display:flex;"><span>filename <span style="color:#f92672">=</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;profile-</span><span style="color:#e6db74">{</span>time_str<span style="color:#e6db74">}</span><span style="color:#e6db74">.png&#39;</span>
</span></span><span style="display:flex;"><span>drawer <span style="color:#f92672">=</span> output<span style="color:#f92672">.</span>GraphvizOutput(output_file<span style="color:#f92672">=</span>filename)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> PyCallGraph(drawer):
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>code_to_be_profiled<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="numpy">
        NumPy
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#numpy" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: NumPy" aria-label="Anchor to: NumPy" href="#numpy">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<p><strong>Array manipulation mini-language. It can run up to one hundred times faster than the equivalent Python code.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install numpy</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array(<span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(from_inclusive, to_exclusive, <span style="color:#960050;background-color:#1e0010">±</span>step_size)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>ones(<span style="color:#f92672">&lt;</span>shape<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(from_inclusive, to_exclusive, <span style="color:#f92672">&lt;</span>shape<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;.</span>shape <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>shape<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>view<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;.</span>reshape(<span style="color:#f92672">&lt;</span>shape<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>view<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>broadcast_to(<span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>shape<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;.</span>sum(axis)
</span></span><span style="display:flex;"><span>indexes <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;.</span>argmin(axis)
</span></span></code></pre></div><ul>
<li><strong>Shape is a tuple of dimension sizes.</strong></li>
<li><strong>Axis is the index of a dimension that gets collapsed. The leftmost dimension has index 0.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="indexing">
        Indexing
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#indexing" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Indexing" aria-label="Anchor to: Indexing" href="#indexing">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&lt;el&gt;       <span style="color:#f92672">=</span> &lt;2d_array&gt;<span style="color:#f92672">[</span>0, 0<span style="color:#f92672">]</span>        <span style="color:#75715e"># First element.</span>
</span></span><span style="display:flex;"><span>&lt;1d_view&gt;  <span style="color:#f92672">=</span> &lt;2d_array&gt;<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span>           <span style="color:#75715e"># First row.</span>
</span></span><span style="display:flex;"><span>&lt;1d_view&gt;  <span style="color:#f92672">=</span> &lt;2d_array&gt;<span style="color:#f92672">[</span>:, 0<span style="color:#f92672">]</span>        <span style="color:#75715e"># First column. Also [..., 0].</span>
</span></span><span style="display:flex;"><span>&lt;3d_view&gt;  <span style="color:#f92672">=</span> &lt;2d_array&gt;<span style="color:#f92672">[</span>None, :, :<span style="color:#f92672">]</span>  <span style="color:#75715e"># Expanded by dimension of size 1.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&lt;1d_array&gt; <span style="color:#f92672">=</span> &lt;2d_array&gt;<span style="color:#f92672">[</span>&lt;1d_row_indexes&gt;, &lt;1d_column_indexes&gt;<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>&lt;2d_array&gt; <span style="color:#f92672">=</span> &lt;2d_array&gt;<span style="color:#f92672">[</span>&lt;2d_row_indexes&gt;, &lt;2d_column_indexes&gt;<span style="color:#f92672">]</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&lt;2d_bools&gt; <span style="color:#f92672">=</span> &lt;2d_array&gt; &gt; <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>&lt;1d_array&gt; <span style="color:#f92672">=</span> &lt;2d_array&gt;<span style="color:#f92672">[</span>&lt;2d_bools&gt;<span style="color:#f92672">]</span>
</span></span></code></pre></div><ul>
<li><strong>If row and column indexes differ in shape, they are combined with broadcasting.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="broadcasting">
        Broadcasting
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#broadcasting" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Broadcasting" aria-label="Anchor to: Broadcasting" href="#broadcasting">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Broadcasting is a set of rules by which NumPy functions operate on arrays of different sizes and/or dimensions.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>left  <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">0.1</span>], [<span style="color:#ae81ff">0.6</span>], [<span style="color:#ae81ff">0.8</span>]]        <span style="color:#75715e"># Shape: (3, 1)</span>
</span></span><span style="display:flex;"><span>right <span style="color:#f92672">=</span> [ <span style="color:#ae81ff">0.1</span> ,  <span style="color:#ae81ff">0.6</span> ,  <span style="color:#ae81ff">0.8</span> ]        <span style="color:#75715e"># Shape: (3)</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="1-if-array-shapes-differ-in-length-left-pad-the-shorter-shape-with-ones">
        1. If array shapes differ in length, left-pad the shorter shape with ones:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#1-if-array-shapes-differ-in-length-left-pad-the-shorter-shape-with-ones" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: 1. If array shapes differ in length, left-pad the shorter shape with ones:" aria-label="Anchor to: 1. If array shapes differ in length, left-pad the shorter shape with ones:" href="#1-if-array-shapes-differ-in-length-left-pad-the-shorter-shape-with-ones">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>left  <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">0.1</span>], [<span style="color:#ae81ff">0.6</span>], [<span style="color:#ae81ff">0.8</span>]]        <span style="color:#75715e"># Shape: (3, 1)</span>
</span></span><span style="display:flex;"><span>right <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">0.1</span> ,  <span style="color:#ae81ff">0.6</span> ,  <span style="color:#ae81ff">0.8</span>]]        <span style="color:#75715e"># Shape: (1, 3) &lt;- !</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="2-if-any-dimensions-differ-in-size-expand-the-ones-that-have-size-1-by-duplicating-their-elements">
        2. If any dimensions differ in size, expand the ones that have size 1 by duplicating their elements:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#2-if-any-dimensions-differ-in-size-expand-the-ones-that-have-size-1-by-duplicating-their-elements" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: 2. If any dimensions differ in size, expand the ones that have size 1 by duplicating their elements:" aria-label="Anchor to: 2. If any dimensions differ in size, expand the ones that have size 1 by duplicating their elements:" href="#2-if-any-dimensions-differ-in-size-expand-the-ones-that-have-size-1-by-duplicating-their-elements">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>left  <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.1</span>], [<span style="color:#ae81ff">0.6</span>, <span style="color:#ae81ff">0.6</span>, <span style="color:#ae81ff">0.6</span>], [<span style="color:#ae81ff">0.8</span>, <span style="color:#ae81ff">0.8</span>, <span style="color:#ae81ff">0.8</span>]]  <span style="color:#75715e"># Shape: (3, 3) &lt;- !</span>
</span></span><span style="display:flex;"><span>right <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.6</span>, <span style="color:#ae81ff">0.8</span>], [<span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.6</span>, <span style="color:#ae81ff">0.8</span>], [<span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.6</span>, <span style="color:#ae81ff">0.8</span>]]  <span style="color:#75715e"># Shape: (3, 3) &lt;- !</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="3-if-neither-non-matching-dimension-has-size-1-raise-an-error">
        3. If neither non-matching dimension has size 1, raise an error.
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#3-if-neither-non-matching-dimension-has-size-1-raise-an-error" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: 3. If neither non-matching dimension has size 1, raise an error." aria-label="Anchor to: 3. If neither non-matching dimension has size 1, raise an error." href="#3-if-neither-non-matching-dimension-has-size-1-raise-an-error">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="gdoc-page__anchorwrap">
    <h3 id="example-2">
        Example
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#example-2" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Example" aria-label="Anchor to: Example" href="#example-2">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="gdoc-page__anchorwrap">
    <h4 id="for-each-point-returns-index-of-its-nearest-point-01-06-08--1-2-1">
        For each point returns index of its nearest point (<code>[0.1, 0.6, 0.8] =&gt; [1, 2, 1]</code>):
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#for-each-point-returns-index-of-its-nearest-point-01-06-08--1-2-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: For each point returns index of its nearest point ([0.1, 0.6, 0.8] =&gt; [1, 2, 1]):" aria-label="Anchor to: For each point returns index of its nearest point ([0.1, 0.6, 0.8] =&gt; [1, 2, 1]):" href="#for-each-point-returns-index-of-its-nearest-point-01-06-08--1-2-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> points <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.6</span>, <span style="color:#ae81ff">0.8</span>])
</span></span><span style="display:flex;"><span> [ <span style="color:#ae81ff">0.1</span>,  <span style="color:#ae81ff">0.6</span>,  <span style="color:#ae81ff">0.8</span>]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> wrapped_points <span style="color:#f92672">=</span> points<span style="color:#f92672">.</span>reshape(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>[[ <span style="color:#ae81ff">0.1</span>],
</span></span><span style="display:flex;"><span> [ <span style="color:#ae81ff">0.6</span>],
</span></span><span style="display:flex;"><span> [ <span style="color:#ae81ff">0.8</span>]]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> distances <span style="color:#f92672">=</span> wrapped_points <span style="color:#f92672">-</span> points
</span></span><span style="display:flex;"><span>[[ <span style="color:#ae81ff">0.</span> , <span style="color:#f92672">-</span><span style="color:#ae81ff">0.5</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">0.7</span>],
</span></span><span style="display:flex;"><span> [ <span style="color:#ae81ff">0.5</span>,  <span style="color:#ae81ff">0.</span> , <span style="color:#f92672">-</span><span style="color:#ae81ff">0.2</span>],
</span></span><span style="display:flex;"><span> [ <span style="color:#ae81ff">0.7</span>,  <span style="color:#ae81ff">0.2</span>,  <span style="color:#ae81ff">0.</span> ]]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> distances <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>abs(distances)
</span></span><span style="display:flex;"><span>[[ <span style="color:#ae81ff">0.</span> ,  <span style="color:#ae81ff">0.5</span>,  <span style="color:#ae81ff">0.7</span>],
</span></span><span style="display:flex;"><span> [ <span style="color:#ae81ff">0.5</span>,  <span style="color:#ae81ff">0.</span> ,  <span style="color:#ae81ff">0.2</span>],
</span></span><span style="display:flex;"><span> [ <span style="color:#ae81ff">0.7</span>,  <span style="color:#ae81ff">0.2</span>,  <span style="color:#ae81ff">0.</span> ]]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> i <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>[<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> distances[i, i] <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>inf
</span></span><span style="display:flex;"><span>[[ inf,  <span style="color:#ae81ff">0.5</span>,  <span style="color:#ae81ff">0.7</span>],
</span></span><span style="display:flex;"><span> [ <span style="color:#ae81ff">0.5</span>,  inf,  <span style="color:#ae81ff">0.2</span>],
</span></span><span style="display:flex;"><span> [ <span style="color:#ae81ff">0.7</span>,  <span style="color:#ae81ff">0.2</span>,  inf]]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> distances<span style="color:#f92672">.</span>argmin(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>]
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="image">
        Image
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#image" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Image" aria-label="Anchor to: Image" href="#image">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install pillow</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> PIL <span style="color:#f92672">import</span> Image
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Image<span style="color:#f92672">.</span>new(<span style="color:#e6db74">&#39;&lt;mode&gt;&#39;</span>, (width, height))
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Image<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;&lt;path&gt;&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;.</span>convert(<span style="color:#e6db74">&#39;&lt;mode&gt;&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;.</span>save(<span style="color:#e6db74">&#39;&lt;path&gt;&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;.</span>show()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tuple<span style="color:#f92672">/</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;.</span>getpixel((x, y))          <span style="color:#75715e"># Returns a pixel.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;.</span>putpixel((x, y), <span style="color:#f92672">&lt;</span>tuple<span style="color:#f92672">/</span>int<span style="color:#f92672">&gt;</span>)           <span style="color:#75715e"># Writes a pixel to the image.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>ImagingCore<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;.</span>getdata()               <span style="color:#75715e"># Returns a sequence of pixels.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;.</span>putdata(<span style="color:#f92672">&lt;</span>list<span style="color:#f92672">/</span>ImagingCore<span style="color:#f92672">&gt;</span>)             <span style="color:#75715e"># Writes a sequence of pixels.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;.</span>paste(<span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;</span>, (x, y))                  <span style="color:#75715e"># Writes an image to the image.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&lt;2d_array&gt; <span style="color:#f92672">=</span> np.array<span style="color:#f92672">(</span>&lt;Image&gt;<span style="color:#f92672">)</span>                  <span style="color:#75715e"># Creates NumPy array from greyscale image.</span>
</span></span><span style="display:flex;"><span>&lt;3d_array&gt; <span style="color:#f92672">=</span> np.array<span style="color:#f92672">(</span>&lt;Image&gt;<span style="color:#f92672">)</span>                  <span style="color:#75715e"># Creates NumPy array from color image.</span>
</span></span><span style="display:flex;"><span>&lt;Image&gt;    <span style="color:#f92672">=</span> Image.fromarray<span style="color:#f92672">(</span>&lt;array&gt;<span style="color:#f92672">)</span>           <span style="color:#75715e"># Creates image from NumPy array of floats.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="modes-1">
        Modes
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#modes-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Modes" aria-label="Anchor to: Modes" href="#modes-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<ul>
<li><strong><code>'1'</code> - 1-bit pixels, black and white, stored with one pixel per byte.</strong></li>
<li><strong><code>'L'</code> - 8-bit pixels, greyscale.</strong></li>
<li><strong><code>'RGB'</code> - 3x8-bit pixels, true color.</strong></li>
<li><strong><code>'RGBA'</code> - 4x8-bit pixels, true color with transparency mask.</strong></li>
<li><strong><code>'HSV'</code> - 3x8-bit pixels, Hue, Saturation, Value color space.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="examples">
        Examples
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#examples" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Examples" aria-label="Anchor to: Examples" href="#examples">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="gdoc-page__anchorwrap">
    <h4 id="creates-a-png-image-of-a-rainbow-gradient">
        Creates a PNG image of a rainbow gradient:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#creates-a-png-image-of-a-rainbow-gradient" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Creates a PNG image of a rainbow gradient:" aria-label="Anchor to: Creates a PNG image of a rainbow gradient:" href="#creates-a-png-image-of-a-rainbow-gradient">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>WIDTH, HEIGHT <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>size <span style="color:#f92672">=</span> WIDTH <span style="color:#f92672">*</span> HEIGHT
</span></span><span style="display:flex;"><span>hues <span style="color:#f92672">=</span> [<span style="color:#ae81ff">255</span> <span style="color:#f92672">*</span> i<span style="color:#f92672">/</span>size <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(size)]
</span></span><span style="display:flex;"><span>img <span style="color:#f92672">=</span> Image<span style="color:#f92672">.</span>new(<span style="color:#e6db74">&#39;HSV&#39;</span>, (WIDTH, HEIGHT))
</span></span><span style="display:flex;"><span>img<span style="color:#f92672">.</span>putdata([(int(h), <span style="color:#ae81ff">255</span>, <span style="color:#ae81ff">255</span>) <span style="color:#66d9ef">for</span> h <span style="color:#f92672">in</span> hues])
</span></span><span style="display:flex;"><span>img<span style="color:#f92672">.</span>convert(<span style="color:#e6db74">&#39;RGB&#39;</span>)<span style="color:#f92672">.</span>save(<span style="color:#e6db74">&#39;test.png&#39;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="adds-noise-to-a-png-image">
        Adds noise to a PNG image:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#adds-noise-to-a-png-image" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Adds noise to a PNG image:" aria-label="Anchor to: Adds noise to a PNG image:" href="#adds-noise-to-a-png-image">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> randint
</span></span><span style="display:flex;"><span>add_noise <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> value: max(<span style="color:#ae81ff">0</span>, min(<span style="color:#ae81ff">255</span>, value <span style="color:#f92672">+</span> randint(<span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">20</span>)))
</span></span><span style="display:flex;"><span>img <span style="color:#f92672">=</span> Image<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;test.png&#39;</span>)<span style="color:#f92672">.</span>convert(<span style="color:#e6db74">&#39;HSV&#39;</span>)
</span></span><span style="display:flex;"><span>img<span style="color:#f92672">.</span>putdata([(add_noise(h), s, v) <span style="color:#66d9ef">for</span> h, s, v <span style="color:#f92672">in</span> img<span style="color:#f92672">.</span>getdata()])
</span></span><span style="display:flex;"><span>img<span style="color:#f92672">.</span>convert(<span style="color:#e6db74">&#39;RGB&#39;</span>)<span style="color:#f92672">.</span>save(<span style="color:#e6db74">&#39;test.png&#39;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="drawing">
        Drawing
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#drawing" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Drawing" aria-label="Anchor to: Drawing" href="#drawing">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> PIL <span style="color:#f92672">import</span> ImageDraw
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>ImageDraw<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> ImageDraw<span style="color:#f92672">.</span>Draw(<span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>ImageDraw<span style="color:#f92672">&gt;.</span>point((x, y), fill<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>ImageDraw<span style="color:#f92672">&gt;.</span>line((x1, y1, x2, y2 [, <span style="color:#f92672">...</span>]), fill<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, width<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, joint<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>) 
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>ImageDraw<span style="color:#f92672">&gt;.</span>arc((x1, y1, x2, y2), from_deg, to_deg, fill<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, width<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>ImageDraw<span style="color:#f92672">&gt;.</span>rectangle((x1, y1, x2, y2), fill<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, outline<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, width<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>ImageDraw<span style="color:#f92672">&gt;.</span>polygon((x1, y1, x2, y2 [, <span style="color:#f92672">...</span>]), fill<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, outline<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>ImageDraw<span style="color:#f92672">&gt;.</span>ellipse((x1, y1, x2, y2), fill<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, outline<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, width<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><ul>
<li><strong>Use <code>'fill=&lt;color&gt;'</code> to set the primary color.</strong></li>
<li><strong>Use <code>'outline=&lt;color&gt;'</code> to set the secondary color.</strong></li>
<li><strong>Color can be specified as a tuple, int, <code>'#rrggbb'</code> string or a color name.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h2 id="animation">
        Animation
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#animation" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Animation" aria-label="Anchor to: Animation" href="#animation">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="gdoc-page__anchorwrap">
    <h4 id="creates-a-gif-of-a-bouncing-ball">
        Creates a GIF of a bouncing ball:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#creates-a-gif-of-a-bouncing-ball" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Creates a GIF of a bouncing ball:" aria-label="Anchor to: Creates a GIF of a bouncing ball:" href="#creates-a-gif-of-a-bouncing-ball">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install pillow imageio</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> PIL <span style="color:#f92672">import</span> Image, ImageDraw
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> imageio
</span></span><span style="display:flex;"><span>WIDTH, R <span style="color:#f92672">=</span> <span style="color:#ae81ff">126</span>, <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>frames <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> velocity <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">15</span>):
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">=</span> sum(range(velocity<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>    frame <span style="color:#f92672">=</span> Image<span style="color:#f92672">.</span>new(<span style="color:#e6db74">&#39;L&#39;</span>, (WIDTH, WIDTH))
</span></span><span style="display:flex;"><span>    draw  <span style="color:#f92672">=</span> ImageDraw<span style="color:#f92672">.</span>Draw(frame)
</span></span><span style="display:flex;"><span>    draw<span style="color:#f92672">.</span>ellipse((WIDTH<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span><span style="color:#f92672">-</span>R, y, WIDTH<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span><span style="color:#f92672">+</span>R, y<span style="color:#f92672">+</span>R<span style="color:#f92672">*</span><span style="color:#ae81ff">2</span>), fill<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;white&#39;</span>)
</span></span><span style="display:flex;"><span>    frames<span style="color:#f92672">.</span>append(frame)
</span></span><span style="display:flex;"><span>frames <span style="color:#f92672">+=</span> reversed(frames[<span style="color:#ae81ff">1</span>:<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>imageio<span style="color:#f92672">.</span>mimsave(<span style="color:#e6db74">&#39;test.gif&#39;</span>, frames, duration<span style="color:#f92672">=</span><span style="color:#ae81ff">0.03</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="audio">
        Audio
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#audio" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Audio" aria-label="Anchor to: Audio" href="#audio">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> wave
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Wave_read<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> wave<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;&lt;path&gt;&#39;</span>, <span style="color:#e6db74">&#39;rb&#39;</span>)        <span style="color:#75715e"># Opens the WAV file.</span>
</span></span><span style="display:flex;"><span>framerate    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Wave_read<span style="color:#f92672">&gt;.</span>getframerate()       <span style="color:#75715e"># Number of frames per second.</span>
</span></span><span style="display:flex;"><span>nchannels    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Wave_read<span style="color:#f92672">&gt;.</span>getnchannels()       <span style="color:#75715e"># Number of samples per frame.</span>
</span></span><span style="display:flex;"><span>sampwidth    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Wave_read<span style="color:#f92672">&gt;.</span>getsampwidth()       <span style="color:#75715e"># Sample size in bytes.</span>
</span></span><span style="display:flex;"><span>nframes      <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Wave_read<span style="color:#f92672">&gt;.</span>getnframes()         <span style="color:#75715e"># Number of frames.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>params<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Wave_read<span style="color:#f92672">&gt;.</span>getparams()          <span style="color:#75715e"># Immutable collection of above.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>      <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Wave_read<span style="color:#f92672">&gt;.</span>readframes(nframes)  <span style="color:#75715e"># Returns next &#39;nframes&#39; frames.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Wave_write<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> wave<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;&lt;path&gt;&#39;</span>, <span style="color:#e6db74">&#39;wb&#39;</span>)        <span style="color:#75715e"># Truncates existing file.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Wave_write<span style="color:#f92672">&gt;.</span>setframerate(<span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>)                <span style="color:#75715e"># 44100 for CD, 48000 for video.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Wave_write<span style="color:#f92672">&gt;.</span>setnchannels(<span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>)                <span style="color:#75715e"># 1 for mono, 2 for stereo.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Wave_write<span style="color:#f92672">&gt;.</span>setsampwidth(<span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>)                <span style="color:#75715e"># 2 for CD quality sound.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Wave_write<span style="color:#f92672">&gt;.</span>setparams(<span style="color:#f92672">&lt;</span>params<span style="color:#f92672">&gt;</span>)                <span style="color:#75715e"># Sets all parameters.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Wave_write<span style="color:#f92672">&gt;.</span>writeframes(<span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>)               <span style="color:#75715e"># Appends frames to the file.</span>
</span></span></code></pre></div><ul>
<li><strong>Bytes object contains a sequence of frames, each consisting of one or more samples.</strong></li>
<li><strong>In a stereo signal, the first sample of a frame belongs to the left channel.</strong></li>
<li><strong>Each sample consists of one or more bytes that, when converted to an integer, indicate the displacement of a speaker membrane at a given moment.</strong></li>
<li><strong>If sample width is one, then the integer should be encoded unsigned.</strong></li>
<li><strong>For all other sizes, the integer should be encoded signed with little-endian byte order.</strong></li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h3 id="sample-values">
        Sample Values
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#sample-values" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Sample Values" aria-label="Anchor to: Sample Values" href="#sample-values">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+-----------+-------------+------+-------------+
</span></span><span style="display:flex;"><span>| sampwidth |     min     | zero |     max     |
</span></span><span style="display:flex;"><span>+-----------+-------------+------+-------------+
</span></span><span style="display:flex;"><span>|     1     |           0 |  128 |         255 |
</span></span><span style="display:flex;"><span>|     2     |      -32768 |    0 |       32767 |
</span></span><span style="display:flex;"><span>|     3     |    -8388608 |    0 |     8388607 |
</span></span><span style="display:flex;"><span>|     4     | -2147483648 |    0 |  2147483647 |
</span></span><span style="display:flex;"><span>+-----------+-------------+------+-------------+
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="read-float-samples-from-wav-file">
        Read Float Samples from WAV File
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#read-float-samples-from-wav-file" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Read Float Samples from WAV File" aria-label="Anchor to: Read Float Samples from WAV File" href="#read-float-samples-from-wav-file">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_wav_file</span>(filename):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_int</span>(a_bytes):
</span></span><span style="display:flex;"><span>        an_int <span style="color:#f92672">=</span> int<span style="color:#f92672">.</span>from_bytes(a_bytes, <span style="color:#e6db74">&#39;little&#39;</span>, signed<span style="color:#f92672">=</span>width<span style="color:#f92672">!=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> an_int <span style="color:#f92672">-</span> <span style="color:#ae81ff">128</span> <span style="color:#f92672">*</span> (width <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> wave<span style="color:#f92672">.</span>open(filename, <span style="color:#e6db74">&#39;rb&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        width  <span style="color:#f92672">=</span> file<span style="color:#f92672">.</span>getsampwidth()
</span></span><span style="display:flex;"><span>        frames <span style="color:#f92672">=</span> file<span style="color:#f92672">.</span>readframes(file<span style="color:#f92672">.</span>getnframes())
</span></span><span style="display:flex;"><span>    byte_samples <span style="color:#f92672">=</span> (frames[i: i <span style="color:#f92672">+</span> width] <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">0</span>, len(frames), width))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> [get_int(b) <span style="color:#f92672">/</span> pow(<span style="color:#ae81ff">2</span>, width <span style="color:#f92672">*</span> <span style="color:#ae81ff">8</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">for</span> b <span style="color:#f92672">in</span> byte_samples]
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="write-float-samples-to-wav-file">
        Write Float Samples to WAV File
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#write-float-samples-to-wav-file" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Write Float Samples to WAV File" aria-label="Anchor to: Write Float Samples to WAV File" href="#write-float-samples-to-wav-file">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">write_to_wav_file</span>(filename, float_samples, nchannels<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, sampwidth<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, framerate<span style="color:#f92672">=</span><span style="color:#ae81ff">44100</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_bytes</span>(a_float):
</span></span><span style="display:flex;"><span>        a_float <span style="color:#f92672">=</span> max(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, min(<span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">2e-16</span>, a_float))
</span></span><span style="display:flex;"><span>        a_float <span style="color:#f92672">+=</span> sampwidth <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        a_float <span style="color:#f92672">*=</span> pow(<span style="color:#ae81ff">2</span>, sampwidth <span style="color:#f92672">*</span> <span style="color:#ae81ff">8</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> int(a_float)<span style="color:#f92672">.</span>to_bytes(sampwidth, <span style="color:#e6db74">&#39;little&#39;</span>, signed<span style="color:#f92672">=</span>sampwidth<span style="color:#f92672">!=</span><span style="color:#ae81ff">1</span>) 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> wave<span style="color:#f92672">.</span>open(filename, <span style="color:#e6db74">&#39;wb&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>setnchannels(nchannels)
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>setsampwidth(sampwidth)
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>setframerate(framerate)
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>writeframes(<span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>join(get_bytes(f) <span style="color:#66d9ef">for</span> f <span style="color:#f92672">in</span> float_samples))
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="examples-1">
        Examples
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#examples-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Examples" aria-label="Anchor to: Examples" href="#examples-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="gdoc-page__anchorwrap">
    <h4 id="saves-a-sine-wave-to-a-mono-wav-file">
        Saves a sine wave to a mono WAV file:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#saves-a-sine-wave-to-a-mono-wav-file" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Saves a sine wave to a mono WAV file:" aria-label="Anchor to: Saves a sine wave to a mono WAV file:" href="#saves-a-sine-wave-to-a-mono-wav-file">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> math <span style="color:#f92672">import</span> pi, sin
</span></span><span style="display:flex;"><span>samples_f <span style="color:#f92672">=</span> (sin(i <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> pi <span style="color:#f92672">*</span> <span style="color:#ae81ff">440</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">44100</span>) <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">100000</span>))
</span></span><span style="display:flex;"><span>write_to_wav_file(<span style="color:#e6db74">&#39;test.wav&#39;</span>, samples_f)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="adds-noise-to-a-mono-wav-file">
        Adds noise to a mono WAV file:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#adds-noise-to-a-mono-wav-file" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Adds noise to a mono WAV file:" aria-label="Anchor to: Adds noise to a mono WAV file:" href="#adds-noise-to-a-mono-wav-file">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> random
</span></span><span style="display:flex;"><span>add_noise <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> value: value <span style="color:#f92672">+</span> (random() <span style="color:#f92672">-</span> <span style="color:#ae81ff">0.5</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.03</span>
</span></span><span style="display:flex;"><span>samples_f <span style="color:#f92672">=</span> (add_noise(f) <span style="color:#66d9ef">for</span> f <span style="color:#f92672">in</span> read_wav_file(<span style="color:#e6db74">&#39;test.wav&#39;</span>))
</span></span><span style="display:flex;"><span>write_to_wav_file(<span style="color:#e6db74">&#39;test.wav&#39;</span>, samples_f)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h4 id="plays-a-wav-file">
        Plays a WAV file:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#plays-a-wav-file" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Plays a WAV file:" aria-label="Anchor to: Plays a WAV file:" href="#plays-a-wav-file">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install simpleaudio</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> simpleaudio <span style="color:#f92672">import</span> play_buffer
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> wave<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;test.wav&#39;</span>, <span style="color:#e6db74">&#39;rb&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>    p <span style="color:#f92672">=</span> file<span style="color:#f92672">.</span>getparams()
</span></span><span style="display:flex;"><span>    frames <span style="color:#f92672">=</span> file<span style="color:#f92672">.</span>readframes(p<span style="color:#f92672">.</span>nframes)
</span></span><span style="display:flex;"><span>    play_buffer(frames, p<span style="color:#f92672">.</span>nchannels, p<span style="color:#f92672">.</span>sampwidth, p<span style="color:#f92672">.</span>framerate)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="text-to-speech">
        Text to Speech
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#text-to-speech" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Text to Speech" aria-label="Anchor to: Text to Speech" href="#text-to-speech">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install pyttsx3</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pyttsx3
</span></span><span style="display:flex;"><span>engine <span style="color:#f92672">=</span> pyttsx3<span style="color:#f92672">.</span>init()
</span></span><span style="display:flex;"><span>engine<span style="color:#f92672">.</span>say(<span style="color:#e6db74">&#39;Sally sells seashells by the seashore.&#39;</span>)
</span></span><span style="display:flex;"><span>engine<span style="color:#f92672">.</span>runAndWait()
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="synthesizer">
        Synthesizer
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#synthesizer" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Synthesizer" aria-label="Anchor to: Synthesizer" href="#synthesizer">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="gdoc-page__anchorwrap">
    <h4 id="plays-popcorn-by-gershon-kingsley">
        Plays Popcorn by Gershon Kingsley:
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#plays-popcorn-by-gershon-kingsley" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Plays Popcorn by Gershon Kingsley:" aria-label="Anchor to: Plays Popcorn by Gershon Kingsley:" href="#plays-popcorn-by-gershon-kingsley">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h4>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install simpleaudio</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> simpleaudio<span style="color:#f92672">,</span> math<span style="color:#f92672">,</span> struct
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> itertools <span style="color:#f92672">import</span> chain, repeat
</span></span><span style="display:flex;"><span>F  <span style="color:#f92672">=</span> <span style="color:#ae81ff">44100</span>
</span></span><span style="display:flex;"><span>P1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;71♪,69,,71♪,66,,62♪,66,,59♪,,,&#39;</span>
</span></span><span style="display:flex;"><span>P2 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;71♪,73,,74♪,73,,74,,71,,73♪,71,,73,,69,,71♪,69,,71,,67,,71♪,,,&#39;</span>
</span></span><span style="display:flex;"><span>get_pause   <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> seconds: repeat(<span style="color:#ae81ff">0</span>, int(seconds <span style="color:#f92672">*</span> F))
</span></span><span style="display:flex;"><span>sin_f       <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> i, hz: math<span style="color:#f92672">.</span>sin(i <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> math<span style="color:#f92672">.</span>pi <span style="color:#f92672">*</span> hz <span style="color:#f92672">/</span> F)
</span></span><span style="display:flex;"><span>get_wave    <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> hz, seconds: (sin_f(i, hz) <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(int(seconds <span style="color:#f92672">*</span> F)))
</span></span><span style="display:flex;"><span>get_hz      <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> key: <span style="color:#ae81ff">8.176</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">**</span> (int(key) <span style="color:#f92672">/</span> <span style="color:#ae81ff">12</span>)
</span></span><span style="display:flex;"><span>parse_note  <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> note: (get_hz(note[:<span style="color:#ae81ff">2</span>]), <span style="color:#ae81ff">0.25</span> <span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#39;♪&#39;</span> <span style="color:#f92672">in</span> note <span style="color:#66d9ef">else</span> <span style="color:#ae81ff">0.125</span>)
</span></span><span style="display:flex;"><span>get_samples <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> note: get_wave(<span style="color:#f92672">*</span>parse_note(note)) <span style="color:#66d9ef">if</span> note <span style="color:#66d9ef">else</span> get_pause(<span style="color:#ae81ff">0.125</span>)
</span></span><span style="display:flex;"><span>samples_f   <span style="color:#f92672">=</span> chain<span style="color:#f92672">.</span>from_iterable(get_samples(n) <span style="color:#66d9ef">for</span> n <span style="color:#f92672">in</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>P1<span style="color:#e6db74">}{</span>P1<span style="color:#e6db74">}{</span>P2<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;,&#39;</span>))
</span></span><span style="display:flex;"><span>samples_b   <span style="color:#f92672">=</span> <span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>join(struct<span style="color:#f92672">.</span>pack(<span style="color:#e6db74">&#39;&lt;h&#39;</span>, int(f <span style="color:#f92672">*</span> <span style="color:#ae81ff">30000</span>)) <span style="color:#66d9ef">for</span> f <span style="color:#f92672">in</span> samples_f)
</span></span><span style="display:flex;"><span>simpleaudio<span style="color:#f92672">.</span>play_buffer(samples_b, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, F)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="pygame">
        Pygame
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#pygame" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Pygame" aria-label="Anchor to: Pygame" href="#pygame">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="gdoc-page__anchorwrap">
    <h3 id="basic-example-1">
        Basic Example
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#basic-example-1" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Basic Example" aria-label="Anchor to: Basic Example" href="#basic-example-1">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install pygame</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pygame <span style="color:#66d9ef">as</span> pg
</span></span><span style="display:flex;"><span>pg<span style="color:#f92672">.</span>init()
</span></span><span style="display:flex;"><span>screen <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>display<span style="color:#f92672">.</span>set_mode((<span style="color:#ae81ff">500</span>, <span style="color:#ae81ff">500</span>))
</span></span><span style="display:flex;"><span>rect <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>Rect(<span style="color:#ae81ff">240</span>, <span style="color:#ae81ff">240</span>, <span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">20</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> all(event<span style="color:#f92672">.</span>type <span style="color:#f92672">!=</span> pg<span style="color:#f92672">.</span>QUIT <span style="color:#66d9ef">for</span> event <span style="color:#f92672">in</span> pg<span style="color:#f92672">.</span>event<span style="color:#f92672">.</span>get()):
</span></span><span style="display:flex;"><span>    deltas <span style="color:#f92672">=</span> {pg<span style="color:#f92672">.</span>K_UP: (<span style="color:#ae81ff">0</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>), pg<span style="color:#f92672">.</span>K_RIGHT: (<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">0</span>), pg<span style="color:#f92672">.</span>K_DOWN: (<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">3</span>), pg<span style="color:#f92672">.</span>K_LEFT: (<span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">0</span>)}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> delta <span style="color:#f92672">in</span> (deltas<span style="color:#f92672">.</span>get(i) <span style="color:#66d9ef">for</span> i, on <span style="color:#f92672">in</span> enumerate(pg<span style="color:#f92672">.</span>key<span style="color:#f92672">.</span>get_pressed()) <span style="color:#66d9ef">if</span> on):
</span></span><span style="display:flex;"><span>        rect <span style="color:#f92672">=</span> rect<span style="color:#f92672">.</span>move(delta) <span style="color:#66d9ef">if</span> delta <span style="color:#66d9ef">else</span> rect
</span></span><span style="display:flex;"><span>    screen<span style="color:#f92672">.</span>fill((<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>))
</span></span><span style="display:flex;"><span>    pg<span style="color:#f92672">.</span>draw<span style="color:#f92672">.</span>rect(screen, (<span style="color:#ae81ff">255</span>, <span style="color:#ae81ff">255</span>, <span style="color:#ae81ff">255</span>), rect)
</span></span><span style="display:flex;"><span>    pg<span style="color:#f92672">.</span>display<span style="color:#f92672">.</span>flip()
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="rectangle">
        Rectangle
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#rectangle" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Rectangle" aria-label="Anchor to: Rectangle" href="#rectangle">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Object for storing rectangular coordinates.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>Rect(x, y, width, height)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;.</span>x<span style="color:#f92672">/</span>y<span style="color:#f92672">/</span>centerx<span style="color:#f92672">/</span>centery<span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">…</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tup<span style="color:#f92672">.&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;.</span>topleft<span style="color:#f92672">/</span>center<span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">…</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;.</span>move((x, y))
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;.</span>collidepoint((x, y))            <span style="color:#75715e"># Tests if a point is inside a rectangle.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;.</span>colliderect(<span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;</span>)             <span style="color:#75715e"># Tests if two rectangles overlap.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;.</span>collidelist(<span style="color:#f92672">&lt;</span>list_of_Rect<span style="color:#f92672">&gt;</span>)     <span style="color:#75715e"># Returns index of first colliding Rect or -1.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;.</span>collidelistall(<span style="color:#f92672">&lt;</span>list_of_Rect<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># Returns indices of all colliding Rects.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="surface">
        Surface
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#surface" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Surface" aria-label="Anchor to: Surface" href="#surface">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<p><strong>Object for representing images.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>display<span style="color:#f92672">.</span>set_mode((width, height))   <span style="color:#75715e"># Returns the display surface.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>Surface((width, height))            <span style="color:#75715e"># Creates a new surface.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>image<span style="color:#f92672">.</span>load(<span style="color:#e6db74">&#39;&lt;path&gt;&#39;</span>)                <span style="color:#75715e"># Loads the image.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;.</span>subsurface(<span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;</span>)              <span style="color:#75715e"># Returns a subsurface.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;.</span>fill(color)                              <span style="color:#75715e"># Fills the whole surface.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;.</span>set_at((x, y), color)                    <span style="color:#75715e"># Updates pixel.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;.</span>blit(<span style="color:#f92672">&lt;</span>Surface<span style="color:#f92672">&gt;</span>, (x, y))                  <span style="color:#75715e"># Draws passed surface to the surface.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>transform<span style="color:#f92672">.</span>flip(<span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span>, xbool, ybool)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>transform<span style="color:#f92672">.</span>rotate(<span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span>, degrees)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>transform<span style="color:#f92672">.</span>scale(<span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span>, (width, height))
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pg<span style="color:#f92672">.</span>draw<span style="color:#f92672">.</span>line(<span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span>, color, (x1, y1), (x2, y2), width)
</span></span><span style="display:flex;"><span>pg<span style="color:#f92672">.</span>draw<span style="color:#f92672">.</span>arc(<span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span>, color, <span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;</span>, from_radians, to_radians)
</span></span><span style="display:flex;"><span>pg<span style="color:#f92672">.</span>draw<span style="color:#f92672">.</span>rect(<span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span>, color, <span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>pg<span style="color:#f92672">.</span>draw<span style="color:#f92672">.</span>polygon(<span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span>, color, points)
</span></span><span style="display:flex;"><span>pg<span style="color:#f92672">.</span>draw<span style="color:#f92672">.</span>ellipse(<span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span>, color, <span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="font">
        Font
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#font" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Font" aria-label="Anchor to: Font" href="#font">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Font<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>font<span style="color:#f92672">.</span>SysFont(<span style="color:#e6db74">&#39;&lt;name&gt;&#39;</span>, size, bold<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>, italic<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Font<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>font<span style="color:#f92672">.</span>Font(<span style="color:#e6db74">&#39;&lt;path&gt;&#39;</span>, size)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Font<span style="color:#f92672">&gt;.</span>render(text, antialias, color, background<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>)
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="sound">
        Sound
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#sound" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Sound" aria-label="Anchor to: Sound" href="#sound">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sound<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>mixer<span style="color:#f92672">.</span>Sound(<span style="color:#e6db74">&#39;&lt;path&gt;&#39;</span>)              <span style="color:#75715e"># Loads the WAV file.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sound<span style="color:#f92672">&gt;.</span>play()                                  <span style="color:#75715e"># Starts playing the sound.</span>
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h3 id="basic-mario-brothers-example">
        Basic Mario Brothers Example
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#basic-mario-brothers-example" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Basic Mario Brothers Example" aria-label="Anchor to: Basic Mario Brothers Example" href="#basic-mario-brothers-example">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h3>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> collections<span style="color:#f92672">,</span> dataclasses<span style="color:#f92672">,</span> enum<span style="color:#f92672">,</span> io<span style="color:#f92672">,</span> pygame<span style="color:#f92672">,</span> urllib.request<span style="color:#f92672">,</span> itertools <span style="color:#66d9ef">as</span> it
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> randint
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>P <span style="color:#f92672">=</span> collections<span style="color:#f92672">.</span>namedtuple(<span style="color:#e6db74">&#39;P&#39;</span>, <span style="color:#e6db74">&#39;x y&#39;</span>)          <span style="color:#75715e"># Position</span>
</span></span><span style="display:flex;"><span>D <span style="color:#f92672">=</span> enum<span style="color:#f92672">.</span>Enum(<span style="color:#e6db74">&#39;D&#39;</span>, <span style="color:#e6db74">&#39;n e s w&#39;</span>)                   <span style="color:#75715e"># Direction</span>
</span></span><span style="display:flex;"><span>SIZE, MAX_SPEED <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span>, P(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">10</span>)                  <span style="color:#75715e"># Screen size, Speed limit</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_screen</span>():
</span></span><span style="display:flex;"><span>        pygame<span style="color:#f92672">.</span>init()
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> pygame<span style="color:#f92672">.</span>display<span style="color:#f92672">.</span>set_mode(<span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> [SIZE<span style="color:#f92672">*</span><span style="color:#ae81ff">16</span>])
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_images</span>():
</span></span><span style="display:flex;"><span>        url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://gto76.github.io/python-cheatsheet/web/mario_bros.png&#39;</span>
</span></span><span style="display:flex;"><span>        img <span style="color:#f92672">=</span> pygame<span style="color:#f92672">.</span>image<span style="color:#f92672">.</span>load(io<span style="color:#f92672">.</span>BytesIO(urllib<span style="color:#f92672">.</span>request<span style="color:#f92672">.</span>urlopen(url)<span style="color:#f92672">.</span>read()))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> [img<span style="color:#f92672">.</span>subsurface(get_rect(x, <span style="color:#ae81ff">0</span>)) <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> range(img<span style="color:#f92672">.</span>get_width() <span style="color:#f92672">//</span> <span style="color:#ae81ff">16</span>)]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_mario</span>():
</span></span><span style="display:flex;"><span>        Mario <span style="color:#f92672">=</span> dataclasses<span style="color:#f92672">.</span>make_dataclass(<span style="color:#e6db74">&#39;Mario&#39;</span>, <span style="color:#e6db74">&#39;rect spd facing_left frame_cycle&#39;</span><span style="color:#f92672">.</span>split())
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> Mario(get_rect(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>), P(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>), <span style="color:#66d9ef">False</span>, it<span style="color:#f92672">.</span>cycle(range(<span style="color:#ae81ff">3</span>)))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_tiles</span>():
</span></span><span style="display:flex;"><span>        positions <span style="color:#f92672">=</span> [p <span style="color:#66d9ef">for</span> p <span style="color:#f92672">in</span> it<span style="color:#f92672">.</span>product(range(SIZE), repeat<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>) <span style="color:#66d9ef">if</span> {<span style="color:#f92672">*</span>p} <span style="color:#f92672">&amp;</span> {<span style="color:#ae81ff">0</span>, SIZE<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>}] <span style="color:#f92672">+</span> \
</span></span><span style="display:flex;"><span>            [(randint(<span style="color:#ae81ff">1</span>, SIZE<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>), randint(<span style="color:#ae81ff">2</span>, SIZE<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>)) <span style="color:#66d9ef">for</span> _ <span style="color:#f92672">in</span> range(SIZE<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">//</span> <span style="color:#ae81ff">10</span>)]
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> [get_rect(<span style="color:#f92672">*</span>p) <span style="color:#66d9ef">for</span> p <span style="color:#f92672">in</span> positions]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_rect</span>(x, y):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> pygame<span style="color:#f92672">.</span>Rect(x<span style="color:#f92672">*</span><span style="color:#ae81ff">16</span>, y<span style="color:#f92672">*</span><span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">16</span>)
</span></span><span style="display:flex;"><span>    run(get_screen(), get_images(), get_mario(), get_tiles())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">run</span>(screen, images, mario, tiles):
</span></span><span style="display:flex;"><span>    clock <span style="color:#f92672">=</span> pygame<span style="color:#f92672">.</span>time<span style="color:#f92672">.</span>Clock()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> all(event<span style="color:#f92672">.</span>type <span style="color:#f92672">!=</span> pygame<span style="color:#f92672">.</span>QUIT <span style="color:#66d9ef">for</span> event <span style="color:#f92672">in</span> pygame<span style="color:#f92672">.</span>event<span style="color:#f92672">.</span>get()):
</span></span><span style="display:flex;"><span>        keys <span style="color:#f92672">=</span> {pygame<span style="color:#f92672">.</span>K_UP: D<span style="color:#f92672">.</span>n, pygame<span style="color:#f92672">.</span>K_RIGHT: D<span style="color:#f92672">.</span>e, pygame<span style="color:#f92672">.</span>K_DOWN: D<span style="color:#f92672">.</span>s, pygame<span style="color:#f92672">.</span>K_LEFT: D<span style="color:#f92672">.</span>w}
</span></span><span style="display:flex;"><span>        pressed <span style="color:#f92672">=</span> {keys<span style="color:#f92672">.</span>get(i) <span style="color:#66d9ef">for</span> i, on <span style="color:#f92672">in</span> enumerate(pygame<span style="color:#f92672">.</span>key<span style="color:#f92672">.</span>get_pressed()) <span style="color:#66d9ef">if</span> on}
</span></span><span style="display:flex;"><span>        update_speed(mario, tiles, pressed)
</span></span><span style="display:flex;"><span>        update_position(mario, tiles)
</span></span><span style="display:flex;"><span>        draw(screen, images, mario, tiles, pressed)
</span></span><span style="display:flex;"><span>        clock<span style="color:#f92672">.</span>tick(<span style="color:#ae81ff">28</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">update_speed</span>(mario, tiles, pressed):
</span></span><span style="display:flex;"><span>    x, y <span style="color:#f92672">=</span> mario<span style="color:#f92672">.</span>spd
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">+=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> ((D<span style="color:#f92672">.</span>e <span style="color:#f92672">in</span> pressed) <span style="color:#f92672">-</span> (D<span style="color:#f92672">.</span>w <span style="color:#f92672">in</span> pressed))
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">-=</span> x <span style="color:#f92672">/</span> abs(x) <span style="color:#66d9ef">if</span> x <span style="color:#66d9ef">else</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">if</span> D<span style="color:#f92672">.</span>s <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> get_boundaries(mario<span style="color:#f92672">.</span>rect, tiles) <span style="color:#66d9ef">else</span> (<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span> <span style="color:#66d9ef">if</span> D<span style="color:#f92672">.</span>n <span style="color:#f92672">in</span> pressed <span style="color:#66d9ef">else</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    mario<span style="color:#f92672">.</span>spd <span style="color:#f92672">=</span> P(<span style="color:#f92672">*</span>[max(<span style="color:#f92672">-</span>limit, min(limit, s)) <span style="color:#66d9ef">for</span> limit, s <span style="color:#f92672">in</span> zip(MAX_SPEED, P(x, y))])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">update_position</span>(mario, tiles):
</span></span><span style="display:flex;"><span>    old_p, delta <span style="color:#f92672">=</span> mario<span style="color:#f92672">.</span>rect<span style="color:#f92672">.</span>topleft, P(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    larger_speed <span style="color:#f92672">=</span> max(abs(s) <span style="color:#66d9ef">for</span> s <span style="color:#f92672">in</span> mario<span style="color:#f92672">.</span>spd)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> _ <span style="color:#f92672">in</span> range(int(larger_speed)):
</span></span><span style="display:flex;"><span>        mario<span style="color:#f92672">.</span>spd <span style="color:#f92672">=</span> stop_on_collision(mario<span style="color:#f92672">.</span>spd, get_boundaries(mario<span style="color:#f92672">.</span>rect, tiles))
</span></span><span style="display:flex;"><span>        delta <span style="color:#f92672">=</span> P(<span style="color:#f92672">*</span>[a <span style="color:#f92672">+</span> s<span style="color:#f92672">/</span>larger_speed <span style="color:#66d9ef">for</span> a, s <span style="color:#f92672">in</span> zip(delta, mario<span style="color:#f92672">.</span>spd)])
</span></span><span style="display:flex;"><span>        mario<span style="color:#f92672">.</span>rect<span style="color:#f92672">.</span>topleft <span style="color:#f92672">=</span> [sum(pair) <span style="color:#66d9ef">for</span> pair <span style="color:#f92672">in</span> zip(old_p, delta)]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_boundaries</span>(rect, tiles):
</span></span><span style="display:flex;"><span>    deltas <span style="color:#f92672">=</span> {D<span style="color:#f92672">.</span>n: P(<span style="color:#ae81ff">0</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>), D<span style="color:#f92672">.</span>e: P(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>), D<span style="color:#f92672">.</span>s: P(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>), D<span style="color:#f92672">.</span>w: P(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>)}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> {d <span style="color:#66d9ef">for</span> d, delta <span style="color:#f92672">in</span> deltas<span style="color:#f92672">.</span>items() <span style="color:#66d9ef">if</span> rect<span style="color:#f92672">.</span>move(delta)<span style="color:#f92672">.</span>collidelist(tiles) <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">stop_on_collision</span>(spd, bounds):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> P(x<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> <span style="color:#66d9ef">if</span> (D<span style="color:#f92672">.</span>w <span style="color:#f92672">in</span> bounds <span style="color:#f92672">and</span> spd<span style="color:#f92672">.</span>x <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>) <span style="color:#f92672">or</span> (D<span style="color:#f92672">.</span>e <span style="color:#f92672">in</span> bounds <span style="color:#f92672">and</span> spd<span style="color:#f92672">.</span>x <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">else</span> spd<span style="color:#f92672">.</span>x,
</span></span><span style="display:flex;"><span>             y<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> <span style="color:#66d9ef">if</span> (D<span style="color:#f92672">.</span>n <span style="color:#f92672">in</span> bounds <span style="color:#f92672">and</span> spd<span style="color:#f92672">.</span>y <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>) <span style="color:#f92672">or</span> (D<span style="color:#f92672">.</span>s <span style="color:#f92672">in</span> bounds <span style="color:#f92672">and</span> spd<span style="color:#f92672">.</span>y <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">else</span> spd<span style="color:#f92672">.</span>y)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">draw</span>(screen, images, mario, tiles, pressed):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_frame_index</span>():
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> D<span style="color:#f92672">.</span>s <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> get_boundaries(mario<span style="color:#f92672">.</span>rect, tiles):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> next(mario<span style="color:#f92672">.</span>frame_cycle) <span style="color:#66d9ef">if</span> {D<span style="color:#f92672">.</span>w, D<span style="color:#f92672">.</span>e} <span style="color:#f92672">&amp;</span> pressed <span style="color:#66d9ef">else</span> <span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span>    screen<span style="color:#f92672">.</span>fill((<span style="color:#ae81ff">85</span>, <span style="color:#ae81ff">168</span>, <span style="color:#ae81ff">255</span>))
</span></span><span style="display:flex;"><span>    mario<span style="color:#f92672">.</span>facing_left <span style="color:#f92672">=</span> (D<span style="color:#f92672">.</span>w <span style="color:#f92672">in</span> pressed) <span style="color:#66d9ef">if</span> {D<span style="color:#f92672">.</span>e, D<span style="color:#f92672">.</span>w} <span style="color:#f92672">&amp;</span> pressed <span style="color:#66d9ef">else</span> mario<span style="color:#f92672">.</span>facing_left
</span></span><span style="display:flex;"><span>    screen<span style="color:#f92672">.</span>blit(images[get_frame_index() <span style="color:#f92672">+</span> mario<span style="color:#f92672">.</span>facing_left <span style="color:#f92672">*</span> <span style="color:#ae81ff">9</span>], mario<span style="color:#f92672">.</span>rect)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> rect <span style="color:#f92672">in</span> tiles:
</span></span><span style="display:flex;"><span>        screen<span style="color:#f92672">.</span>blit(images[<span style="color:#ae81ff">18</span> <span style="color:#66d9ef">if</span> {<span style="color:#f92672">*</span>rect<span style="color:#f92672">.</span>topleft} <span style="color:#f92672">&amp;</span> {<span style="color:#ae81ff">0</span>, (SIZE<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">16</span>} <span style="color:#66d9ef">else</span> <span style="color:#ae81ff">19</span>], rect)
</span></span><span style="display:flex;"><span>    pygame<span style="color:#f92672">.</span>display<span style="color:#f92672">.</span>flip()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    main()
</span></span></code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="basic-script-template">
        Basic Script Template
        <a data-clipboard-text="https://blog.wujy.vip/python/python_cheat_sheet/#basic-script-template" class="gdoc-page__anchor gdoc-page__anchor--right clip" title="Anchor to: Basic Script Template" aria-label="Anchor to: Basic Script Template" href="#basic-script-template">
            <svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#!/usr/bin/env python3</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Usage: .py</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> namedtuple
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> dataclasses <span style="color:#f92672">import</span> make_dataclass
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> enum <span style="color:#f92672">import</span> Enum
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sys <span style="color:#f92672">import</span> argv
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">###</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">##  UTIL</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_file</span>(filename):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> file<span style="color:#f92672">.</span>readlines()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    main()
</span></span></code></pre></div>
  </article>



          <div class="gdoc-page__footer flex flex-wrap justify-between">
            








  
  

  







          </div>
        </div>
      </main>

      <footer class="gdoc-footer">
  <nav class="container flex">
    <div>
      <section class="flex flex-wrap align-center">
        <span class="gdoc-footer__item gdoc-footer__item--row">
          Built with <a href="https://gohugo.io/" class="gdoc-footer__link">Hugo</a> and <svg class="gdoc-icon gdoc_heart"><use xlink:href="#gdoc_heart"></use></svg>

        </span>
        
        
      </section>
      
    </div>
    
      <div class="flex flex-25 justify-end">
        <span class="gdoc-footer__item text-right">
          <a class="gdoc-footer__link fake-link" href="#" aria-label="Back to top">
            <svg class="gdoc-icon gdoc_keyboard_arrow_up">
              <use xlink:href="#gdoc_keyboard_arrow_up"></use>
            </svg>
            <span class="hidden-mobile">Back to top</span>
          </a>
        </span>
      </div>
    
  </nav>
</footer>

    </div>

    
  <script defer src="/js/search-1c4cfb2d.bundle.min.js"></script>

  </body>
</html>
